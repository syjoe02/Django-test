{"created": 1770811448.104459, "duration": 2.891557216644287, "exitcode": 1, "root": "/Users/joe/Desktop/hackerton2026/Hackonomics-2026", "environment": {}, "summary": {"failed": 24, "passed": 3, "total": 27, "collected": 27}, "collectors": [{"nodeid": "", "outcome": "passed", "result": [{"nodeid": "tests.py", "type": "Module"}]}, {"nodeid": "tests.py", "outcome": "passed", "result": [{"nodeid": "tests.py::test_usd_to_currency_success", "type": "Function", "lineno": 19}, {"nodeid": "tests.py::test_usd_to_currency_invalid_method", "type": "Function", "lineno": 25}, {"nodeid": "tests.py::test_exchange_history_success", "type": "Function", "lineno": 31}, {"nodeid": "tests.py::test_exchange_history_invalid_method", "type": "Function", "lineno": 37}, {"nodeid": "tests.py::test_country_list_success", "type": "Function", "lineno": 45}, {"nodeid": "tests.py::test_country_list_invalid_method", "type": "Function", "lineno": 51}, {"nodeid": "tests.py::test_country_detail_success", "type": "Function", "lineno": 57}, {"nodeid": "tests.py::test_country_detail_invalid_method", "type": "Function", "lineno": 63}, {"nodeid": "tests.py::test_compare_dca_vs_deposit_success", "type": "Function", "lineno": 71}, {"nodeid": "tests.py::test_compare_dca_vs_deposit_empty_payload", "type": "Function", "lineno": 82}, {"nodeid": "tests.py::test_compare_dca_vs_deposit_invalid_method", "type": "Function", "lineno": 92}, {"nodeid": "tests.py::test_account_me_success", "type": "Function", "lineno": 100}, {"nodeid": "tests.py::test_account_me_invalid_method", "type": "Function", "lineno": 106}, {"nodeid": "tests.py::test_my_exchange_rate_success", "type": "Function", "lineno": 112}, {"nodeid": "tests.py::test_my_exchange_rate_invalid_method", "type": "Function", "lineno": 118}, {"nodeid": "tests.py::test_calendar_init_empty_payload", "type": "Function", "lineno": 130}, {"nodeid": "tests.py::test_calendar_oauth_login_success", "type": "Function", "lineno": 136}, {"nodeid": "tests.py::test_calendar_categories_delete_success", "type": "Function", "lineno": 142}, {"nodeid": "tests.py::test_calendar_event_delete_success", "type": "Function", "lineno": 151}, {"nodeid": "tests.py::test_calendar_advisor_empty_payload", "type": "Function", "lineno": 160}, {"nodeid": "tests.py::test_login_empty_payload", "type": "Function", "lineno": 172}, {"nodeid": "tests.py::test_login_invalid_method", "type": "Function", "lineno": 182}, {"nodeid": "tests.py::test_google_login_success", "type": "Function", "lineno": 188}, {"nodeid": "tests.py::test_logout_empty_payload", "type": "Function", "lineno": 194}, {"nodeid": "tests.py::test_signup_empty_payload", "type": "Function", "lineno": 204}, {"nodeid": "tests.py::test_refresh_empty_payload", "type": "Function", "lineno": 214}, {"nodeid": "tests.py::test_auth_me_success", "type": "Function", "lineno": 224}]}], "tests": [{"nodeid": "tests.py::test_usd_to_currency_success", "lineno": 19, "outcome": "failed", "keywords": ["test_usd_to_currency_success", "django_db", "pytestmark", "tests.py", "Hackonomics-2026", ""], "setup": {"duration": 0.6154580829897895, "outcome": "passed"}, "call": {"duration": 0.5818664999969769, "outcome": "failed", "crash": {"path": "/Users/joe/Desktop/hackerton2026/Hackonomics-2026/authentication/application/services/verify_service.py", "lineno": 19, "message": "common.errors.exceptions.BusinessException: ErrorCode.TOKEN_INVALID"}, "traceback": [{"path": "tests.py", "lineno": 22, "message": ""}, {"path": "venv/lib/python3.13/site-packages/rest_framework/test.py", "lineno": 292, "message": "in get"}, {"path": "venv/lib/python3.13/site-packages/rest_framework/test.py", "lineno": 209, "message": "in get"}, {"path": "venv/lib/python3.13/site-packages/rest_framework/test.py", "lineno": 237, "message": "in generic"}, {"path": "venv/lib/python3.13/site-packages/django/test/client.py", "lineno": 671, "message": "in generic"}, {"path": "venv/lib/python3.13/site-packages/rest_framework/test.py", "lineno": 289, "message": "in request"}, {"path": "venv/lib/python3.13/site-packages/rest_framework/test.py", "lineno": 241, "message": "in request"}, {"path": "venv/lib/python3.13/site-packages/django/test/client.py", "lineno": 1087, "message": "in request"}, {"path": "venv/lib/python3.13/site-packages/django/test/client.py", "lineno": 802, "message": "in check_exception"}, {"path": "venv/lib/python3.13/site-packages/django/core/handlers/exception.py", "lineno": 55, "message": "in inner"}, {"path": "venv/lib/python3.13/site-packages/django/core/handlers/base.py", "lineno": 198, "message": "in _get_response"}, {"path": "venv/lib/python3.13/site-packages/django/views/decorators/csrf.py", "lineno": 65, "message": "in _view_wrapper"}, {"path": "venv/lib/python3.13/site-packages/django/views/generic/base.py", "lineno": 106, "message": "in view"}, {"path": "venv/lib/python3.13/site-packages/rest_framework/views.py", "lineno": 515, "message": "in dispatch"}, {"path": "venv/lib/python3.13/site-packages/rest_framework/views.py", "lineno": 475, "message": "in handle_exception"}, {"path": "venv/lib/python3.13/site-packages/rest_framework/views.py", "lineno": 486, "message": "in raise_uncaught_exception"}, {"path": "venv/lib/python3.13/site-packages/rest_framework/views.py", "lineno": 503, "message": "in dispatch"}, {"path": "venv/lib/python3.13/site-packages/rest_framework/views.py", "lineno": 420, "message": "in initial"}, {"path": "venv/lib/python3.13/site-packages/rest_framework/views.py", "lineno": 330, "message": "in perform_authentication"}, {"path": "venv/lib/python3.13/site-packages/rest_framework/request.py", "lineno": 232, "message": "in user"}, {"path": "venv/lib/python3.13/site-packages/rest_framework/request.py", "lineno": 385, "message": "in _authenticate"}, {"path": "authentication/adapters/django/jwt_authentication.py", "lineno": 35, "message": "in authenticate"}, {"path": "authentication/application/services/authentication_service.py", "lineno": 35, "message": "in verify"}, {"path": "authentication/application/services/verify_service.py", "lineno": 19, "message": "BusinessException"}], "log": [{"name": "django.request", "msg": "Internal Server Error: /api/exchange/usd-to/KRW/", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/Users/joe/Desktop/hackerton2026/Hackonomics-2026/venv/lib/python3.13/site-packages/django/utils/log.py", "filename": "log.py", "module": "log", "exc_info": null, "exc_text": "Traceback (most recent call last):\n  File \"/Users/joe/Desktop/hackerton2026/Hackonomics-2026/authentication/application/services/verify_service.py\", line 17, in verify\n    payload = self.central_auth.verify(access_token)\n  File \"/Users/joe/Desktop/hackerton2026/Hackonomics-2026/authentication/adapters/django/auth_service.py\", line 57, in verify\n    raise Exception(\"Invalid token\")\nException: Invalid token\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/Users/joe/Desktop/hackerton2026/Hackonomics-2026/venv/lib/python3.13/site-packages/django/core/handlers/exception.py\", line 55, in inner\n    response = get_response(request)\n  File \"/Users/joe/Desktop/hackerton2026/Hackonomics-2026/venv/lib/python3.13/site-packages/django/core/handlers/base.py\", line 198, in _get_response\n    response = wrapped_callback(request, *callback_args, **callback_kwargs)\n  File \"/Users/joe/Desktop/hackerton2026/Hackonomics-2026/venv/lib/python3.13/site-packages/django/views/decorators/csrf.py\", line 65, in _view_wrapper\n    return view_func(request, *args, **kwargs)\n  File \"/Users/joe/Desktop/hackerton2026/Hackonomics-2026/venv/lib/python3.13/site-packages/django/views/generic/base.py\", line 106, in view\n    return self.dispatch(request, *args, **kwargs)\n           ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/Users/joe/Desktop/hackerton2026/Hackonomics-2026/venv/lib/python3.13/site-packages/rest_framework/views.py\", line 515, in dispatch\n    response = self.handle_exception(exc)\n  File \"/Users/joe/Desktop/hackerton2026/Hackonomics-2026/venv/lib/python3.13/site-packages/rest_framework/views.py\", line 475, in handle_exception\n    self.raise_uncaught_exception(exc)\n    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^\n  File \"/Users/joe/Desktop/hackerton2026/Hackonomics-2026/venv/lib/python3.13/site-packages/rest_framework/views.py\", line 486, in raise_uncaught_exception\n    raise exc\n  File \"/Users/joe/Desktop/hackerton2026/Hackonomics-2026/venv/lib/python3.13/site-packages/rest_framework/views.py\", line 503, in dispatch\n    self.initial(request, *args, **kwargs)\n    ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/Users/joe/Desktop/hackerton2026/Hackonomics-2026/venv/lib/python3.13/site-packages/rest_framework/views.py\", line 420, in initial\n    self.perform_authentication(request)\n    ~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^\n  File \"/Users/joe/Desktop/hackerton2026/Hackonomics-2026/venv/lib/python3.13/site-packages/rest_framework/views.py\", line 330, in perform_authentication\n    request.user\n  File \"/Users/joe/Desktop/hackerton2026/Hackonomics-2026/venv/lib/python3.13/site-packages/rest_framework/request.py\", line 232, in user\n    self._authenticate()\n    ~~~~~~~~~~~~~~~~~~^^\n  File \"/Users/joe/Desktop/hackerton2026/Hackonomics-2026/venv/lib/python3.13/site-packages/rest_framework/request.py\", line 385, in _authenticate\n    user_auth_tuple = authenticator.authenticate(self)\n  File \"/Users/joe/Desktop/hackerton2026/Hackonomics-2026/authentication/adapters/django/jwt_authentication.py\", line 35, in authenticate\n    payload = service.verify(token)\n  File \"/Users/joe/Desktop/hackerton2026/Hackonomics-2026/authentication/application/services/authentication_service.py\", line 35, in verify\n    result = service.verify(access_token)\n  File \"/Users/joe/Desktop/hackerton2026/Hackonomics-2026/authentication/application/services/verify_service.py\", line 19, in verify\n    raise BusinessException(ErrorCode.TOKEN_INVALID)\ncommon.errors.exceptions.BusinessException: ErrorCode.TOKEN_INVALID", "stack_info": null, "lineno": 249, "funcName": "log_message", "created": 1770811446.427089, "msecs": 427.0, "relativeCreated": 1627.689, "thread": 8602078784, "threadName": "MainThread", "processName": "MainProcess", "process": 40963, "taskName": null, "request": "<WSGIRequest: GET '/api/exchange/usd-to/KRW/'>", "status_code": 500}], "longrepr": "self = <authentication.application.services.verify_service.VerifyService object at 0x1129af750>\naccess_token = 'testtoken'\n\n    def verify(self, access_token: str) -> dict:\n        if not access_token:\n            raise BusinessException(ErrorCode.UNAUTHORIZED)\n    \n        try:\n>           payload = self.central_auth.verify(access_token)\n                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n\nauthentication/application/services/verify_service.py:17: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <authentication.adapters.django.auth_service.CentralAuthAdapter object at 0x10e5e1490>\naccess_token = 'testtoken'\n\n    def verify(self, access_token: str):\n        res = requests.post(\n            f\"{settings.CENTRAL_AUTH_URL}/auth/verify\",\n            headers={\n                \"X-Service-Key\": settings.CENTRAL_AUTH_SERVICE_KEY,\n                \"Authorization\": f\"Bearer {access_token}\",\n            },\n            timeout=settings.CENTRAL_AUTH_TIMEOUT,\n        )\n    \n        if res.status_code != 200:\n>           raise Exception(\"Invalid token\")\nE           Exception: Invalid token\n\nauthentication/adapters/django/auth_service.py:57: Exception\n\nDuring handling of the above exception, another exception occurred:\n\napi_client = <rest_framework.test.APIClient object at 0x10ef85e80>\n\n    @pytest.mark.django_db\n    def test_usd_to_currency_success(api_client):\n>       response = api_client.get(\"/api/exchange/usd-to/KRW/\")\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n\ntests.py:22: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \nvenv/lib/python3.13/site-packages/rest_framework/test.py:292: in get\n    response = super().get(path, data=data, **extra)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nvenv/lib/python3.13/site-packages/rest_framework/test.py:209: in get\n    return self.generic('GET', path, **r)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nvenv/lib/python3.13/site-packages/rest_framework/test.py:237: in generic\n    return super().generic(\nvenv/lib/python3.13/site-packages/django/test/client.py:671: in generic\n    return self.request(**r)\n           ^^^^^^^^^^^^^^^^^\nvenv/lib/python3.13/site-packages/rest_framework/test.py:289: in request\n    return super().request(**kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^\nvenv/lib/python3.13/site-packages/rest_framework/test.py:241: in request\n    request = super().request(**kwargs)\n              ^^^^^^^^^^^^^^^^^^^^^^^^^\nvenv/lib/python3.13/site-packages/django/test/client.py:1087: in request\n    self.check_exception(response)\nvenv/lib/python3.13/site-packages/django/test/client.py:802: in check_exception\n    raise exc_value\nvenv/lib/python3.13/site-packages/django/core/handlers/exception.py:55: in inner\n    response = get_response(request)\n               ^^^^^^^^^^^^^^^^^^^^^\nvenv/lib/python3.13/site-packages/django/core/handlers/base.py:198: in _get_response\n    response = wrapped_callback(request, *callback_args, **callback_kwargs)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nvenv/lib/python3.13/site-packages/django/views/decorators/csrf.py:65: in _view_wrapper\n    return view_func(request, *args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nvenv/lib/python3.13/site-packages/django/views/generic/base.py:106: in view\n    return self.dispatch(request, *args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nvenv/lib/python3.13/site-packages/rest_framework/views.py:515: in dispatch\n    response = self.handle_exception(exc)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^\nvenv/lib/python3.13/site-packages/rest_framework/views.py:475: in handle_exception\n    self.raise_uncaught_exception(exc)\nvenv/lib/python3.13/site-packages/rest_framework/views.py:486: in raise_uncaught_exception\n    raise exc\nvenv/lib/python3.13/site-packages/rest_framework/views.py:503: in dispatch\n    self.initial(request, *args, **kwargs)\nvenv/lib/python3.13/site-packages/rest_framework/views.py:420: in initial\n    self.perform_authentication(request)\nvenv/lib/python3.13/site-packages/rest_framework/views.py:330: in perform_authentication\n    request.user\nvenv/lib/python3.13/site-packages/rest_framework/request.py:232: in user\n    self._authenticate()\nvenv/lib/python3.13/site-packages/rest_framework/request.py:385: in _authenticate\n    user_auth_tuple = authenticator.authenticate(self)\n                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nauthentication/adapters/django/jwt_authentication.py:35: in authenticate\n    payload = service.verify(token)\n              ^^^^^^^^^^^^^^^^^^^^^\nauthentication/application/services/authentication_service.py:35: in verify\n    result = service.verify(access_token)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <authentication.application.services.verify_service.VerifyService object at 0x1129af750>\naccess_token = 'testtoken'\n\n    def verify(self, access_token: str) -> dict:\n        if not access_token:\n            raise BusinessException(ErrorCode.UNAUTHORIZED)\n    \n        try:\n            payload = self.central_auth.verify(access_token)\n        except Exception:\n>           raise BusinessException(ErrorCode.TOKEN_INVALID)\nE           common.errors.exceptions.BusinessException: ErrorCode.TOKEN_INVALID\n\nauthentication/application/services/verify_service.py:19: BusinessException"}, "teardown": {"duration": 0.0064153330167755485, "outcome": "passed"}}, {"nodeid": "tests.py::test_usd_to_currency_invalid_method", "lineno": 25, "outcome": "failed", "keywords": ["test_usd_to_currency_invalid_method", "django_db", "pytestmark", "tests.py", "Hackonomics-2026", ""], "setup": {"duration": 0.0007145830022636801, "outcome": "passed"}, "call": {"duration": 0.004334666999056935, "outcome": "failed", "crash": {"path": "/Users/joe/Desktop/hackerton2026/Hackonomics-2026/authentication/application/services/verify_service.py", "lineno": 19, "message": "common.errors.exceptions.BusinessException: ErrorCode.TOKEN_INVALID"}, "traceback": [{"path": "tests.py", "lineno": 28, "message": ""}, {"path": "venv/lib/python3.13/site-packages/rest_framework/test.py", "lineno": 299, "message": "in post"}, {"path": "venv/lib/python3.13/site-packages/rest_framework/test.py", "lineno": 213, "message": "in post"}, {"path": "venv/lib/python3.13/site-packages/rest_framework/test.py", "lineno": 237, "message": "in generic"}, {"path": "venv/lib/python3.13/site-packages/django/test/client.py", "lineno": 671, "message": "in generic"}, {"path": "venv/lib/python3.13/site-packages/rest_framework/test.py", "lineno": 289, "message": "in request"}, {"path": "venv/lib/python3.13/site-packages/rest_framework/test.py", "lineno": 241, "message": "in request"}, {"path": "venv/lib/python3.13/site-packages/django/test/client.py", "lineno": 1087, "message": "in request"}, {"path": "venv/lib/python3.13/site-packages/django/test/client.py", "lineno": 802, "message": "in check_exception"}, {"path": "venv/lib/python3.13/site-packages/django/core/handlers/exception.py", "lineno": 55, "message": "in inner"}, {"path": "venv/lib/python3.13/site-packages/django/core/handlers/base.py", "lineno": 198, "message": "in _get_response"}, {"path": "venv/lib/python3.13/site-packages/django/views/decorators/csrf.py", "lineno": 65, "message": "in _view_wrapper"}, {"path": "venv/lib/python3.13/site-packages/django/views/generic/base.py", "lineno": 106, "message": "in view"}, {"path": "venv/lib/python3.13/site-packages/rest_framework/views.py", "lineno": 515, "message": "in dispatch"}, {"path": "venv/lib/python3.13/site-packages/rest_framework/views.py", "lineno": 475, "message": "in handle_exception"}, {"path": "venv/lib/python3.13/site-packages/rest_framework/views.py", "lineno": 486, "message": "in raise_uncaught_exception"}, {"path": "venv/lib/python3.13/site-packages/rest_framework/views.py", "lineno": 503, "message": "in dispatch"}, {"path": "venv/lib/python3.13/site-packages/rest_framework/views.py", "lineno": 420, "message": "in initial"}, {"path": "venv/lib/python3.13/site-packages/rest_framework/views.py", "lineno": 330, "message": "in perform_authentication"}, {"path": "venv/lib/python3.13/site-packages/rest_framework/request.py", "lineno": 232, "message": "in user"}, {"path": "venv/lib/python3.13/site-packages/rest_framework/request.py", "lineno": 385, "message": "in _authenticate"}, {"path": "authentication/adapters/django/jwt_authentication.py", "lineno": 35, "message": "in authenticate"}, {"path": "authentication/application/services/authentication_service.py", "lineno": 35, "message": "in verify"}, {"path": "authentication/application/services/verify_service.py", "lineno": 19, "message": "BusinessException"}], "log": [{"name": "django.request", "msg": "Internal Server Error: /api/exchange/usd-to/KRW/", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/Users/joe/Desktop/hackerton2026/Hackonomics-2026/venv/lib/python3.13/site-packages/django/utils/log.py", "filename": "log.py", "module": "log", "exc_info": null, "exc_text": "Traceback (most recent call last):\n  File \"/Users/joe/Desktop/hackerton2026/Hackonomics-2026/authentication/application/services/verify_service.py\", line 17, in verify\n    payload = self.central_auth.verify(access_token)\n  File \"/Users/joe/Desktop/hackerton2026/Hackonomics-2026/authentication/adapters/django/auth_service.py\", line 57, in verify\n    raise Exception(\"Invalid token\")\nException: Invalid token\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/Users/joe/Desktop/hackerton2026/Hackonomics-2026/venv/lib/python3.13/site-packages/django/core/handlers/exception.py\", line 55, in inner\n    response = get_response(request)\n  File \"/Users/joe/Desktop/hackerton2026/Hackonomics-2026/venv/lib/python3.13/site-packages/django/core/handlers/base.py\", line 198, in _get_response\n    response = wrapped_callback(request, *callback_args, **callback_kwargs)\n  File \"/Users/joe/Desktop/hackerton2026/Hackonomics-2026/venv/lib/python3.13/site-packages/django/views/decorators/csrf.py\", line 65, in _view_wrapper\n    return view_func(request, *args, **kwargs)\n  File \"/Users/joe/Desktop/hackerton2026/Hackonomics-2026/venv/lib/python3.13/site-packages/django/views/generic/base.py\", line 106, in view\n    return self.dispatch(request, *args, **kwargs)\n           ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/Users/joe/Desktop/hackerton2026/Hackonomics-2026/venv/lib/python3.13/site-packages/rest_framework/views.py\", line 515, in dispatch\n    response = self.handle_exception(exc)\n  File \"/Users/joe/Desktop/hackerton2026/Hackonomics-2026/venv/lib/python3.13/site-packages/rest_framework/views.py\", line 475, in handle_exception\n    self.raise_uncaught_exception(exc)\n    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^\n  File \"/Users/joe/Desktop/hackerton2026/Hackonomics-2026/venv/lib/python3.13/site-packages/rest_framework/views.py\", line 486, in raise_uncaught_exception\n    raise exc\n  File \"/Users/joe/Desktop/hackerton2026/Hackonomics-2026/venv/lib/python3.13/site-packages/rest_framework/views.py\", line 503, in dispatch\n    self.initial(request, *args, **kwargs)\n    ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/Users/joe/Desktop/hackerton2026/Hackonomics-2026/venv/lib/python3.13/site-packages/rest_framework/views.py\", line 420, in initial\n    self.perform_authentication(request)\n    ~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^\n  File \"/Users/joe/Desktop/hackerton2026/Hackonomics-2026/venv/lib/python3.13/site-packages/rest_framework/views.py\", line 330, in perform_authentication\n    request.user\n  File \"/Users/joe/Desktop/hackerton2026/Hackonomics-2026/venv/lib/python3.13/site-packages/rest_framework/request.py\", line 232, in user\n    self._authenticate()\n    ~~~~~~~~~~~~~~~~~~^^\n  File \"/Users/joe/Desktop/hackerton2026/Hackonomics-2026/venv/lib/python3.13/site-packages/rest_framework/request.py\", line 385, in _authenticate\n    user_auth_tuple = authenticator.authenticate(self)\n  File \"/Users/joe/Desktop/hackerton2026/Hackonomics-2026/authentication/adapters/django/jwt_authentication.py\", line 35, in authenticate\n    payload = service.verify(token)\n  File \"/Users/joe/Desktop/hackerton2026/Hackonomics-2026/authentication/application/services/authentication_service.py\", line 35, in verify\n    result = service.verify(access_token)\n  File \"/Users/joe/Desktop/hackerton2026/Hackonomics-2026/authentication/application/services/verify_service.py\", line 19, in verify\n    raise BusinessException(ErrorCode.TOKEN_INVALID)\ncommon.errors.exceptions.BusinessException: ErrorCode.TOKEN_INVALID", "stack_info": null, "lineno": 249, "funcName": "log_message", "created": 1770811446.554365, "msecs": 554.0, "relativeCreated": 1754.965, "thread": 8602078784, "threadName": "MainThread", "processName": "MainProcess", "process": 40963, "taskName": null, "request": "<WSGIRequest: POST '/api/exchange/usd-to/KRW/'>", "status_code": 500}], "longrepr": "self = <authentication.application.services.verify_service.VerifyService object at 0x112b10b00>\naccess_token = 'testtoken'\n\n    def verify(self, access_token: str) -> dict:\n        if not access_token:\n            raise BusinessException(ErrorCode.UNAUTHORIZED)\n    \n        try:\n>           payload = self.central_auth.verify(access_token)\n                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n\nauthentication/application/services/verify_service.py:17: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <authentication.adapters.django.auth_service.CentralAuthAdapter object at 0x112a7b200>\naccess_token = 'testtoken'\n\n    def verify(self, access_token: str):\n        res = requests.post(\n            f\"{settings.CENTRAL_AUTH_URL}/auth/verify\",\n            headers={\n                \"X-Service-Key\": settings.CENTRAL_AUTH_SERVICE_KEY,\n                \"Authorization\": f\"Bearer {access_token}\",\n            },\n            timeout=settings.CENTRAL_AUTH_TIMEOUT,\n        )\n    \n        if res.status_code != 200:\n>           raise Exception(\"Invalid token\")\nE           Exception: Invalid token\n\nauthentication/adapters/django/auth_service.py:57: Exception\n\nDuring handling of the above exception, another exception occurred:\n\napi_client = <rest_framework.test.APIClient object at 0x112ad9bd0>\n\n    @pytest.mark.django_db\n    def test_usd_to_currency_invalid_method(api_client):\n>       response = api_client.post(\"/api/exchange/usd-to/KRW/\", data={})\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n\ntests.py:28: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \nvenv/lib/python3.13/site-packages/rest_framework/test.py:299: in post\n    response = super().post(\nvenv/lib/python3.13/site-packages/rest_framework/test.py:213: in post\n    return self.generic('POST', path, data, content_type, **extra)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nvenv/lib/python3.13/site-packages/rest_framework/test.py:237: in generic\n    return super().generic(\nvenv/lib/python3.13/site-packages/django/test/client.py:671: in generic\n    return self.request(**r)\n           ^^^^^^^^^^^^^^^^^\nvenv/lib/python3.13/site-packages/rest_framework/test.py:289: in request\n    return super().request(**kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^\nvenv/lib/python3.13/site-packages/rest_framework/test.py:241: in request\n    request = super().request(**kwargs)\n              ^^^^^^^^^^^^^^^^^^^^^^^^^\nvenv/lib/python3.13/site-packages/django/test/client.py:1087: in request\n    self.check_exception(response)\nvenv/lib/python3.13/site-packages/django/test/client.py:802: in check_exception\n    raise exc_value\nvenv/lib/python3.13/site-packages/django/core/handlers/exception.py:55: in inner\n    response = get_response(request)\n               ^^^^^^^^^^^^^^^^^^^^^\nvenv/lib/python3.13/site-packages/django/core/handlers/base.py:198: in _get_response\n    response = wrapped_callback(request, *callback_args, **callback_kwargs)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nvenv/lib/python3.13/site-packages/django/views/decorators/csrf.py:65: in _view_wrapper\n    return view_func(request, *args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nvenv/lib/python3.13/site-packages/django/views/generic/base.py:106: in view\n    return self.dispatch(request, *args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nvenv/lib/python3.13/site-packages/rest_framework/views.py:515: in dispatch\n    response = self.handle_exception(exc)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^\nvenv/lib/python3.13/site-packages/rest_framework/views.py:475: in handle_exception\n    self.raise_uncaught_exception(exc)\nvenv/lib/python3.13/site-packages/rest_framework/views.py:486: in raise_uncaught_exception\n    raise exc\nvenv/lib/python3.13/site-packages/rest_framework/views.py:503: in dispatch\n    self.initial(request, *args, **kwargs)\nvenv/lib/python3.13/site-packages/rest_framework/views.py:420: in initial\n    self.perform_authentication(request)\nvenv/lib/python3.13/site-packages/rest_framework/views.py:330: in perform_authentication\n    request.user\nvenv/lib/python3.13/site-packages/rest_framework/request.py:232: in user\n    self._authenticate()\nvenv/lib/python3.13/site-packages/rest_framework/request.py:385: in _authenticate\n    user_auth_tuple = authenticator.authenticate(self)\n                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nauthentication/adapters/django/jwt_authentication.py:35: in authenticate\n    payload = service.verify(token)\n              ^^^^^^^^^^^^^^^^^^^^^\nauthentication/application/services/authentication_service.py:35: in verify\n    result = service.verify(access_token)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <authentication.application.services.verify_service.VerifyService object at 0x112b10b00>\naccess_token = 'testtoken'\n\n    def verify(self, access_token: str) -> dict:\n        if not access_token:\n            raise BusinessException(ErrorCode.UNAUTHORIZED)\n    \n        try:\n            payload = self.central_auth.verify(access_token)\n        except Exception:\n>           raise BusinessException(ErrorCode.TOKEN_INVALID)\nE           common.errors.exceptions.BusinessException: ErrorCode.TOKEN_INVALID\n\nauthentication/application/services/verify_service.py:19: BusinessException"}, "teardown": {"duration": 0.0048292500141542405, "outcome": "passed"}}, {"nodeid": "tests.py::test_exchange_history_success", "lineno": 31, "outcome": "failed", "keywords": ["test_exchange_history_success", "django_db", "pytestmark", "tests.py", "Hackonomics-2026", ""], "setup": {"duration": 0.0005710420082323253, "outcome": "passed"}, "call": {"duration": 0.004062833992065862, "outcome": "failed", "crash": {"path": "/Users/joe/Desktop/hackerton2026/Hackonomics-2026/authentication/application/services/verify_service.py", "lineno": 19, "message": "common.errors.exceptions.BusinessException: ErrorCode.TOKEN_INVALID"}, "traceback": [{"path": "tests.py", "lineno": 34, "message": ""}, {"path": "venv/lib/python3.13/site-packages/rest_framework/test.py", "lineno": 292, "message": "in get"}, {"path": "venv/lib/python3.13/site-packages/rest_framework/test.py", "lineno": 209, "message": "in get"}, {"path": "venv/lib/python3.13/site-packages/rest_framework/test.py", "lineno": 237, "message": "in generic"}, {"path": "venv/lib/python3.13/site-packages/django/test/client.py", "lineno": 671, "message": "in generic"}, {"path": "venv/lib/python3.13/site-packages/rest_framework/test.py", "lineno": 289, "message": "in request"}, {"path": "venv/lib/python3.13/site-packages/rest_framework/test.py", "lineno": 241, "message": "in request"}, {"path": "venv/lib/python3.13/site-packages/django/test/client.py", "lineno": 1087, "message": "in request"}, {"path": "venv/lib/python3.13/site-packages/django/test/client.py", "lineno": 802, "message": "in check_exception"}, {"path": "venv/lib/python3.13/site-packages/django/core/handlers/exception.py", "lineno": 55, "message": "in inner"}, {"path": "venv/lib/python3.13/site-packages/django/core/handlers/base.py", "lineno": 198, "message": "in _get_response"}, {"path": "venv/lib/python3.13/site-packages/django/views/decorators/csrf.py", "lineno": 65, "message": "in _view_wrapper"}, {"path": "venv/lib/python3.13/site-packages/django/views/generic/base.py", "lineno": 106, "message": "in view"}, {"path": "venv/lib/python3.13/site-packages/rest_framework/views.py", "lineno": 515, "message": "in dispatch"}, {"path": "venv/lib/python3.13/site-packages/rest_framework/views.py", "lineno": 475, "message": "in handle_exception"}, {"path": "venv/lib/python3.13/site-packages/rest_framework/views.py", "lineno": 486, "message": "in raise_uncaught_exception"}, {"path": "venv/lib/python3.13/site-packages/rest_framework/views.py", "lineno": 503, "message": "in dispatch"}, {"path": "venv/lib/python3.13/site-packages/rest_framework/views.py", "lineno": 420, "message": "in initial"}, {"path": "venv/lib/python3.13/site-packages/rest_framework/views.py", "lineno": 330, "message": "in perform_authentication"}, {"path": "venv/lib/python3.13/site-packages/rest_framework/request.py", "lineno": 232, "message": "in user"}, {"path": "venv/lib/python3.13/site-packages/rest_framework/request.py", "lineno": 385, "message": "in _authenticate"}, {"path": "authentication/adapters/django/jwt_authentication.py", "lineno": 35, "message": "in authenticate"}, {"path": "authentication/application/services/authentication_service.py", "lineno": 35, "message": "in verify"}, {"path": "authentication/application/services/verify_service.py", "lineno": 19, "message": "BusinessException"}], "log": [{"name": "django.request", "msg": "Internal Server Error: /api/exchange/history/", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/Users/joe/Desktop/hackerton2026/Hackonomics-2026/venv/lib/python3.13/site-packages/django/utils/log.py", "filename": "log.py", "module": "log", "exc_info": null, "exc_text": "Traceback (most recent call last):\n  File \"/Users/joe/Desktop/hackerton2026/Hackonomics-2026/authentication/application/services/verify_service.py\", line 17, in verify\n    payload = self.central_auth.verify(access_token)\n  File \"/Users/joe/Desktop/hackerton2026/Hackonomics-2026/authentication/adapters/django/auth_service.py\", line 57, in verify\n    raise Exception(\"Invalid token\")\nException: Invalid token\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/Users/joe/Desktop/hackerton2026/Hackonomics-2026/venv/lib/python3.13/site-packages/django/core/handlers/exception.py\", line 55, in inner\n    response = get_response(request)\n  File \"/Users/joe/Desktop/hackerton2026/Hackonomics-2026/venv/lib/python3.13/site-packages/django/core/handlers/base.py\", line 198, in _get_response\n    response = wrapped_callback(request, *callback_args, **callback_kwargs)\n  File \"/Users/joe/Desktop/hackerton2026/Hackonomics-2026/venv/lib/python3.13/site-packages/django/views/decorators/csrf.py\", line 65, in _view_wrapper\n    return view_func(request, *args, **kwargs)\n  File \"/Users/joe/Desktop/hackerton2026/Hackonomics-2026/venv/lib/python3.13/site-packages/django/views/generic/base.py\", line 106, in view\n    return self.dispatch(request, *args, **kwargs)\n           ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/Users/joe/Desktop/hackerton2026/Hackonomics-2026/venv/lib/python3.13/site-packages/rest_framework/views.py\", line 515, in dispatch\n    response = self.handle_exception(exc)\n  File \"/Users/joe/Desktop/hackerton2026/Hackonomics-2026/venv/lib/python3.13/site-packages/rest_framework/views.py\", line 475, in handle_exception\n    self.raise_uncaught_exception(exc)\n    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^\n  File \"/Users/joe/Desktop/hackerton2026/Hackonomics-2026/venv/lib/python3.13/site-packages/rest_framework/views.py\", line 486, in raise_uncaught_exception\n    raise exc\n  File \"/Users/joe/Desktop/hackerton2026/Hackonomics-2026/venv/lib/python3.13/site-packages/rest_framework/views.py\", line 503, in dispatch\n    self.initial(request, *args, **kwargs)\n    ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/Users/joe/Desktop/hackerton2026/Hackonomics-2026/venv/lib/python3.13/site-packages/rest_framework/views.py\", line 420, in initial\n    self.perform_authentication(request)\n    ~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^\n  File \"/Users/joe/Desktop/hackerton2026/Hackonomics-2026/venv/lib/python3.13/site-packages/rest_framework/views.py\", line 330, in perform_authentication\n    request.user\n  File \"/Users/joe/Desktop/hackerton2026/Hackonomics-2026/venv/lib/python3.13/site-packages/rest_framework/request.py\", line 232, in user\n    self._authenticate()\n    ~~~~~~~~~~~~~~~~~~^^\n  File \"/Users/joe/Desktop/hackerton2026/Hackonomics-2026/venv/lib/python3.13/site-packages/rest_framework/request.py\", line 385, in _authenticate\n    user_auth_tuple = authenticator.authenticate(self)\n  File \"/Users/joe/Desktop/hackerton2026/Hackonomics-2026/authentication/adapters/django/jwt_authentication.py\", line 35, in authenticate\n    payload = service.verify(token)\n  File \"/Users/joe/Desktop/hackerton2026/Hackonomics-2026/authentication/application/services/authentication_service.py\", line 35, in verify\n    result = service.verify(access_token)\n  File \"/Users/joe/Desktop/hackerton2026/Hackonomics-2026/authentication/application/services/verify_service.py\", line 19, in verify\n    raise BusinessException(ErrorCode.TOKEN_INVALID)\ncommon.errors.exceptions.BusinessException: ErrorCode.TOKEN_INVALID", "stack_info": null, "lineno": 249, "funcName": "log_message", "created": 1770811446.6190689, "msecs": 619.0, "relativeCreated": 1819.669, "thread": 8602078784, "threadName": "MainThread", "processName": "MainProcess", "process": 40963, "taskName": null, "request": "<WSGIRequest: GET '/api/exchange/history/'>", "status_code": 500}], "longrepr": "self = <authentication.application.services.verify_service.VerifyService object at 0x112a928d0>\naccess_token = 'testtoken'\n\n    def verify(self, access_token: str) -> dict:\n        if not access_token:\n            raise BusinessException(ErrorCode.UNAUTHORIZED)\n    \n        try:\n>           payload = self.central_auth.verify(access_token)\n                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n\nauthentication/application/services/verify_service.py:17: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <authentication.adapters.django.auth_service.CentralAuthAdapter object at 0x112b945d0>\naccess_token = 'testtoken'\n\n    def verify(self, access_token: str):\n        res = requests.post(\n            f\"{settings.CENTRAL_AUTH_URL}/auth/verify\",\n            headers={\n                \"X-Service-Key\": settings.CENTRAL_AUTH_SERVICE_KEY,\n                \"Authorization\": f\"Bearer {access_token}\",\n            },\n            timeout=settings.CENTRAL_AUTH_TIMEOUT,\n        )\n    \n        if res.status_code != 200:\n>           raise Exception(\"Invalid token\")\nE           Exception: Invalid token\n\nauthentication/adapters/django/auth_service.py:57: Exception\n\nDuring handling of the above exception, another exception occurred:\n\napi_client = <rest_framework.test.APIClient object at 0x112be0cd0>\n\n    @pytest.mark.django_db\n    def test_exchange_history_success(api_client):\n>       response = api_client.get(\"/api/exchange/history/\")\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n\ntests.py:34: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \nvenv/lib/python3.13/site-packages/rest_framework/test.py:292: in get\n    response = super().get(path, data=data, **extra)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nvenv/lib/python3.13/site-packages/rest_framework/test.py:209: in get\n    return self.generic('GET', path, **r)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nvenv/lib/python3.13/site-packages/rest_framework/test.py:237: in generic\n    return super().generic(\nvenv/lib/python3.13/site-packages/django/test/client.py:671: in generic\n    return self.request(**r)\n           ^^^^^^^^^^^^^^^^^\nvenv/lib/python3.13/site-packages/rest_framework/test.py:289: in request\n    return super().request(**kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^\nvenv/lib/python3.13/site-packages/rest_framework/test.py:241: in request\n    request = super().request(**kwargs)\n              ^^^^^^^^^^^^^^^^^^^^^^^^^\nvenv/lib/python3.13/site-packages/django/test/client.py:1087: in request\n    self.check_exception(response)\nvenv/lib/python3.13/site-packages/django/test/client.py:802: in check_exception\n    raise exc_value\nvenv/lib/python3.13/site-packages/django/core/handlers/exception.py:55: in inner\n    response = get_response(request)\n               ^^^^^^^^^^^^^^^^^^^^^\nvenv/lib/python3.13/site-packages/django/core/handlers/base.py:198: in _get_response\n    response = wrapped_callback(request, *callback_args, **callback_kwargs)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nvenv/lib/python3.13/site-packages/django/views/decorators/csrf.py:65: in _view_wrapper\n    return view_func(request, *args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nvenv/lib/python3.13/site-packages/django/views/generic/base.py:106: in view\n    return self.dispatch(request, *args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nvenv/lib/python3.13/site-packages/rest_framework/views.py:515: in dispatch\n    response = self.handle_exception(exc)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^\nvenv/lib/python3.13/site-packages/rest_framework/views.py:475: in handle_exception\n    self.raise_uncaught_exception(exc)\nvenv/lib/python3.13/site-packages/rest_framework/views.py:486: in raise_uncaught_exception\n    raise exc\nvenv/lib/python3.13/site-packages/rest_framework/views.py:503: in dispatch\n    self.initial(request, *args, **kwargs)\nvenv/lib/python3.13/site-packages/rest_framework/views.py:420: in initial\n    self.perform_authentication(request)\nvenv/lib/python3.13/site-packages/rest_framework/views.py:330: in perform_authentication\n    request.user\nvenv/lib/python3.13/site-packages/rest_framework/request.py:232: in user\n    self._authenticate()\nvenv/lib/python3.13/site-packages/rest_framework/request.py:385: in _authenticate\n    user_auth_tuple = authenticator.authenticate(self)\n                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nauthentication/adapters/django/jwt_authentication.py:35: in authenticate\n    payload = service.verify(token)\n              ^^^^^^^^^^^^^^^^^^^^^\nauthentication/application/services/authentication_service.py:35: in verify\n    result = service.verify(access_token)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <authentication.application.services.verify_service.VerifyService object at 0x112a928d0>\naccess_token = 'testtoken'\n\n    def verify(self, access_token: str) -> dict:\n        if not access_token:\n            raise BusinessException(ErrorCode.UNAUTHORIZED)\n    \n        try:\n            payload = self.central_auth.verify(access_token)\n        except Exception:\n>           raise BusinessException(ErrorCode.TOKEN_INVALID)\nE           common.errors.exceptions.BusinessException: ErrorCode.TOKEN_INVALID\n\nauthentication/application/services/verify_service.py:19: BusinessException"}, "teardown": {"duration": 0.004387374996440485, "outcome": "passed"}}, {"nodeid": "tests.py::test_exchange_history_invalid_method", "lineno": 37, "outcome": "failed", "keywords": ["test_exchange_history_invalid_method", "django_db", "pytestmark", "tests.py", "Hackonomics-2026", ""], "setup": {"duration": 0.000576916994759813, "outcome": "passed"}, "call": {"duration": 0.004201292002107948, "outcome": "failed", "crash": {"path": "/Users/joe/Desktop/hackerton2026/Hackonomics-2026/authentication/application/services/verify_service.py", "lineno": 19, "message": "common.errors.exceptions.BusinessException: ErrorCode.TOKEN_INVALID"}, "traceback": [{"path": "tests.py", "lineno": 40, "message": ""}, {"path": "venv/lib/python3.13/site-packages/rest_framework/test.py", "lineno": 299, "message": "in post"}, {"path": "venv/lib/python3.13/site-packages/rest_framework/test.py", "lineno": 213, "message": "in post"}, {"path": "venv/lib/python3.13/site-packages/rest_framework/test.py", "lineno": 237, "message": "in generic"}, {"path": "venv/lib/python3.13/site-packages/django/test/client.py", "lineno": 671, "message": "in generic"}, {"path": "venv/lib/python3.13/site-packages/rest_framework/test.py", "lineno": 289, "message": "in request"}, {"path": "venv/lib/python3.13/site-packages/rest_framework/test.py", "lineno": 241, "message": "in request"}, {"path": "venv/lib/python3.13/site-packages/django/test/client.py", "lineno": 1087, "message": "in request"}, {"path": "venv/lib/python3.13/site-packages/django/test/client.py", "lineno": 802, "message": "in check_exception"}, {"path": "venv/lib/python3.13/site-packages/django/core/handlers/exception.py", "lineno": 55, "message": "in inner"}, {"path": "venv/lib/python3.13/site-packages/django/core/handlers/base.py", "lineno": 198, "message": "in _get_response"}, {"path": "venv/lib/python3.13/site-packages/django/views/decorators/csrf.py", "lineno": 65, "message": "in _view_wrapper"}, {"path": "venv/lib/python3.13/site-packages/django/views/generic/base.py", "lineno": 106, "message": "in view"}, {"path": "venv/lib/python3.13/site-packages/rest_framework/views.py", "lineno": 515, "message": "in dispatch"}, {"path": "venv/lib/python3.13/site-packages/rest_framework/views.py", "lineno": 475, "message": "in handle_exception"}, {"path": "venv/lib/python3.13/site-packages/rest_framework/views.py", "lineno": 486, "message": "in raise_uncaught_exception"}, {"path": "venv/lib/python3.13/site-packages/rest_framework/views.py", "lineno": 503, "message": "in dispatch"}, {"path": "venv/lib/python3.13/site-packages/rest_framework/views.py", "lineno": 420, "message": "in initial"}, {"path": "venv/lib/python3.13/site-packages/rest_framework/views.py", "lineno": 330, "message": "in perform_authentication"}, {"path": "venv/lib/python3.13/site-packages/rest_framework/request.py", "lineno": 232, "message": "in user"}, {"path": "venv/lib/python3.13/site-packages/rest_framework/request.py", "lineno": 385, "message": "in _authenticate"}, {"path": "authentication/adapters/django/jwt_authentication.py", "lineno": 35, "message": "in authenticate"}, {"path": "authentication/application/services/authentication_service.py", "lineno": 35, "message": "in verify"}, {"path": "authentication/application/services/verify_service.py", "lineno": 19, "message": "BusinessException"}], "log": [{"name": "django.request", "msg": "Internal Server Error: /api/exchange/history/", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/Users/joe/Desktop/hackerton2026/Hackonomics-2026/venv/lib/python3.13/site-packages/django/utils/log.py", "filename": "log.py", "module": "log", "exc_info": null, "exc_text": "Traceback (most recent call last):\n  File \"/Users/joe/Desktop/hackerton2026/Hackonomics-2026/authentication/application/services/verify_service.py\", line 17, in verify\n    payload = self.central_auth.verify(access_token)\n  File \"/Users/joe/Desktop/hackerton2026/Hackonomics-2026/authentication/adapters/django/auth_service.py\", line 57, in verify\n    raise Exception(\"Invalid token\")\nException: Invalid token\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/Users/joe/Desktop/hackerton2026/Hackonomics-2026/venv/lib/python3.13/site-packages/django/core/handlers/exception.py\", line 55, in inner\n    response = get_response(request)\n  File \"/Users/joe/Desktop/hackerton2026/Hackonomics-2026/venv/lib/python3.13/site-packages/django/core/handlers/base.py\", line 198, in _get_response\n    response = wrapped_callback(request, *callback_args, **callback_kwargs)\n  File \"/Users/joe/Desktop/hackerton2026/Hackonomics-2026/venv/lib/python3.13/site-packages/django/views/decorators/csrf.py\", line 65, in _view_wrapper\n    return view_func(request, *args, **kwargs)\n  File \"/Users/joe/Desktop/hackerton2026/Hackonomics-2026/venv/lib/python3.13/site-packages/django/views/generic/base.py\", line 106, in view\n    return self.dispatch(request, *args, **kwargs)\n           ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/Users/joe/Desktop/hackerton2026/Hackonomics-2026/venv/lib/python3.13/site-packages/rest_framework/views.py\", line 515, in dispatch\n    response = self.handle_exception(exc)\n  File \"/Users/joe/Desktop/hackerton2026/Hackonomics-2026/venv/lib/python3.13/site-packages/rest_framework/views.py\", line 475, in handle_exception\n    self.raise_uncaught_exception(exc)\n    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^\n  File \"/Users/joe/Desktop/hackerton2026/Hackonomics-2026/venv/lib/python3.13/site-packages/rest_framework/views.py\", line 486, in raise_uncaught_exception\n    raise exc\n  File \"/Users/joe/Desktop/hackerton2026/Hackonomics-2026/venv/lib/python3.13/site-packages/rest_framework/views.py\", line 503, in dispatch\n    self.initial(request, *args, **kwargs)\n    ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/Users/joe/Desktop/hackerton2026/Hackonomics-2026/venv/lib/python3.13/site-packages/rest_framework/views.py\", line 420, in initial\n    self.perform_authentication(request)\n    ~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^\n  File \"/Users/joe/Desktop/hackerton2026/Hackonomics-2026/venv/lib/python3.13/site-packages/rest_framework/views.py\", line 330, in perform_authentication\n    request.user\n  File \"/Users/joe/Desktop/hackerton2026/Hackonomics-2026/venv/lib/python3.13/site-packages/rest_framework/request.py\", line 232, in user\n    self._authenticate()\n    ~~~~~~~~~~~~~~~~~~^^\n  File \"/Users/joe/Desktop/hackerton2026/Hackonomics-2026/venv/lib/python3.13/site-packages/rest_framework/request.py\", line 385, in _authenticate\n    user_auth_tuple = authenticator.authenticate(self)\n  File \"/Users/joe/Desktop/hackerton2026/Hackonomics-2026/authentication/adapters/django/jwt_authentication.py\", line 35, in authenticate\n    payload = service.verify(token)\n  File \"/Users/joe/Desktop/hackerton2026/Hackonomics-2026/authentication/application/services/authentication_service.py\", line 35, in verify\n    result = service.verify(access_token)\n  File \"/Users/joe/Desktop/hackerton2026/Hackonomics-2026/authentication/application/services/verify_service.py\", line 19, in verify\n    raise BusinessException(ErrorCode.TOKEN_INVALID)\ncommon.errors.exceptions.BusinessException: ErrorCode.TOKEN_INVALID", "stack_info": null, "lineno": 249, "funcName": "log_message", "created": 1770811446.681619, "msecs": 681.0, "relativeCreated": 1882.219, "thread": 8602078784, "threadName": "MainThread", "processName": "MainProcess", "process": 40963, "taskName": null, "request": "<WSGIRequest: POST '/api/exchange/history/'>", "status_code": 500}], "longrepr": "self = <authentication.application.services.verify_service.VerifyService object at 0x112bba360>\naccess_token = 'testtoken'\n\n    def verify(self, access_token: str) -> dict:\n        if not access_token:\n            raise BusinessException(ErrorCode.UNAUTHORIZED)\n    \n        try:\n>           payload = self.central_auth.verify(access_token)\n                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n\nauthentication/application/services/verify_service.py:17: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <authentication.adapters.django.auth_service.CentralAuthAdapter object at 0x112e8e3d0>\naccess_token = 'testtoken'\n\n    def verify(self, access_token: str):\n        res = requests.post(\n            f\"{settings.CENTRAL_AUTH_URL}/auth/verify\",\n            headers={\n                \"X-Service-Key\": settings.CENTRAL_AUTH_SERVICE_KEY,\n                \"Authorization\": f\"Bearer {access_token}\",\n            },\n            timeout=settings.CENTRAL_AUTH_TIMEOUT,\n        )\n    \n        if res.status_code != 200:\n>           raise Exception(\"Invalid token\")\nE           Exception: Invalid token\n\nauthentication/adapters/django/auth_service.py:57: Exception\n\nDuring handling of the above exception, another exception occurred:\n\napi_client = <rest_framework.test.APIClient object at 0x112b12780>\n\n    @pytest.mark.django_db\n    def test_exchange_history_invalid_method(api_client):\n>       response = api_client.post(\"/api/exchange/history/\", data={})\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n\ntests.py:40: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \nvenv/lib/python3.13/site-packages/rest_framework/test.py:299: in post\n    response = super().post(\nvenv/lib/python3.13/site-packages/rest_framework/test.py:213: in post\n    return self.generic('POST', path, data, content_type, **extra)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nvenv/lib/python3.13/site-packages/rest_framework/test.py:237: in generic\n    return super().generic(\nvenv/lib/python3.13/site-packages/django/test/client.py:671: in generic\n    return self.request(**r)\n           ^^^^^^^^^^^^^^^^^\nvenv/lib/python3.13/site-packages/rest_framework/test.py:289: in request\n    return super().request(**kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^\nvenv/lib/python3.13/site-packages/rest_framework/test.py:241: in request\n    request = super().request(**kwargs)\n              ^^^^^^^^^^^^^^^^^^^^^^^^^\nvenv/lib/python3.13/site-packages/django/test/client.py:1087: in request\n    self.check_exception(response)\nvenv/lib/python3.13/site-packages/django/test/client.py:802: in check_exception\n    raise exc_value\nvenv/lib/python3.13/site-packages/django/core/handlers/exception.py:55: in inner\n    response = get_response(request)\n               ^^^^^^^^^^^^^^^^^^^^^\nvenv/lib/python3.13/site-packages/django/core/handlers/base.py:198: in _get_response\n    response = wrapped_callback(request, *callback_args, **callback_kwargs)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nvenv/lib/python3.13/site-packages/django/views/decorators/csrf.py:65: in _view_wrapper\n    return view_func(request, *args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nvenv/lib/python3.13/site-packages/django/views/generic/base.py:106: in view\n    return self.dispatch(request, *args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nvenv/lib/python3.13/site-packages/rest_framework/views.py:515: in dispatch\n    response = self.handle_exception(exc)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^\nvenv/lib/python3.13/site-packages/rest_framework/views.py:475: in handle_exception\n    self.raise_uncaught_exception(exc)\nvenv/lib/python3.13/site-packages/rest_framework/views.py:486: in raise_uncaught_exception\n    raise exc\nvenv/lib/python3.13/site-packages/rest_framework/views.py:503: in dispatch\n    self.initial(request, *args, **kwargs)\nvenv/lib/python3.13/site-packages/rest_framework/views.py:420: in initial\n    self.perform_authentication(request)\nvenv/lib/python3.13/site-packages/rest_framework/views.py:330: in perform_authentication\n    request.user\nvenv/lib/python3.13/site-packages/rest_framework/request.py:232: in user\n    self._authenticate()\nvenv/lib/python3.13/site-packages/rest_framework/request.py:385: in _authenticate\n    user_auth_tuple = authenticator.authenticate(self)\n                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nauthentication/adapters/django/jwt_authentication.py:35: in authenticate\n    payload = service.verify(token)\n              ^^^^^^^^^^^^^^^^^^^^^\nauthentication/application/services/authentication_service.py:35: in verify\n    result = service.verify(access_token)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <authentication.application.services.verify_service.VerifyService object at 0x112bba360>\naccess_token = 'testtoken'\n\n    def verify(self, access_token: str) -> dict:\n        if not access_token:\n            raise BusinessException(ErrorCode.UNAUTHORIZED)\n    \n        try:\n            payload = self.central_auth.verify(access_token)\n        except Exception:\n>           raise BusinessException(ErrorCode.TOKEN_INVALID)\nE           common.errors.exceptions.BusinessException: ErrorCode.TOKEN_INVALID\n\nauthentication/application/services/verify_service.py:19: BusinessException"}, "teardown": {"duration": 0.004116083000553772, "outcome": "passed"}}, {"nodeid": "tests.py::test_country_list_success", "lineno": 45, "outcome": "failed", "keywords": ["test_country_list_success", "django_db", "pytestmark", "tests.py", "Hackonomics-2026", ""], "setup": {"duration": 0.0005693749990314245, "outcome": "passed"}, "call": {"duration": 0.0036636250151786953, "outcome": "failed", "crash": {"path": "/Users/joe/Desktop/hackerton2026/Hackonomics-2026/authentication/application/services/verify_service.py", "lineno": 19, "message": "common.errors.exceptions.BusinessException: ErrorCode.TOKEN_INVALID"}, "traceback": [{"path": "tests.py", "lineno": 48, "message": ""}, {"path": "venv/lib/python3.13/site-packages/rest_framework/test.py", "lineno": 292, "message": "in get"}, {"path": "venv/lib/python3.13/site-packages/rest_framework/test.py", "lineno": 209, "message": "in get"}, {"path": "venv/lib/python3.13/site-packages/rest_framework/test.py", "lineno": 237, "message": "in generic"}, {"path": "venv/lib/python3.13/site-packages/django/test/client.py", "lineno": 671, "message": "in generic"}, {"path": "venv/lib/python3.13/site-packages/rest_framework/test.py", "lineno": 289, "message": "in request"}, {"path": "venv/lib/python3.13/site-packages/rest_framework/test.py", "lineno": 241, "message": "in request"}, {"path": "venv/lib/python3.13/site-packages/django/test/client.py", "lineno": 1087, "message": "in request"}, {"path": "venv/lib/python3.13/site-packages/django/test/client.py", "lineno": 802, "message": "in check_exception"}, {"path": "venv/lib/python3.13/site-packages/django/core/handlers/exception.py", "lineno": 55, "message": "in inner"}, {"path": "venv/lib/python3.13/site-packages/django/core/handlers/base.py", "lineno": 198, "message": "in _get_response"}, {"path": "venv/lib/python3.13/site-packages/django/views/decorators/csrf.py", "lineno": 65, "message": "in _view_wrapper"}, {"path": "venv/lib/python3.13/site-packages/django/views/generic/base.py", "lineno": 106, "message": "in view"}, {"path": "venv/lib/python3.13/site-packages/rest_framework/views.py", "lineno": 515, "message": "in dispatch"}, {"path": "venv/lib/python3.13/site-packages/rest_framework/views.py", "lineno": 475, "message": "in handle_exception"}, {"path": "venv/lib/python3.13/site-packages/rest_framework/views.py", "lineno": 486, "message": "in raise_uncaught_exception"}, {"path": "venv/lib/python3.13/site-packages/rest_framework/views.py", "lineno": 503, "message": "in dispatch"}, {"path": "venv/lib/python3.13/site-packages/rest_framework/views.py", "lineno": 420, "message": "in initial"}, {"path": "venv/lib/python3.13/site-packages/rest_framework/views.py", "lineno": 330, "message": "in perform_authentication"}, {"path": "venv/lib/python3.13/site-packages/rest_framework/request.py", "lineno": 232, "message": "in user"}, {"path": "venv/lib/python3.13/site-packages/rest_framework/request.py", "lineno": 385, "message": "in _authenticate"}, {"path": "authentication/adapters/django/jwt_authentication.py", "lineno": 35, "message": "in authenticate"}, {"path": "authentication/application/services/authentication_service.py", "lineno": 35, "message": "in verify"}, {"path": "authentication/application/services/verify_service.py", "lineno": 19, "message": "BusinessException"}], "log": [{"name": "django.request", "msg": "Internal Server Error: /api/meta/countries/", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/Users/joe/Desktop/hackerton2026/Hackonomics-2026/venv/lib/python3.13/site-packages/django/utils/log.py", "filename": "log.py", "module": "log", "exc_info": null, "exc_text": "Traceback (most recent call last):\n  File \"/Users/joe/Desktop/hackerton2026/Hackonomics-2026/authentication/application/services/verify_service.py\", line 17, in verify\n    payload = self.central_auth.verify(access_token)\n  File \"/Users/joe/Desktop/hackerton2026/Hackonomics-2026/authentication/adapters/django/auth_service.py\", line 57, in verify\n    raise Exception(\"Invalid token\")\nException: Invalid token\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/Users/joe/Desktop/hackerton2026/Hackonomics-2026/venv/lib/python3.13/site-packages/django/core/handlers/exception.py\", line 55, in inner\n    response = get_response(request)\n  File \"/Users/joe/Desktop/hackerton2026/Hackonomics-2026/venv/lib/python3.13/site-packages/django/core/handlers/base.py\", line 198, in _get_response\n    response = wrapped_callback(request, *callback_args, **callback_kwargs)\n  File \"/Users/joe/Desktop/hackerton2026/Hackonomics-2026/venv/lib/python3.13/site-packages/django/views/decorators/csrf.py\", line 65, in _view_wrapper\n    return view_func(request, *args, **kwargs)\n  File \"/Users/joe/Desktop/hackerton2026/Hackonomics-2026/venv/lib/python3.13/site-packages/django/views/generic/base.py\", line 106, in view\n    return self.dispatch(request, *args, **kwargs)\n           ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/Users/joe/Desktop/hackerton2026/Hackonomics-2026/venv/lib/python3.13/site-packages/rest_framework/views.py\", line 515, in dispatch\n    response = self.handle_exception(exc)\n  File \"/Users/joe/Desktop/hackerton2026/Hackonomics-2026/venv/lib/python3.13/site-packages/rest_framework/views.py\", line 475, in handle_exception\n    self.raise_uncaught_exception(exc)\n    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^\n  File \"/Users/joe/Desktop/hackerton2026/Hackonomics-2026/venv/lib/python3.13/site-packages/rest_framework/views.py\", line 486, in raise_uncaught_exception\n    raise exc\n  File \"/Users/joe/Desktop/hackerton2026/Hackonomics-2026/venv/lib/python3.13/site-packages/rest_framework/views.py\", line 503, in dispatch\n    self.initial(request, *args, **kwargs)\n    ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/Users/joe/Desktop/hackerton2026/Hackonomics-2026/venv/lib/python3.13/site-packages/rest_framework/views.py\", line 420, in initial\n    self.perform_authentication(request)\n    ~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^\n  File \"/Users/joe/Desktop/hackerton2026/Hackonomics-2026/venv/lib/python3.13/site-packages/rest_framework/views.py\", line 330, in perform_authentication\n    request.user\n  File \"/Users/joe/Desktop/hackerton2026/Hackonomics-2026/venv/lib/python3.13/site-packages/rest_framework/request.py\", line 232, in user\n    self._authenticate()\n    ~~~~~~~~~~~~~~~~~~^^\n  File \"/Users/joe/Desktop/hackerton2026/Hackonomics-2026/venv/lib/python3.13/site-packages/rest_framework/request.py\", line 385, in _authenticate\n    user_auth_tuple = authenticator.authenticate(self)\n  File \"/Users/joe/Desktop/hackerton2026/Hackonomics-2026/authentication/adapters/django/jwt_authentication.py\", line 35, in authenticate\n    payload = service.verify(token)\n  File \"/Users/joe/Desktop/hackerton2026/Hackonomics-2026/authentication/application/services/authentication_service.py\", line 35, in verify\n    result = service.verify(access_token)\n  File \"/Users/joe/Desktop/hackerton2026/Hackonomics-2026/authentication/application/services/verify_service.py\", line 19, in verify\n    raise BusinessException(ErrorCode.TOKEN_INVALID)\ncommon.errors.exceptions.BusinessException: ErrorCode.TOKEN_INVALID", "stack_info": null, "lineno": 249, "funcName": "log_message", "created": 1770811446.744768, "msecs": 744.0, "relativeCreated": 1945.368, "thread": 8602078784, "threadName": "MainThread", "processName": "MainProcess", "process": 40963, "taskName": null, "request": "<WSGIRequest: GET '/api/meta/countries/'>", "status_code": 500}], "longrepr": "self = <authentication.application.services.verify_service.VerifyService object at 0x112e64a50>\naccess_token = 'testtoken'\n\n    def verify(self, access_token: str) -> dict:\n        if not access_token:\n            raise BusinessException(ErrorCode.UNAUTHORIZED)\n    \n        try:\n>           payload = self.central_auth.verify(access_token)\n                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n\nauthentication/application/services/verify_service.py:17: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <authentication.adapters.django.auth_service.CentralAuthAdapter object at 0x112c00be0>\naccess_token = 'testtoken'\n\n    def verify(self, access_token: str):\n        res = requests.post(\n            f\"{settings.CENTRAL_AUTH_URL}/auth/verify\",\n            headers={\n                \"X-Service-Key\": settings.CENTRAL_AUTH_SERVICE_KEY,\n                \"Authorization\": f\"Bearer {access_token}\",\n            },\n            timeout=settings.CENTRAL_AUTH_TIMEOUT,\n        )\n    \n        if res.status_code != 200:\n>           raise Exception(\"Invalid token\")\nE           Exception: Invalid token\n\nauthentication/adapters/django/auth_service.py:57: Exception\n\nDuring handling of the above exception, another exception occurred:\n\napi_client = <rest_framework.test.APIClient object at 0x112b110f0>\n\n    @pytest.mark.django_db\n    def test_country_list_success(api_client):\n>       response = api_client.get(\"/api/meta/countries/\")\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n\ntests.py:48: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \nvenv/lib/python3.13/site-packages/rest_framework/test.py:292: in get\n    response = super().get(path, data=data, **extra)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nvenv/lib/python3.13/site-packages/rest_framework/test.py:209: in get\n    return self.generic('GET', path, **r)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nvenv/lib/python3.13/site-packages/rest_framework/test.py:237: in generic\n    return super().generic(\nvenv/lib/python3.13/site-packages/django/test/client.py:671: in generic\n    return self.request(**r)\n           ^^^^^^^^^^^^^^^^^\nvenv/lib/python3.13/site-packages/rest_framework/test.py:289: in request\n    return super().request(**kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^\nvenv/lib/python3.13/site-packages/rest_framework/test.py:241: in request\n    request = super().request(**kwargs)\n              ^^^^^^^^^^^^^^^^^^^^^^^^^\nvenv/lib/python3.13/site-packages/django/test/client.py:1087: in request\n    self.check_exception(response)\nvenv/lib/python3.13/site-packages/django/test/client.py:802: in check_exception\n    raise exc_value\nvenv/lib/python3.13/site-packages/django/core/handlers/exception.py:55: in inner\n    response = get_response(request)\n               ^^^^^^^^^^^^^^^^^^^^^\nvenv/lib/python3.13/site-packages/django/core/handlers/base.py:198: in _get_response\n    response = wrapped_callback(request, *callback_args, **callback_kwargs)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nvenv/lib/python3.13/site-packages/django/views/decorators/csrf.py:65: in _view_wrapper\n    return view_func(request, *args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nvenv/lib/python3.13/site-packages/django/views/generic/base.py:106: in view\n    return self.dispatch(request, *args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nvenv/lib/python3.13/site-packages/rest_framework/views.py:515: in dispatch\n    response = self.handle_exception(exc)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^\nvenv/lib/python3.13/site-packages/rest_framework/views.py:475: in handle_exception\n    self.raise_uncaught_exception(exc)\nvenv/lib/python3.13/site-packages/rest_framework/views.py:486: in raise_uncaught_exception\n    raise exc\nvenv/lib/python3.13/site-packages/rest_framework/views.py:503: in dispatch\n    self.initial(request, *args, **kwargs)\nvenv/lib/python3.13/site-packages/rest_framework/views.py:420: in initial\n    self.perform_authentication(request)\nvenv/lib/python3.13/site-packages/rest_framework/views.py:330: in perform_authentication\n    request.user\nvenv/lib/python3.13/site-packages/rest_framework/request.py:232: in user\n    self._authenticate()\nvenv/lib/python3.13/site-packages/rest_framework/request.py:385: in _authenticate\n    user_auth_tuple = authenticator.authenticate(self)\n                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nauthentication/adapters/django/jwt_authentication.py:35: in authenticate\n    payload = service.verify(token)\n              ^^^^^^^^^^^^^^^^^^^^^\nauthentication/application/services/authentication_service.py:35: in verify\n    result = service.verify(access_token)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <authentication.application.services.verify_service.VerifyService object at 0x112e64a50>\naccess_token = 'testtoken'\n\n    def verify(self, access_token: str) -> dict:\n        if not access_token:\n            raise BusinessException(ErrorCode.UNAUTHORIZED)\n    \n        try:\n            payload = self.central_auth.verify(access_token)\n        except Exception:\n>           raise BusinessException(ErrorCode.TOKEN_INVALID)\nE           common.errors.exceptions.BusinessException: ErrorCode.TOKEN_INVALID\n\nauthentication/application/services/verify_service.py:19: BusinessException"}, "teardown": {"duration": 0.004331250005634502, "outcome": "passed"}}, {"nodeid": "tests.py::test_country_list_invalid_method", "lineno": 51, "outcome": "failed", "keywords": ["test_country_list_invalid_method", "django_db", "pytestmark", "tests.py", "Hackonomics-2026", ""], "setup": {"duration": 0.0005535839882213622, "outcome": "passed"}, "call": {"duration": 0.003707916010171175, "outcome": "failed", "crash": {"path": "/Users/joe/Desktop/hackerton2026/Hackonomics-2026/authentication/application/services/verify_service.py", "lineno": 19, "message": "common.errors.exceptions.BusinessException: ErrorCode.TOKEN_INVALID"}, "traceback": [{"path": "tests.py", "lineno": 54, "message": ""}, {"path": "venv/lib/python3.13/site-packages/rest_framework/test.py", "lineno": 299, "message": "in post"}, {"path": "venv/lib/python3.13/site-packages/rest_framework/test.py", "lineno": 213, "message": "in post"}, {"path": "venv/lib/python3.13/site-packages/rest_framework/test.py", "lineno": 237, "message": "in generic"}, {"path": "venv/lib/python3.13/site-packages/django/test/client.py", "lineno": 671, "message": "in generic"}, {"path": "venv/lib/python3.13/site-packages/rest_framework/test.py", "lineno": 289, "message": "in request"}, {"path": "venv/lib/python3.13/site-packages/rest_framework/test.py", "lineno": 241, "message": "in request"}, {"path": "venv/lib/python3.13/site-packages/django/test/client.py", "lineno": 1087, "message": "in request"}, {"path": "venv/lib/python3.13/site-packages/django/test/client.py", "lineno": 802, "message": "in check_exception"}, {"path": "venv/lib/python3.13/site-packages/django/core/handlers/exception.py", "lineno": 55, "message": "in inner"}, {"path": "venv/lib/python3.13/site-packages/django/core/handlers/base.py", "lineno": 198, "message": "in _get_response"}, {"path": "venv/lib/python3.13/site-packages/django/views/decorators/csrf.py", "lineno": 65, "message": "in _view_wrapper"}, {"path": "venv/lib/python3.13/site-packages/django/views/generic/base.py", "lineno": 106, "message": "in view"}, {"path": "venv/lib/python3.13/site-packages/rest_framework/views.py", "lineno": 515, "message": "in dispatch"}, {"path": "venv/lib/python3.13/site-packages/rest_framework/views.py", "lineno": 475, "message": "in handle_exception"}, {"path": "venv/lib/python3.13/site-packages/rest_framework/views.py", "lineno": 486, "message": "in raise_uncaught_exception"}, {"path": "venv/lib/python3.13/site-packages/rest_framework/views.py", "lineno": 503, "message": "in dispatch"}, {"path": "venv/lib/python3.13/site-packages/rest_framework/views.py", "lineno": 420, "message": "in initial"}, {"path": "venv/lib/python3.13/site-packages/rest_framework/views.py", "lineno": 330, "message": "in perform_authentication"}, {"path": "venv/lib/python3.13/site-packages/rest_framework/request.py", "lineno": 232, "message": "in user"}, {"path": "venv/lib/python3.13/site-packages/rest_framework/request.py", "lineno": 385, "message": "in _authenticate"}, {"path": "authentication/adapters/django/jwt_authentication.py", "lineno": 35, "message": "in authenticate"}, {"path": "authentication/application/services/authentication_service.py", "lineno": 35, "message": "in verify"}, {"path": "authentication/application/services/verify_service.py", "lineno": 19, "message": "BusinessException"}], "log": [{"name": "django.request", "msg": "Internal Server Error: /api/meta/countries/", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/Users/joe/Desktop/hackerton2026/Hackonomics-2026/venv/lib/python3.13/site-packages/django/utils/log.py", "filename": "log.py", "module": "log", "exc_info": null, "exc_text": "Traceback (most recent call last):\n  File \"/Users/joe/Desktop/hackerton2026/Hackonomics-2026/authentication/application/services/verify_service.py\", line 17, in verify\n    payload = self.central_auth.verify(access_token)\n  File \"/Users/joe/Desktop/hackerton2026/Hackonomics-2026/authentication/adapters/django/auth_service.py\", line 57, in verify\n    raise Exception(\"Invalid token\")\nException: Invalid token\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/Users/joe/Desktop/hackerton2026/Hackonomics-2026/venv/lib/python3.13/site-packages/django/core/handlers/exception.py\", line 55, in inner\n    response = get_response(request)\n  File \"/Users/joe/Desktop/hackerton2026/Hackonomics-2026/venv/lib/python3.13/site-packages/django/core/handlers/base.py\", line 198, in _get_response\n    response = wrapped_callback(request, *callback_args, **callback_kwargs)\n  File \"/Users/joe/Desktop/hackerton2026/Hackonomics-2026/venv/lib/python3.13/site-packages/django/views/decorators/csrf.py\", line 65, in _view_wrapper\n    return view_func(request, *args, **kwargs)\n  File \"/Users/joe/Desktop/hackerton2026/Hackonomics-2026/venv/lib/python3.13/site-packages/django/views/generic/base.py\", line 106, in view\n    return self.dispatch(request, *args, **kwargs)\n           ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/Users/joe/Desktop/hackerton2026/Hackonomics-2026/venv/lib/python3.13/site-packages/rest_framework/views.py\", line 515, in dispatch\n    response = self.handle_exception(exc)\n  File \"/Users/joe/Desktop/hackerton2026/Hackonomics-2026/venv/lib/python3.13/site-packages/rest_framework/views.py\", line 475, in handle_exception\n    self.raise_uncaught_exception(exc)\n    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^\n  File \"/Users/joe/Desktop/hackerton2026/Hackonomics-2026/venv/lib/python3.13/site-packages/rest_framework/views.py\", line 486, in raise_uncaught_exception\n    raise exc\n  File \"/Users/joe/Desktop/hackerton2026/Hackonomics-2026/venv/lib/python3.13/site-packages/rest_framework/views.py\", line 503, in dispatch\n    self.initial(request, *args, **kwargs)\n    ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/Users/joe/Desktop/hackerton2026/Hackonomics-2026/venv/lib/python3.13/site-packages/rest_framework/views.py\", line 420, in initial\n    self.perform_authentication(request)\n    ~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^\n  File \"/Users/joe/Desktop/hackerton2026/Hackonomics-2026/venv/lib/python3.13/site-packages/rest_framework/views.py\", line 330, in perform_authentication\n    request.user\n  File \"/Users/joe/Desktop/hackerton2026/Hackonomics-2026/venv/lib/python3.13/site-packages/rest_framework/request.py\", line 232, in user\n    self._authenticate()\n    ~~~~~~~~~~~~~~~~~~^^\n  File \"/Users/joe/Desktop/hackerton2026/Hackonomics-2026/venv/lib/python3.13/site-packages/rest_framework/request.py\", line 385, in _authenticate\n    user_auth_tuple = authenticator.authenticate(self)\n  File \"/Users/joe/Desktop/hackerton2026/Hackonomics-2026/authentication/adapters/django/jwt_authentication.py\", line 35, in authenticate\n    payload = service.verify(token)\n  File \"/Users/joe/Desktop/hackerton2026/Hackonomics-2026/authentication/application/services/authentication_service.py\", line 35, in verify\n    result = service.verify(access_token)\n  File \"/Users/joe/Desktop/hackerton2026/Hackonomics-2026/authentication/application/services/verify_service.py\", line 19, in verify\n    raise BusinessException(ErrorCode.TOKEN_INVALID)\ncommon.errors.exceptions.BusinessException: ErrorCode.TOKEN_INVALID", "stack_info": null, "lineno": 249, "funcName": "log_message", "created": 1770811446.805724, "msecs": 805.0, "relativeCreated": 2006.324, "thread": 8602078784, "threadName": "MainThread", "processName": "MainProcess", "process": 40963, "taskName": null, "request": "<WSGIRequest: POST '/api/meta/countries/'>", "status_code": 500}], "longrepr": "self = <authentication.application.services.verify_service.VerifyService object at 0x112bce030>\naccess_token = 'testtoken'\n\n    def verify(self, access_token: str) -> dict:\n        if not access_token:\n            raise BusinessException(ErrorCode.UNAUTHORIZED)\n    \n        try:\n>           payload = self.central_auth.verify(access_token)\n                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n\nauthentication/application/services/verify_service.py:17: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <authentication.adapters.django.auth_service.CentralAuthAdapter object at 0x112bc41e0>\naccess_token = 'testtoken'\n\n    def verify(self, access_token: str):\n        res = requests.post(\n            f\"{settings.CENTRAL_AUTH_URL}/auth/verify\",\n            headers={\n                \"X-Service-Key\": settings.CENTRAL_AUTH_SERVICE_KEY,\n                \"Authorization\": f\"Bearer {access_token}\",\n            },\n            timeout=settings.CENTRAL_AUTH_TIMEOUT,\n        )\n    \n        if res.status_code != 200:\n>           raise Exception(\"Invalid token\")\nE           Exception: Invalid token\n\nauthentication/adapters/django/auth_service.py:57: Exception\n\nDuring handling of the above exception, another exception occurred:\n\napi_client = <rest_framework.test.APIClient object at 0x112a93770>\n\n    @pytest.mark.django_db\n    def test_country_list_invalid_method(api_client):\n>       response = api_client.post(\"/api/meta/countries/\", data={})\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n\ntests.py:54: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \nvenv/lib/python3.13/site-packages/rest_framework/test.py:299: in post\n    response = super().post(\nvenv/lib/python3.13/site-packages/rest_framework/test.py:213: in post\n    return self.generic('POST', path, data, content_type, **extra)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nvenv/lib/python3.13/site-packages/rest_framework/test.py:237: in generic\n    return super().generic(\nvenv/lib/python3.13/site-packages/django/test/client.py:671: in generic\n    return self.request(**r)\n           ^^^^^^^^^^^^^^^^^\nvenv/lib/python3.13/site-packages/rest_framework/test.py:289: in request\n    return super().request(**kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^\nvenv/lib/python3.13/site-packages/rest_framework/test.py:241: in request\n    request = super().request(**kwargs)\n              ^^^^^^^^^^^^^^^^^^^^^^^^^\nvenv/lib/python3.13/site-packages/django/test/client.py:1087: in request\n    self.check_exception(response)\nvenv/lib/python3.13/site-packages/django/test/client.py:802: in check_exception\n    raise exc_value\nvenv/lib/python3.13/site-packages/django/core/handlers/exception.py:55: in inner\n    response = get_response(request)\n               ^^^^^^^^^^^^^^^^^^^^^\nvenv/lib/python3.13/site-packages/django/core/handlers/base.py:198: in _get_response\n    response = wrapped_callback(request, *callback_args, **callback_kwargs)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nvenv/lib/python3.13/site-packages/django/views/decorators/csrf.py:65: in _view_wrapper\n    return view_func(request, *args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nvenv/lib/python3.13/site-packages/django/views/generic/base.py:106: in view\n    return self.dispatch(request, *args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nvenv/lib/python3.13/site-packages/rest_framework/views.py:515: in dispatch\n    response = self.handle_exception(exc)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^\nvenv/lib/python3.13/site-packages/rest_framework/views.py:475: in handle_exception\n    self.raise_uncaught_exception(exc)\nvenv/lib/python3.13/site-packages/rest_framework/views.py:486: in raise_uncaught_exception\n    raise exc\nvenv/lib/python3.13/site-packages/rest_framework/views.py:503: in dispatch\n    self.initial(request, *args, **kwargs)\nvenv/lib/python3.13/site-packages/rest_framework/views.py:420: in initial\n    self.perform_authentication(request)\nvenv/lib/python3.13/site-packages/rest_framework/views.py:330: in perform_authentication\n    request.user\nvenv/lib/python3.13/site-packages/rest_framework/request.py:232: in user\n    self._authenticate()\nvenv/lib/python3.13/site-packages/rest_framework/request.py:385: in _authenticate\n    user_auth_tuple = authenticator.authenticate(self)\n                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nauthentication/adapters/django/jwt_authentication.py:35: in authenticate\n    payload = service.verify(token)\n              ^^^^^^^^^^^^^^^^^^^^^\nauthentication/application/services/authentication_service.py:35: in verify\n    result = service.verify(access_token)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <authentication.application.services.verify_service.VerifyService object at 0x112bce030>\naccess_token = 'testtoken'\n\n    def verify(self, access_token: str) -> dict:\n        if not access_token:\n            raise BusinessException(ErrorCode.UNAUTHORIZED)\n    \n        try:\n            payload = self.central_auth.verify(access_token)\n        except Exception:\n>           raise BusinessException(ErrorCode.TOKEN_INVALID)\nE           common.errors.exceptions.BusinessException: ErrorCode.TOKEN_INVALID\n\nauthentication/application/services/verify_service.py:19: BusinessException"}, "teardown": {"duration": 0.0042895420046988875, "outcome": "passed"}}, {"nodeid": "tests.py::test_country_detail_success", "lineno": 57, "outcome": "failed", "keywords": ["test_country_detail_success", "django_db", "pytestmark", "tests.py", "Hackonomics-2026", ""], "setup": {"duration": 0.0005628750077448785, "outcome": "passed"}, "call": {"duration": 0.003825416002655402, "outcome": "failed", "crash": {"path": "/Users/joe/Desktop/hackerton2026/Hackonomics-2026/authentication/application/services/verify_service.py", "lineno": 19, "message": "common.errors.exceptions.BusinessException: ErrorCode.TOKEN_INVALID"}, "traceback": [{"path": "tests.py", "lineno": 60, "message": ""}, {"path": "venv/lib/python3.13/site-packages/rest_framework/test.py", "lineno": 292, "message": "in get"}, {"path": "venv/lib/python3.13/site-packages/rest_framework/test.py", "lineno": 209, "message": "in get"}, {"path": "venv/lib/python3.13/site-packages/rest_framework/test.py", "lineno": 237, "message": "in generic"}, {"path": "venv/lib/python3.13/site-packages/django/test/client.py", "lineno": 671, "message": "in generic"}, {"path": "venv/lib/python3.13/site-packages/rest_framework/test.py", "lineno": 289, "message": "in request"}, {"path": "venv/lib/python3.13/site-packages/rest_framework/test.py", "lineno": 241, "message": "in request"}, {"path": "venv/lib/python3.13/site-packages/django/test/client.py", "lineno": 1087, "message": "in request"}, {"path": "venv/lib/python3.13/site-packages/django/test/client.py", "lineno": 802, "message": "in check_exception"}, {"path": "venv/lib/python3.13/site-packages/django/core/handlers/exception.py", "lineno": 55, "message": "in inner"}, {"path": "venv/lib/python3.13/site-packages/django/core/handlers/base.py", "lineno": 198, "message": "in _get_response"}, {"path": "venv/lib/python3.13/site-packages/django/views/decorators/csrf.py", "lineno": 65, "message": "in _view_wrapper"}, {"path": "venv/lib/python3.13/site-packages/django/views/generic/base.py", "lineno": 106, "message": "in view"}, {"path": "venv/lib/python3.13/site-packages/rest_framework/views.py", "lineno": 515, "message": "in dispatch"}, {"path": "venv/lib/python3.13/site-packages/rest_framework/views.py", "lineno": 475, "message": "in handle_exception"}, {"path": "venv/lib/python3.13/site-packages/rest_framework/views.py", "lineno": 486, "message": "in raise_uncaught_exception"}, {"path": "venv/lib/python3.13/site-packages/rest_framework/views.py", "lineno": 503, "message": "in dispatch"}, {"path": "venv/lib/python3.13/site-packages/rest_framework/views.py", "lineno": 420, "message": "in initial"}, {"path": "venv/lib/python3.13/site-packages/rest_framework/views.py", "lineno": 330, "message": "in perform_authentication"}, {"path": "venv/lib/python3.13/site-packages/rest_framework/request.py", "lineno": 232, "message": "in user"}, {"path": "venv/lib/python3.13/site-packages/rest_framework/request.py", "lineno": 385, "message": "in _authenticate"}, {"path": "authentication/adapters/django/jwt_authentication.py", "lineno": 35, "message": "in authenticate"}, {"path": "authentication/application/services/authentication_service.py", "lineno": 35, "message": "in verify"}, {"path": "authentication/application/services/verify_service.py", "lineno": 19, "message": "BusinessException"}], "log": [{"name": "django.request", "msg": "Internal Server Error: /api/meta/countries/US/", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/Users/joe/Desktop/hackerton2026/Hackonomics-2026/venv/lib/python3.13/site-packages/django/utils/log.py", "filename": "log.py", "module": "log", "exc_info": null, "exc_text": "Traceback (most recent call last):\n  File \"/Users/joe/Desktop/hackerton2026/Hackonomics-2026/authentication/application/services/verify_service.py\", line 17, in verify\n    payload = self.central_auth.verify(access_token)\n  File \"/Users/joe/Desktop/hackerton2026/Hackonomics-2026/authentication/adapters/django/auth_service.py\", line 57, in verify\n    raise Exception(\"Invalid token\")\nException: Invalid token\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/Users/joe/Desktop/hackerton2026/Hackonomics-2026/venv/lib/python3.13/site-packages/django/core/handlers/exception.py\", line 55, in inner\n    response = get_response(request)\n  File \"/Users/joe/Desktop/hackerton2026/Hackonomics-2026/venv/lib/python3.13/site-packages/django/core/handlers/base.py\", line 198, in _get_response\n    response = wrapped_callback(request, *callback_args, **callback_kwargs)\n  File \"/Users/joe/Desktop/hackerton2026/Hackonomics-2026/venv/lib/python3.13/site-packages/django/views/decorators/csrf.py\", line 65, in _view_wrapper\n    return view_func(request, *args, **kwargs)\n  File \"/Users/joe/Desktop/hackerton2026/Hackonomics-2026/venv/lib/python3.13/site-packages/django/views/generic/base.py\", line 106, in view\n    return self.dispatch(request, *args, **kwargs)\n           ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/Users/joe/Desktop/hackerton2026/Hackonomics-2026/venv/lib/python3.13/site-packages/rest_framework/views.py\", line 515, in dispatch\n    response = self.handle_exception(exc)\n  File \"/Users/joe/Desktop/hackerton2026/Hackonomics-2026/venv/lib/python3.13/site-packages/rest_framework/views.py\", line 475, in handle_exception\n    self.raise_uncaught_exception(exc)\n    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^\n  File \"/Users/joe/Desktop/hackerton2026/Hackonomics-2026/venv/lib/python3.13/site-packages/rest_framework/views.py\", line 486, in raise_uncaught_exception\n    raise exc\n  File \"/Users/joe/Desktop/hackerton2026/Hackonomics-2026/venv/lib/python3.13/site-packages/rest_framework/views.py\", line 503, in dispatch\n    self.initial(request, *args, **kwargs)\n    ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/Users/joe/Desktop/hackerton2026/Hackonomics-2026/venv/lib/python3.13/site-packages/rest_framework/views.py\", line 420, in initial\n    self.perform_authentication(request)\n    ~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^\n  File \"/Users/joe/Desktop/hackerton2026/Hackonomics-2026/venv/lib/python3.13/site-packages/rest_framework/views.py\", line 330, in perform_authentication\n    request.user\n  File \"/Users/joe/Desktop/hackerton2026/Hackonomics-2026/venv/lib/python3.13/site-packages/rest_framework/request.py\", line 232, in user\n    self._authenticate()\n    ~~~~~~~~~~~~~~~~~~^^\n  File \"/Users/joe/Desktop/hackerton2026/Hackonomics-2026/venv/lib/python3.13/site-packages/rest_framework/request.py\", line 385, in _authenticate\n    user_auth_tuple = authenticator.authenticate(self)\n  File \"/Users/joe/Desktop/hackerton2026/Hackonomics-2026/authentication/adapters/django/jwt_authentication.py\", line 35, in authenticate\n    payload = service.verify(token)\n  File \"/Users/joe/Desktop/hackerton2026/Hackonomics-2026/authentication/application/services/authentication_service.py\", line 35, in verify\n    result = service.verify(access_token)\n  File \"/Users/joe/Desktop/hackerton2026/Hackonomics-2026/authentication/application/services/verify_service.py\", line 19, in verify\n    raise BusinessException(ErrorCode.TOKEN_INVALID)\ncommon.errors.exceptions.BusinessException: ErrorCode.TOKEN_INVALID", "stack_info": null, "lineno": 249, "funcName": "log_message", "created": 1770811446.8683362, "msecs": 868.0, "relativeCreated": 2068.936, "thread": 8602078784, "threadName": "MainThread", "processName": "MainProcess", "process": 40963, "taskName": null, "request": "<WSGIRequest: GET '/api/meta/countries/US/'>", "status_code": 500}], "longrepr": "self = <authentication.application.services.verify_service.VerifyService object at 0x1170e2eb0>\naccess_token = 'testtoken'\n\n    def verify(self, access_token: str) -> dict:\n        if not access_token:\n            raise BusinessException(ErrorCode.UNAUTHORIZED)\n    \n        try:\n>           payload = self.central_auth.verify(access_token)\n                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n\nauthentication/application/services/verify_service.py:17: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <authentication.adapters.django.auth_service.CentralAuthAdapter object at 0x112bc6350>\naccess_token = 'testtoken'\n\n    def verify(self, access_token: str):\n        res = requests.post(\n            f\"{settings.CENTRAL_AUTH_URL}/auth/verify\",\n            headers={\n                \"X-Service-Key\": settings.CENTRAL_AUTH_SERVICE_KEY,\n                \"Authorization\": f\"Bearer {access_token}\",\n            },\n            timeout=settings.CENTRAL_AUTH_TIMEOUT,\n        )\n    \n        if res.status_code != 200:\n>           raise Exception(\"Invalid token\")\nE           Exception: Invalid token\n\nauthentication/adapters/django/auth_service.py:57: Exception\n\nDuring handling of the above exception, another exception occurred:\n\napi_client = <rest_framework.test.APIClient object at 0x112bb8160>\n\n    @pytest.mark.django_db\n    def test_country_detail_success(api_client):\n>       response = api_client.get(\"/api/meta/countries/US/\")\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n\ntests.py:60: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \nvenv/lib/python3.13/site-packages/rest_framework/test.py:292: in get\n    response = super().get(path, data=data, **extra)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nvenv/lib/python3.13/site-packages/rest_framework/test.py:209: in get\n    return self.generic('GET', path, **r)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nvenv/lib/python3.13/site-packages/rest_framework/test.py:237: in generic\n    return super().generic(\nvenv/lib/python3.13/site-packages/django/test/client.py:671: in generic\n    return self.request(**r)\n           ^^^^^^^^^^^^^^^^^\nvenv/lib/python3.13/site-packages/rest_framework/test.py:289: in request\n    return super().request(**kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^\nvenv/lib/python3.13/site-packages/rest_framework/test.py:241: in request\n    request = super().request(**kwargs)\n              ^^^^^^^^^^^^^^^^^^^^^^^^^\nvenv/lib/python3.13/site-packages/django/test/client.py:1087: in request\n    self.check_exception(response)\nvenv/lib/python3.13/site-packages/django/test/client.py:802: in check_exception\n    raise exc_value\nvenv/lib/python3.13/site-packages/django/core/handlers/exception.py:55: in inner\n    response = get_response(request)\n               ^^^^^^^^^^^^^^^^^^^^^\nvenv/lib/python3.13/site-packages/django/core/handlers/base.py:198: in _get_response\n    response = wrapped_callback(request, *callback_args, **callback_kwargs)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nvenv/lib/python3.13/site-packages/django/views/decorators/csrf.py:65: in _view_wrapper\n    return view_func(request, *args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nvenv/lib/python3.13/site-packages/django/views/generic/base.py:106: in view\n    return self.dispatch(request, *args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nvenv/lib/python3.13/site-packages/rest_framework/views.py:515: in dispatch\n    response = self.handle_exception(exc)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^\nvenv/lib/python3.13/site-packages/rest_framework/views.py:475: in handle_exception\n    self.raise_uncaught_exception(exc)\nvenv/lib/python3.13/site-packages/rest_framework/views.py:486: in raise_uncaught_exception\n    raise exc\nvenv/lib/python3.13/site-packages/rest_framework/views.py:503: in dispatch\n    self.initial(request, *args, **kwargs)\nvenv/lib/python3.13/site-packages/rest_framework/views.py:420: in initial\n    self.perform_authentication(request)\nvenv/lib/python3.13/site-packages/rest_framework/views.py:330: in perform_authentication\n    request.user\nvenv/lib/python3.13/site-packages/rest_framework/request.py:232: in user\n    self._authenticate()\nvenv/lib/python3.13/site-packages/rest_framework/request.py:385: in _authenticate\n    user_auth_tuple = authenticator.authenticate(self)\n                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nauthentication/adapters/django/jwt_authentication.py:35: in authenticate\n    payload = service.verify(token)\n              ^^^^^^^^^^^^^^^^^^^^^\nauthentication/application/services/authentication_service.py:35: in verify\n    result = service.verify(access_token)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <authentication.application.services.verify_service.VerifyService object at 0x1170e2eb0>\naccess_token = 'testtoken'\n\n    def verify(self, access_token: str) -> dict:\n        if not access_token:\n            raise BusinessException(ErrorCode.UNAUTHORIZED)\n    \n        try:\n            payload = self.central_auth.verify(access_token)\n        except Exception:\n>           raise BusinessException(ErrorCode.TOKEN_INVALID)\nE           common.errors.exceptions.BusinessException: ErrorCode.TOKEN_INVALID\n\nauthentication/application/services/verify_service.py:19: BusinessException"}, "teardown": {"duration": 0.004239834001054987, "outcome": "passed"}}, {"nodeid": "tests.py::test_country_detail_invalid_method", "lineno": 63, "outcome": "failed", "keywords": ["test_country_detail_invalid_method", "django_db", "pytestmark", "tests.py", "Hackonomics-2026", ""], "setup": {"duration": 0.0005633750115521252, "outcome": "passed"}, "call": {"duration": 0.00360008399002254, "outcome": "failed", "crash": {"path": "/Users/joe/Desktop/hackerton2026/Hackonomics-2026/authentication/application/services/verify_service.py", "lineno": 19, "message": "common.errors.exceptions.BusinessException: ErrorCode.TOKEN_INVALID"}, "traceback": [{"path": "tests.py", "lineno": 66, "message": ""}, {"path": "venv/lib/python3.13/site-packages/rest_framework/test.py", "lineno": 299, "message": "in post"}, {"path": "venv/lib/python3.13/site-packages/rest_framework/test.py", "lineno": 213, "message": "in post"}, {"path": "venv/lib/python3.13/site-packages/rest_framework/test.py", "lineno": 237, "message": "in generic"}, {"path": "venv/lib/python3.13/site-packages/django/test/client.py", "lineno": 671, "message": "in generic"}, {"path": "venv/lib/python3.13/site-packages/rest_framework/test.py", "lineno": 289, "message": "in request"}, {"path": "venv/lib/python3.13/site-packages/rest_framework/test.py", "lineno": 241, "message": "in request"}, {"path": "venv/lib/python3.13/site-packages/django/test/client.py", "lineno": 1087, "message": "in request"}, {"path": "venv/lib/python3.13/site-packages/django/test/client.py", "lineno": 802, "message": "in check_exception"}, {"path": "venv/lib/python3.13/site-packages/django/core/handlers/exception.py", "lineno": 55, "message": "in inner"}, {"path": "venv/lib/python3.13/site-packages/django/core/handlers/base.py", "lineno": 198, "message": "in _get_response"}, {"path": "venv/lib/python3.13/site-packages/django/views/decorators/csrf.py", "lineno": 65, "message": "in _view_wrapper"}, {"path": "venv/lib/python3.13/site-packages/django/views/generic/base.py", "lineno": 106, "message": "in view"}, {"path": "venv/lib/python3.13/site-packages/rest_framework/views.py", "lineno": 515, "message": "in dispatch"}, {"path": "venv/lib/python3.13/site-packages/rest_framework/views.py", "lineno": 475, "message": "in handle_exception"}, {"path": "venv/lib/python3.13/site-packages/rest_framework/views.py", "lineno": 486, "message": "in raise_uncaught_exception"}, {"path": "venv/lib/python3.13/site-packages/rest_framework/views.py", "lineno": 503, "message": "in dispatch"}, {"path": "venv/lib/python3.13/site-packages/rest_framework/views.py", "lineno": 420, "message": "in initial"}, {"path": "venv/lib/python3.13/site-packages/rest_framework/views.py", "lineno": 330, "message": "in perform_authentication"}, {"path": "venv/lib/python3.13/site-packages/rest_framework/request.py", "lineno": 232, "message": "in user"}, {"path": "venv/lib/python3.13/site-packages/rest_framework/request.py", "lineno": 385, "message": "in _authenticate"}, {"path": "authentication/adapters/django/jwt_authentication.py", "lineno": 35, "message": "in authenticate"}, {"path": "authentication/application/services/authentication_service.py", "lineno": 35, "message": "in verify"}, {"path": "authentication/application/services/verify_service.py", "lineno": 19, "message": "BusinessException"}], "log": [{"name": "django.request", "msg": "Internal Server Error: /api/meta/countries/US/", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/Users/joe/Desktop/hackerton2026/Hackonomics-2026/venv/lib/python3.13/site-packages/django/utils/log.py", "filename": "log.py", "module": "log", "exc_info": null, "exc_text": "Traceback (most recent call last):\n  File \"/Users/joe/Desktop/hackerton2026/Hackonomics-2026/authentication/application/services/verify_service.py\", line 17, in verify\n    payload = self.central_auth.verify(access_token)\n  File \"/Users/joe/Desktop/hackerton2026/Hackonomics-2026/authentication/adapters/django/auth_service.py\", line 57, in verify\n    raise Exception(\"Invalid token\")\nException: Invalid token\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/Users/joe/Desktop/hackerton2026/Hackonomics-2026/venv/lib/python3.13/site-packages/django/core/handlers/exception.py\", line 55, in inner\n    response = get_response(request)\n  File \"/Users/joe/Desktop/hackerton2026/Hackonomics-2026/venv/lib/python3.13/site-packages/django/core/handlers/base.py\", line 198, in _get_response\n    response = wrapped_callback(request, *callback_args, **callback_kwargs)\n  File \"/Users/joe/Desktop/hackerton2026/Hackonomics-2026/venv/lib/python3.13/site-packages/django/views/decorators/csrf.py\", line 65, in _view_wrapper\n    return view_func(request, *args, **kwargs)\n  File \"/Users/joe/Desktop/hackerton2026/Hackonomics-2026/venv/lib/python3.13/site-packages/django/views/generic/base.py\", line 106, in view\n    return self.dispatch(request, *args, **kwargs)\n           ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/Users/joe/Desktop/hackerton2026/Hackonomics-2026/venv/lib/python3.13/site-packages/rest_framework/views.py\", line 515, in dispatch\n    response = self.handle_exception(exc)\n  File \"/Users/joe/Desktop/hackerton2026/Hackonomics-2026/venv/lib/python3.13/site-packages/rest_framework/views.py\", line 475, in handle_exception\n    self.raise_uncaught_exception(exc)\n    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^\n  File \"/Users/joe/Desktop/hackerton2026/Hackonomics-2026/venv/lib/python3.13/site-packages/rest_framework/views.py\", line 486, in raise_uncaught_exception\n    raise exc\n  File \"/Users/joe/Desktop/hackerton2026/Hackonomics-2026/venv/lib/python3.13/site-packages/rest_framework/views.py\", line 503, in dispatch\n    self.initial(request, *args, **kwargs)\n    ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/Users/joe/Desktop/hackerton2026/Hackonomics-2026/venv/lib/python3.13/site-packages/rest_framework/views.py\", line 420, in initial\n    self.perform_authentication(request)\n    ~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^\n  File \"/Users/joe/Desktop/hackerton2026/Hackonomics-2026/venv/lib/python3.13/site-packages/rest_framework/views.py\", line 330, in perform_authentication\n    request.user\n  File \"/Users/joe/Desktop/hackerton2026/Hackonomics-2026/venv/lib/python3.13/site-packages/rest_framework/request.py\", line 232, in user\n    self._authenticate()\n    ~~~~~~~~~~~~~~~~~~^^\n  File \"/Users/joe/Desktop/hackerton2026/Hackonomics-2026/venv/lib/python3.13/site-packages/rest_framework/request.py\", line 385, in _authenticate\n    user_auth_tuple = authenticator.authenticate(self)\n  File \"/Users/joe/Desktop/hackerton2026/Hackonomics-2026/authentication/adapters/django/jwt_authentication.py\", line 35, in authenticate\n    payload = service.verify(token)\n  File \"/Users/joe/Desktop/hackerton2026/Hackonomics-2026/authentication/application/services/authentication_service.py\", line 35, in verify\n    result = service.verify(access_token)\n  File \"/Users/joe/Desktop/hackerton2026/Hackonomics-2026/authentication/application/services/verify_service.py\", line 19, in verify\n    raise BusinessException(ErrorCode.TOKEN_INVALID)\ncommon.errors.exceptions.BusinessException: ErrorCode.TOKEN_INVALID", "stack_info": null, "lineno": 249, "funcName": "log_message", "created": 1770811446.93133, "msecs": 931.0, "relativeCreated": 2131.93, "thread": 8602078784, "threadName": "MainThread", "processName": "MainProcess", "process": 40963, "taskName": null, "request": "<WSGIRequest: POST '/api/meta/countries/US/'>", "status_code": 500}], "longrepr": "self = <authentication.application.services.verify_service.VerifyService object at 0x117038ad0>\naccess_token = 'testtoken'\n\n    def verify(self, access_token: str) -> dict:\n        if not access_token:\n            raise BusinessException(ErrorCode.UNAUTHORIZED)\n    \n        try:\n>           payload = self.central_auth.verify(access_token)\n                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n\nauthentication/application/services/verify_service.py:17: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <authentication.adapters.django.auth_service.CentralAuthAdapter object at 0x112bc6f30>\naccess_token = 'testtoken'\n\n    def verify(self, access_token: str):\n        res = requests.post(\n            f\"{settings.CENTRAL_AUTH_URL}/auth/verify\",\n            headers={\n                \"X-Service-Key\": settings.CENTRAL_AUTH_SERVICE_KEY,\n                \"Authorization\": f\"Bearer {access_token}\",\n            },\n            timeout=settings.CENTRAL_AUTH_TIMEOUT,\n        )\n    \n        if res.status_code != 200:\n>           raise Exception(\"Invalid token\")\nE           Exception: Invalid token\n\nauthentication/adapters/django/auth_service.py:57: Exception\n\nDuring handling of the above exception, another exception occurred:\n\napi_client = <rest_framework.test.APIClient object at 0x117036580>\n\n    @pytest.mark.django_db\n    def test_country_detail_invalid_method(api_client):\n>       response = api_client.post(\"/api/meta/countries/US/\", data={})\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n\ntests.py:66: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \nvenv/lib/python3.13/site-packages/rest_framework/test.py:299: in post\n    response = super().post(\nvenv/lib/python3.13/site-packages/rest_framework/test.py:213: in post\n    return self.generic('POST', path, data, content_type, **extra)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nvenv/lib/python3.13/site-packages/rest_framework/test.py:237: in generic\n    return super().generic(\nvenv/lib/python3.13/site-packages/django/test/client.py:671: in generic\n    return self.request(**r)\n           ^^^^^^^^^^^^^^^^^\nvenv/lib/python3.13/site-packages/rest_framework/test.py:289: in request\n    return super().request(**kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^\nvenv/lib/python3.13/site-packages/rest_framework/test.py:241: in request\n    request = super().request(**kwargs)\n              ^^^^^^^^^^^^^^^^^^^^^^^^^\nvenv/lib/python3.13/site-packages/django/test/client.py:1087: in request\n    self.check_exception(response)\nvenv/lib/python3.13/site-packages/django/test/client.py:802: in check_exception\n    raise exc_value\nvenv/lib/python3.13/site-packages/django/core/handlers/exception.py:55: in inner\n    response = get_response(request)\n               ^^^^^^^^^^^^^^^^^^^^^\nvenv/lib/python3.13/site-packages/django/core/handlers/base.py:198: in _get_response\n    response = wrapped_callback(request, *callback_args, **callback_kwargs)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nvenv/lib/python3.13/site-packages/django/views/decorators/csrf.py:65: in _view_wrapper\n    return view_func(request, *args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nvenv/lib/python3.13/site-packages/django/views/generic/base.py:106: in view\n    return self.dispatch(request, *args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nvenv/lib/python3.13/site-packages/rest_framework/views.py:515: in dispatch\n    response = self.handle_exception(exc)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^\nvenv/lib/python3.13/site-packages/rest_framework/views.py:475: in handle_exception\n    self.raise_uncaught_exception(exc)\nvenv/lib/python3.13/site-packages/rest_framework/views.py:486: in raise_uncaught_exception\n    raise exc\nvenv/lib/python3.13/site-packages/rest_framework/views.py:503: in dispatch\n    self.initial(request, *args, **kwargs)\nvenv/lib/python3.13/site-packages/rest_framework/views.py:420: in initial\n    self.perform_authentication(request)\nvenv/lib/python3.13/site-packages/rest_framework/views.py:330: in perform_authentication\n    request.user\nvenv/lib/python3.13/site-packages/rest_framework/request.py:232: in user\n    self._authenticate()\nvenv/lib/python3.13/site-packages/rest_framework/request.py:385: in _authenticate\n    user_auth_tuple = authenticator.authenticate(self)\n                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nauthentication/adapters/django/jwt_authentication.py:35: in authenticate\n    payload = service.verify(token)\n              ^^^^^^^^^^^^^^^^^^^^^\nauthentication/application/services/authentication_service.py:35: in verify\n    result = service.verify(access_token)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <authentication.application.services.verify_service.VerifyService object at 0x117038ad0>\naccess_token = 'testtoken'\n\n    def verify(self, access_token: str) -> dict:\n        if not access_token:\n            raise BusinessException(ErrorCode.UNAUTHORIZED)\n    \n        try:\n            payload = self.central_auth.verify(access_token)\n        except Exception:\n>           raise BusinessException(ErrorCode.TOKEN_INVALID)\nE           common.errors.exceptions.BusinessException: ErrorCode.TOKEN_INVALID\n\nauthentication/application/services/verify_service.py:19: BusinessException"}, "teardown": {"duration": 0.004600416985340416, "outcome": "passed"}}, {"nodeid": "tests.py::test_compare_dca_vs_deposit_success", "lineno": 71, "outcome": "failed", "keywords": ["test_compare_dca_vs_deposit_success", "django_db", "pytestmark", "tests.py", "Hackonomics-2026", ""], "setup": {"duration": 0.0005444170092232525, "outcome": "passed"}, "call": {"duration": 0.0039732079894747585, "outcome": "failed", "crash": {"path": "/Users/joe/Desktop/hackerton2026/Hackonomics-2026/authentication/application/services/verify_service.py", "lineno": 19, "message": "common.errors.exceptions.BusinessException: ErrorCode.TOKEN_INVALID"}, "traceback": [{"path": "tests.py", "lineno": 75, "message": ""}, {"path": "venv/lib/python3.13/site-packages/rest_framework/test.py", "lineno": 299, "message": "in post"}, {"path": "venv/lib/python3.13/site-packages/rest_framework/test.py", "lineno": 213, "message": "in post"}, {"path": "venv/lib/python3.13/site-packages/rest_framework/test.py", "lineno": 237, "message": "in generic"}, {"path": "venv/lib/python3.13/site-packages/django/test/client.py", "lineno": 671, "message": "in generic"}, {"path": "venv/lib/python3.13/site-packages/rest_framework/test.py", "lineno": 289, "message": "in request"}, {"path": "venv/lib/python3.13/site-packages/rest_framework/test.py", "lineno": 241, "message": "in request"}, {"path": "venv/lib/python3.13/site-packages/django/test/client.py", "lineno": 1087, "message": "in request"}, {"path": "venv/lib/python3.13/site-packages/django/test/client.py", "lineno": 802, "message": "in check_exception"}, {"path": "venv/lib/python3.13/site-packages/django/core/handlers/exception.py", "lineno": 55, "message": "in inner"}, {"path": "venv/lib/python3.13/site-packages/django/core/handlers/base.py", "lineno": 198, "message": "in _get_response"}, {"path": "venv/lib/python3.13/site-packages/django/views/decorators/csrf.py", "lineno": 65, "message": "in _view_wrapper"}, {"path": "venv/lib/python3.13/site-packages/django/views/generic/base.py", "lineno": 106, "message": "in view"}, {"path": "venv/lib/python3.13/site-packages/rest_framework/views.py", "lineno": 515, "message": "in dispatch"}, {"path": "venv/lib/python3.13/site-packages/rest_framework/views.py", "lineno": 475, "message": "in handle_exception"}, {"path": "venv/lib/python3.13/site-packages/rest_framework/views.py", "lineno": 486, "message": "in raise_uncaught_exception"}, {"path": "venv/lib/python3.13/site-packages/rest_framework/views.py", "lineno": 503, "message": "in dispatch"}, {"path": "venv/lib/python3.13/site-packages/rest_framework/views.py", "lineno": 420, "message": "in initial"}, {"path": "venv/lib/python3.13/site-packages/rest_framework/views.py", "lineno": 330, "message": "in perform_authentication"}, {"path": "venv/lib/python3.13/site-packages/rest_framework/request.py", "lineno": 232, "message": "in user"}, {"path": "venv/lib/python3.13/site-packages/rest_framework/request.py", "lineno": 385, "message": "in _authenticate"}, {"path": "authentication/adapters/django/jwt_authentication.py", "lineno": 35, "message": "in authenticate"}, {"path": "authentication/application/services/authentication_service.py", "lineno": 35, "message": "in verify"}, {"path": "authentication/application/services/verify_service.py", "lineno": 19, "message": "BusinessException"}], "log": [{"name": "django.request", "msg": "Internal Server Error: /api/simulation/compare/dca-vs-deposit/", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/Users/joe/Desktop/hackerton2026/Hackonomics-2026/venv/lib/python3.13/site-packages/django/utils/log.py", "filename": "log.py", "module": "log", "exc_info": null, "exc_text": "Traceback (most recent call last):\n  File \"/Users/joe/Desktop/hackerton2026/Hackonomics-2026/authentication/application/services/verify_service.py\", line 17, in verify\n    payload = self.central_auth.verify(access_token)\n  File \"/Users/joe/Desktop/hackerton2026/Hackonomics-2026/authentication/adapters/django/auth_service.py\", line 57, in verify\n    raise Exception(\"Invalid token\")\nException: Invalid token\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/Users/joe/Desktop/hackerton2026/Hackonomics-2026/venv/lib/python3.13/site-packages/django/core/handlers/exception.py\", line 55, in inner\n    response = get_response(request)\n  File \"/Users/joe/Desktop/hackerton2026/Hackonomics-2026/venv/lib/python3.13/site-packages/django/core/handlers/base.py\", line 198, in _get_response\n    response = wrapped_callback(request, *callback_args, **callback_kwargs)\n  File \"/Users/joe/Desktop/hackerton2026/Hackonomics-2026/venv/lib/python3.13/site-packages/django/views/decorators/csrf.py\", line 65, in _view_wrapper\n    return view_func(request, *args, **kwargs)\n  File \"/Users/joe/Desktop/hackerton2026/Hackonomics-2026/venv/lib/python3.13/site-packages/django/views/generic/base.py\", line 106, in view\n    return self.dispatch(request, *args, **kwargs)\n           ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/Users/joe/Desktop/hackerton2026/Hackonomics-2026/venv/lib/python3.13/site-packages/rest_framework/views.py\", line 515, in dispatch\n    response = self.handle_exception(exc)\n  File \"/Users/joe/Desktop/hackerton2026/Hackonomics-2026/venv/lib/python3.13/site-packages/rest_framework/views.py\", line 475, in handle_exception\n    self.raise_uncaught_exception(exc)\n    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^\n  File \"/Users/joe/Desktop/hackerton2026/Hackonomics-2026/venv/lib/python3.13/site-packages/rest_framework/views.py\", line 486, in raise_uncaught_exception\n    raise exc\n  File \"/Users/joe/Desktop/hackerton2026/Hackonomics-2026/venv/lib/python3.13/site-packages/rest_framework/views.py\", line 503, in dispatch\n    self.initial(request, *args, **kwargs)\n    ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/Users/joe/Desktop/hackerton2026/Hackonomics-2026/venv/lib/python3.13/site-packages/rest_framework/views.py\", line 420, in initial\n    self.perform_authentication(request)\n    ~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^\n  File \"/Users/joe/Desktop/hackerton2026/Hackonomics-2026/venv/lib/python3.13/site-packages/rest_framework/views.py\", line 330, in perform_authentication\n    request.user\n  File \"/Users/joe/Desktop/hackerton2026/Hackonomics-2026/venv/lib/python3.13/site-packages/rest_framework/request.py\", line 232, in user\n    self._authenticate()\n    ~~~~~~~~~~~~~~~~~~^^\n  File \"/Users/joe/Desktop/hackerton2026/Hackonomics-2026/venv/lib/python3.13/site-packages/rest_framework/request.py\", line 385, in _authenticate\n    user_auth_tuple = authenticator.authenticate(self)\n  File \"/Users/joe/Desktop/hackerton2026/Hackonomics-2026/authentication/adapters/django/jwt_authentication.py\", line 35, in authenticate\n    payload = service.verify(token)\n  File \"/Users/joe/Desktop/hackerton2026/Hackonomics-2026/authentication/application/services/authentication_service.py\", line 35, in verify\n    result = service.verify(access_token)\n  File \"/Users/joe/Desktop/hackerton2026/Hackonomics-2026/authentication/application/services/verify_service.py\", line 19, in verify\n    raise BusinessException(ErrorCode.TOKEN_INVALID)\ncommon.errors.exceptions.BusinessException: ErrorCode.TOKEN_INVALID", "stack_info": null, "lineno": 249, "funcName": "log_message", "created": 1770811446.993579, "msecs": 993.0, "relativeCreated": 2194.179, "thread": 8602078784, "threadName": "MainThread", "processName": "MainProcess", "process": 40963, "taskName": null, "request": "<WSGIRequest: POST '/api/simulation/compare/dca-vs-deposit/'>", "status_code": 500}], "longrepr": "self = <authentication.application.services.verify_service.VerifyService object at 0x112b949f0>\naccess_token = 'testtoken'\n\n    def verify(self, access_token: str) -> dict:\n        if not access_token:\n            raise BusinessException(ErrorCode.UNAUTHORIZED)\n    \n        try:\n>           payload = self.central_auth.verify(access_token)\n                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n\nauthentication/application/services/verify_service.py:17: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <authentication.adapters.django.auth_service.CentralAuthAdapter object at 0x112bc7f20>\naccess_token = 'testtoken'\n\n    def verify(self, access_token: str):\n        res = requests.post(\n            f\"{settings.CENTRAL_AUTH_URL}/auth/verify\",\n            headers={\n                \"X-Service-Key\": settings.CENTRAL_AUTH_SERVICE_KEY,\n                \"Authorization\": f\"Bearer {access_token}\",\n            },\n            timeout=settings.CENTRAL_AUTH_TIMEOUT,\n        )\n    \n        if res.status_code != 200:\n>           raise Exception(\"Invalid token\")\nE           Exception: Invalid token\n\nauthentication/adapters/django/auth_service.py:57: Exception\n\nDuring handling of the above exception, another exception occurred:\n\napi_client = <rest_framework.test.APIClient object at 0x112e64650>\n\n    @pytest.mark.django_db\n    def test_compare_dca_vs_deposit_success(api_client):\n        payload = {\"amount\": 1000}\n>       response = api_client.post(\n            \"/api/simulation/compare/dca-vs-deposit/\",\n            data=payload,\n            format=\"json\",\n        )\n\ntests.py:75: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \nvenv/lib/python3.13/site-packages/rest_framework/test.py:299: in post\n    response = super().post(\nvenv/lib/python3.13/site-packages/rest_framework/test.py:213: in post\n    return self.generic('POST', path, data, content_type, **extra)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nvenv/lib/python3.13/site-packages/rest_framework/test.py:237: in generic\n    return super().generic(\nvenv/lib/python3.13/site-packages/django/test/client.py:671: in generic\n    return self.request(**r)\n           ^^^^^^^^^^^^^^^^^\nvenv/lib/python3.13/site-packages/rest_framework/test.py:289: in request\n    return super().request(**kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^\nvenv/lib/python3.13/site-packages/rest_framework/test.py:241: in request\n    request = super().request(**kwargs)\n              ^^^^^^^^^^^^^^^^^^^^^^^^^\nvenv/lib/python3.13/site-packages/django/test/client.py:1087: in request\n    self.check_exception(response)\nvenv/lib/python3.13/site-packages/django/test/client.py:802: in check_exception\n    raise exc_value\nvenv/lib/python3.13/site-packages/django/core/handlers/exception.py:55: in inner\n    response = get_response(request)\n               ^^^^^^^^^^^^^^^^^^^^^\nvenv/lib/python3.13/site-packages/django/core/handlers/base.py:198: in _get_response\n    response = wrapped_callback(request, *callback_args, **callback_kwargs)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nvenv/lib/python3.13/site-packages/django/views/decorators/csrf.py:65: in _view_wrapper\n    return view_func(request, *args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nvenv/lib/python3.13/site-packages/django/views/generic/base.py:106: in view\n    return self.dispatch(request, *args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nvenv/lib/python3.13/site-packages/rest_framework/views.py:515: in dispatch\n    response = self.handle_exception(exc)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^\nvenv/lib/python3.13/site-packages/rest_framework/views.py:475: in handle_exception\n    self.raise_uncaught_exception(exc)\nvenv/lib/python3.13/site-packages/rest_framework/views.py:486: in raise_uncaught_exception\n    raise exc\nvenv/lib/python3.13/site-packages/rest_framework/views.py:503: in dispatch\n    self.initial(request, *args, **kwargs)\nvenv/lib/python3.13/site-packages/rest_framework/views.py:420: in initial\n    self.perform_authentication(request)\nvenv/lib/python3.13/site-packages/rest_framework/views.py:330: in perform_authentication\n    request.user\nvenv/lib/python3.13/site-packages/rest_framework/request.py:232: in user\n    self._authenticate()\nvenv/lib/python3.13/site-packages/rest_framework/request.py:385: in _authenticate\n    user_auth_tuple = authenticator.authenticate(self)\n                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nauthentication/adapters/django/jwt_authentication.py:35: in authenticate\n    payload = service.verify(token)\n              ^^^^^^^^^^^^^^^^^^^^^\nauthentication/application/services/authentication_service.py:35: in verify\n    result = service.verify(access_token)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <authentication.application.services.verify_service.VerifyService object at 0x112b949f0>\naccess_token = 'testtoken'\n\n    def verify(self, access_token: str) -> dict:\n        if not access_token:\n            raise BusinessException(ErrorCode.UNAUTHORIZED)\n    \n        try:\n            payload = self.central_auth.verify(access_token)\n        except Exception:\n>           raise BusinessException(ErrorCode.TOKEN_INVALID)\nE           common.errors.exceptions.BusinessException: ErrorCode.TOKEN_INVALID\n\nauthentication/application/services/verify_service.py:19: BusinessException"}, "teardown": {"duration": 0.006547124998178333, "outcome": "passed"}}, {"nodeid": "tests.py::test_compare_dca_vs_deposit_empty_payload", "lineno": 82, "outcome": "failed", "keywords": ["test_compare_dca_vs_deposit_empty_payload", "django_db", "pytestmark", "tests.py", "Hackonomics-2026", ""], "setup": {"duration": 0.0006645420216955245, "outcome": "passed"}, "call": {"duration": 0.003999125008704141, "outcome": "failed", "crash": {"path": "/Users/joe/Desktop/hackerton2026/Hackonomics-2026/authentication/application/services/verify_service.py", "lineno": 19, "message": "common.errors.exceptions.BusinessException: ErrorCode.TOKEN_INVALID"}, "traceback": [{"path": "tests.py", "lineno": 85, "message": ""}, {"path": "venv/lib/python3.13/site-packages/rest_framework/test.py", "lineno": 299, "message": "in post"}, {"path": "venv/lib/python3.13/site-packages/rest_framework/test.py", "lineno": 213, "message": "in post"}, {"path": "venv/lib/python3.13/site-packages/rest_framework/test.py", "lineno": 237, "message": "in generic"}, {"path": "venv/lib/python3.13/site-packages/django/test/client.py", "lineno": 671, "message": "in generic"}, {"path": "venv/lib/python3.13/site-packages/rest_framework/test.py", "lineno": 289, "message": "in request"}, {"path": "venv/lib/python3.13/site-packages/rest_framework/test.py", "lineno": 241, "message": "in request"}, {"path": "venv/lib/python3.13/site-packages/django/test/client.py", "lineno": 1087, "message": "in request"}, {"path": "venv/lib/python3.13/site-packages/django/test/client.py", "lineno": 802, "message": "in check_exception"}, {"path": "venv/lib/python3.13/site-packages/django/core/handlers/exception.py", "lineno": 55, "message": "in inner"}, {"path": "venv/lib/python3.13/site-packages/django/core/handlers/base.py", "lineno": 198, "message": "in _get_response"}, {"path": "venv/lib/python3.13/site-packages/django/views/decorators/csrf.py", "lineno": 65, "message": "in _view_wrapper"}, {"path": "venv/lib/python3.13/site-packages/django/views/generic/base.py", "lineno": 106, "message": "in view"}, {"path": "venv/lib/python3.13/site-packages/rest_framework/views.py", "lineno": 515, "message": "in dispatch"}, {"path": "venv/lib/python3.13/site-packages/rest_framework/views.py", "lineno": 475, "message": "in handle_exception"}, {"path": "venv/lib/python3.13/site-packages/rest_framework/views.py", "lineno": 486, "message": "in raise_uncaught_exception"}, {"path": "venv/lib/python3.13/site-packages/rest_framework/views.py", "lineno": 503, "message": "in dispatch"}, {"path": "venv/lib/python3.13/site-packages/rest_framework/views.py", "lineno": 420, "message": "in initial"}, {"path": "venv/lib/python3.13/site-packages/rest_framework/views.py", "lineno": 330, "message": "in perform_authentication"}, {"path": "venv/lib/python3.13/site-packages/rest_framework/request.py", "lineno": 232, "message": "in user"}, {"path": "venv/lib/python3.13/site-packages/rest_framework/request.py", "lineno": 385, "message": "in _authenticate"}, {"path": "authentication/adapters/django/jwt_authentication.py", "lineno": 35, "message": "in authenticate"}, {"path": "authentication/application/services/authentication_service.py", "lineno": 35, "message": "in verify"}, {"path": "authentication/application/services/verify_service.py", "lineno": 19, "message": "BusinessException"}], "log": [{"name": "django.request", "msg": "Internal Server Error: /api/simulation/compare/dca-vs-deposit/", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/Users/joe/Desktop/hackerton2026/Hackonomics-2026/venv/lib/python3.13/site-packages/django/utils/log.py", "filename": "log.py", "module": "log", "exc_info": null, "exc_text": "Traceback (most recent call last):\n  File \"/Users/joe/Desktop/hackerton2026/Hackonomics-2026/authentication/application/services/verify_service.py\", line 17, in verify\n    payload = self.central_auth.verify(access_token)\n  File \"/Users/joe/Desktop/hackerton2026/Hackonomics-2026/authentication/adapters/django/auth_service.py\", line 57, in verify\n    raise Exception(\"Invalid token\")\nException: Invalid token\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/Users/joe/Desktop/hackerton2026/Hackonomics-2026/venv/lib/python3.13/site-packages/django/core/handlers/exception.py\", line 55, in inner\n    response = get_response(request)\n  File \"/Users/joe/Desktop/hackerton2026/Hackonomics-2026/venv/lib/python3.13/site-packages/django/core/handlers/base.py\", line 198, in _get_response\n    response = wrapped_callback(request, *callback_args, **callback_kwargs)\n  File \"/Users/joe/Desktop/hackerton2026/Hackonomics-2026/venv/lib/python3.13/site-packages/django/views/decorators/csrf.py\", line 65, in _view_wrapper\n    return view_func(request, *args, **kwargs)\n  File \"/Users/joe/Desktop/hackerton2026/Hackonomics-2026/venv/lib/python3.13/site-packages/django/views/generic/base.py\", line 106, in view\n    return self.dispatch(request, *args, **kwargs)\n           ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/Users/joe/Desktop/hackerton2026/Hackonomics-2026/venv/lib/python3.13/site-packages/rest_framework/views.py\", line 515, in dispatch\n    response = self.handle_exception(exc)\n  File \"/Users/joe/Desktop/hackerton2026/Hackonomics-2026/venv/lib/python3.13/site-packages/rest_framework/views.py\", line 475, in handle_exception\n    self.raise_uncaught_exception(exc)\n    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^\n  File \"/Users/joe/Desktop/hackerton2026/Hackonomics-2026/venv/lib/python3.13/site-packages/rest_framework/views.py\", line 486, in raise_uncaught_exception\n    raise exc\n  File \"/Users/joe/Desktop/hackerton2026/Hackonomics-2026/venv/lib/python3.13/site-packages/rest_framework/views.py\", line 503, in dispatch\n    self.initial(request, *args, **kwargs)\n    ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/Users/joe/Desktop/hackerton2026/Hackonomics-2026/venv/lib/python3.13/site-packages/rest_framework/views.py\", line 420, in initial\n    self.perform_authentication(request)\n    ~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^\n  File \"/Users/joe/Desktop/hackerton2026/Hackonomics-2026/venv/lib/python3.13/site-packages/rest_framework/views.py\", line 330, in perform_authentication\n    request.user\n  File \"/Users/joe/Desktop/hackerton2026/Hackonomics-2026/venv/lib/python3.13/site-packages/rest_framework/request.py\", line 232, in user\n    self._authenticate()\n    ~~~~~~~~~~~~~~~~~~^^\n  File \"/Users/joe/Desktop/hackerton2026/Hackonomics-2026/venv/lib/python3.13/site-packages/rest_framework/request.py\", line 385, in _authenticate\n    user_auth_tuple = authenticator.authenticate(self)\n  File \"/Users/joe/Desktop/hackerton2026/Hackonomics-2026/authentication/adapters/django/jwt_authentication.py\", line 35, in authenticate\n    payload = service.verify(token)\n  File \"/Users/joe/Desktop/hackerton2026/Hackonomics-2026/authentication/application/services/authentication_service.py\", line 35, in verify\n    result = service.verify(access_token)\n  File \"/Users/joe/Desktop/hackerton2026/Hackonomics-2026/authentication/application/services/verify_service.py\", line 19, in verify\n    raise BusinessException(ErrorCode.TOKEN_INVALID)\ncommon.errors.exceptions.BusinessException: ErrorCode.TOKEN_INVALID", "stack_info": null, "lineno": 249, "funcName": "log_message", "created": 1770811447.059009, "msecs": 59.0, "relativeCreated": 2259.609, "thread": 8602078784, "threadName": "MainThread", "processName": "MainProcess", "process": 40963, "taskName": null, "request": "<WSGIRequest: POST '/api/simulation/compare/dca-vs-deposit/'>", "status_code": 500}], "longrepr": "self = <authentication.application.services.verify_service.VerifyService object at 0x1170882d0>\naccess_token = 'testtoken'\n\n    def verify(self, access_token: str) -> dict:\n        if not access_token:\n            raise BusinessException(ErrorCode.UNAUTHORIZED)\n    \n        try:\n>           payload = self.central_auth.verify(access_token)\n                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n\nauthentication/application/services/verify_service.py:17: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <authentication.adapters.django.auth_service.CentralAuthAdapter object at 0x1170aeda0>\naccess_token = 'testtoken'\n\n    def verify(self, access_token: str):\n        res = requests.post(\n            f\"{settings.CENTRAL_AUTH_URL}/auth/verify\",\n            headers={\n                \"X-Service-Key\": settings.CENTRAL_AUTH_SERVICE_KEY,\n                \"Authorization\": f\"Bearer {access_token}\",\n            },\n            timeout=settings.CENTRAL_AUTH_TIMEOUT,\n        )\n    \n        if res.status_code != 200:\n>           raise Exception(\"Invalid token\")\nE           Exception: Invalid token\n\nauthentication/adapters/django/auth_service.py:57: Exception\n\nDuring handling of the above exception, another exception occurred:\n\napi_client = <rest_framework.test.APIClient object at 0x112a8f850>\n\n    @pytest.mark.django_db\n    def test_compare_dca_vs_deposit_empty_payload(api_client):\n>       response = api_client.post(\n            \"/api/simulation/compare/dca-vs-deposit/\",\n            data={},\n            format=\"json\",\n        )\n\ntests.py:85: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \nvenv/lib/python3.13/site-packages/rest_framework/test.py:299: in post\n    response = super().post(\nvenv/lib/python3.13/site-packages/rest_framework/test.py:213: in post\n    return self.generic('POST', path, data, content_type, **extra)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nvenv/lib/python3.13/site-packages/rest_framework/test.py:237: in generic\n    return super().generic(\nvenv/lib/python3.13/site-packages/django/test/client.py:671: in generic\n    return self.request(**r)\n           ^^^^^^^^^^^^^^^^^\nvenv/lib/python3.13/site-packages/rest_framework/test.py:289: in request\n    return super().request(**kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^\nvenv/lib/python3.13/site-packages/rest_framework/test.py:241: in request\n    request = super().request(**kwargs)\n              ^^^^^^^^^^^^^^^^^^^^^^^^^\nvenv/lib/python3.13/site-packages/django/test/client.py:1087: in request\n    self.check_exception(response)\nvenv/lib/python3.13/site-packages/django/test/client.py:802: in check_exception\n    raise exc_value\nvenv/lib/python3.13/site-packages/django/core/handlers/exception.py:55: in inner\n    response = get_response(request)\n               ^^^^^^^^^^^^^^^^^^^^^\nvenv/lib/python3.13/site-packages/django/core/handlers/base.py:198: in _get_response\n    response = wrapped_callback(request, *callback_args, **callback_kwargs)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nvenv/lib/python3.13/site-packages/django/views/decorators/csrf.py:65: in _view_wrapper\n    return view_func(request, *args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nvenv/lib/python3.13/site-packages/django/views/generic/base.py:106: in view\n    return self.dispatch(request, *args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nvenv/lib/python3.13/site-packages/rest_framework/views.py:515: in dispatch\n    response = self.handle_exception(exc)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^\nvenv/lib/python3.13/site-packages/rest_framework/views.py:475: in handle_exception\n    self.raise_uncaught_exception(exc)\nvenv/lib/python3.13/site-packages/rest_framework/views.py:486: in raise_uncaught_exception\n    raise exc\nvenv/lib/python3.13/site-packages/rest_framework/views.py:503: in dispatch\n    self.initial(request, *args, **kwargs)\nvenv/lib/python3.13/site-packages/rest_framework/views.py:420: in initial\n    self.perform_authentication(request)\nvenv/lib/python3.13/site-packages/rest_framework/views.py:330: in perform_authentication\n    request.user\nvenv/lib/python3.13/site-packages/rest_framework/request.py:232: in user\n    self._authenticate()\nvenv/lib/python3.13/site-packages/rest_framework/request.py:385: in _authenticate\n    user_auth_tuple = authenticator.authenticate(self)\n                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nauthentication/adapters/django/jwt_authentication.py:35: in authenticate\n    payload = service.verify(token)\n              ^^^^^^^^^^^^^^^^^^^^^\nauthentication/application/services/authentication_service.py:35: in verify\n    result = service.verify(access_token)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <authentication.application.services.verify_service.VerifyService object at 0x1170882d0>\naccess_token = 'testtoken'\n\n    def verify(self, access_token: str) -> dict:\n        if not access_token:\n            raise BusinessException(ErrorCode.UNAUTHORIZED)\n    \n        try:\n            payload = self.central_auth.verify(access_token)\n        except Exception:\n>           raise BusinessException(ErrorCode.TOKEN_INVALID)\nE           common.errors.exceptions.BusinessException: ErrorCode.TOKEN_INVALID\n\nauthentication/application/services/verify_service.py:19: BusinessException"}, "teardown": {"duration": 0.001916582987178117, "outcome": "passed"}}, {"nodeid": "tests.py::test_compare_dca_vs_deposit_invalid_method", "lineno": 92, "outcome": "failed", "keywords": ["test_compare_dca_vs_deposit_invalid_method", "django_db", "pytestmark", "tests.py", "Hackonomics-2026", ""], "setup": {"duration": 0.0005949590122327209, "outcome": "passed"}, "call": {"duration": 0.0034822910092771053, "outcome": "failed", "crash": {"path": "/Users/joe/Desktop/hackerton2026/Hackonomics-2026/authentication/application/services/verify_service.py", "lineno": 19, "message": "common.errors.exceptions.BusinessException: ErrorCode.TOKEN_INVALID"}, "traceback": [{"path": "tests.py", "lineno": 95, "message": ""}, {"path": "venv/lib/python3.13/site-packages/rest_framework/test.py", "lineno": 292, "message": "in get"}, {"path": "venv/lib/python3.13/site-packages/rest_framework/test.py", "lineno": 209, "message": "in get"}, {"path": "venv/lib/python3.13/site-packages/rest_framework/test.py", "lineno": 237, "message": "in generic"}, {"path": "venv/lib/python3.13/site-packages/django/test/client.py", "lineno": 671, "message": "in generic"}, {"path": "venv/lib/python3.13/site-packages/rest_framework/test.py", "lineno": 289, "message": "in request"}, {"path": "venv/lib/python3.13/site-packages/rest_framework/test.py", "lineno": 241, "message": "in request"}, {"path": "venv/lib/python3.13/site-packages/django/test/client.py", "lineno": 1087, "message": "in request"}, {"path": "venv/lib/python3.13/site-packages/django/test/client.py", "lineno": 802, "message": "in check_exception"}, {"path": "venv/lib/python3.13/site-packages/django/core/handlers/exception.py", "lineno": 55, "message": "in inner"}, {"path": "venv/lib/python3.13/site-packages/django/core/handlers/base.py", "lineno": 198, "message": "in _get_response"}, {"path": "venv/lib/python3.13/site-packages/django/views/decorators/csrf.py", "lineno": 65, "message": "in _view_wrapper"}, {"path": "venv/lib/python3.13/site-packages/django/views/generic/base.py", "lineno": 106, "message": "in view"}, {"path": "venv/lib/python3.13/site-packages/rest_framework/views.py", "lineno": 515, "message": "in dispatch"}, {"path": "venv/lib/python3.13/site-packages/rest_framework/views.py", "lineno": 475, "message": "in handle_exception"}, {"path": "venv/lib/python3.13/site-packages/rest_framework/views.py", "lineno": 486, "message": "in raise_uncaught_exception"}, {"path": "venv/lib/python3.13/site-packages/rest_framework/views.py", "lineno": 503, "message": "in dispatch"}, {"path": "venv/lib/python3.13/site-packages/rest_framework/views.py", "lineno": 420, "message": "in initial"}, {"path": "venv/lib/python3.13/site-packages/rest_framework/views.py", "lineno": 330, "message": "in perform_authentication"}, {"path": "venv/lib/python3.13/site-packages/rest_framework/request.py", "lineno": 232, "message": "in user"}, {"path": "venv/lib/python3.13/site-packages/rest_framework/request.py", "lineno": 385, "message": "in _authenticate"}, {"path": "authentication/adapters/django/jwt_authentication.py", "lineno": 35, "message": "in authenticate"}, {"path": "authentication/application/services/authentication_service.py", "lineno": 35, "message": "in verify"}, {"path": "authentication/application/services/verify_service.py", "lineno": 19, "message": "BusinessException"}], "log": [{"name": "django.request", "msg": "Internal Server Error: /api/simulation/compare/dca-vs-deposit/", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/Users/joe/Desktop/hackerton2026/Hackonomics-2026/venv/lib/python3.13/site-packages/django/utils/log.py", "filename": "log.py", "module": "log", "exc_info": null, "exc_text": "Traceback (most recent call last):\n  File \"/Users/joe/Desktop/hackerton2026/Hackonomics-2026/authentication/application/services/verify_service.py\", line 17, in verify\n    payload = self.central_auth.verify(access_token)\n  File \"/Users/joe/Desktop/hackerton2026/Hackonomics-2026/authentication/adapters/django/auth_service.py\", line 57, in verify\n    raise Exception(\"Invalid token\")\nException: Invalid token\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/Users/joe/Desktop/hackerton2026/Hackonomics-2026/venv/lib/python3.13/site-packages/django/core/handlers/exception.py\", line 55, in inner\n    response = get_response(request)\n  File \"/Users/joe/Desktop/hackerton2026/Hackonomics-2026/venv/lib/python3.13/site-packages/django/core/handlers/base.py\", line 198, in _get_response\n    response = wrapped_callback(request, *callback_args, **callback_kwargs)\n  File \"/Users/joe/Desktop/hackerton2026/Hackonomics-2026/venv/lib/python3.13/site-packages/django/views/decorators/csrf.py\", line 65, in _view_wrapper\n    return view_func(request, *args, **kwargs)\n  File \"/Users/joe/Desktop/hackerton2026/Hackonomics-2026/venv/lib/python3.13/site-packages/django/views/generic/base.py\", line 106, in view\n    return self.dispatch(request, *args, **kwargs)\n           ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/Users/joe/Desktop/hackerton2026/Hackonomics-2026/venv/lib/python3.13/site-packages/rest_framework/views.py\", line 515, in dispatch\n    response = self.handle_exception(exc)\n  File \"/Users/joe/Desktop/hackerton2026/Hackonomics-2026/venv/lib/python3.13/site-packages/rest_framework/views.py\", line 475, in handle_exception\n    self.raise_uncaught_exception(exc)\n    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^\n  File \"/Users/joe/Desktop/hackerton2026/Hackonomics-2026/venv/lib/python3.13/site-packages/rest_framework/views.py\", line 486, in raise_uncaught_exception\n    raise exc\n  File \"/Users/joe/Desktop/hackerton2026/Hackonomics-2026/venv/lib/python3.13/site-packages/rest_framework/views.py\", line 503, in dispatch\n    self.initial(request, *args, **kwargs)\n    ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/Users/joe/Desktop/hackerton2026/Hackonomics-2026/venv/lib/python3.13/site-packages/rest_framework/views.py\", line 420, in initial\n    self.perform_authentication(request)\n    ~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^\n  File \"/Users/joe/Desktop/hackerton2026/Hackonomics-2026/venv/lib/python3.13/site-packages/rest_framework/views.py\", line 330, in perform_authentication\n    request.user\n  File \"/Users/joe/Desktop/hackerton2026/Hackonomics-2026/venv/lib/python3.13/site-packages/rest_framework/request.py\", line 232, in user\n    self._authenticate()\n    ~~~~~~~~~~~~~~~~~~^^\n  File \"/Users/joe/Desktop/hackerton2026/Hackonomics-2026/venv/lib/python3.13/site-packages/rest_framework/request.py\", line 385, in _authenticate\n    user_auth_tuple = authenticator.authenticate(self)\n  File \"/Users/joe/Desktop/hackerton2026/Hackonomics-2026/authentication/adapters/django/jwt_authentication.py\", line 35, in authenticate\n    payload = service.verify(token)\n  File \"/Users/joe/Desktop/hackerton2026/Hackonomics-2026/authentication/application/services/authentication_service.py\", line 35, in verify\n    result = service.verify(access_token)\n  File \"/Users/joe/Desktop/hackerton2026/Hackonomics-2026/authentication/application/services/verify_service.py\", line 19, in verify\n    raise BusinessException(ErrorCode.TOKEN_INVALID)\ncommon.errors.exceptions.BusinessException: ErrorCode.TOKEN_INVALID", "stack_info": null, "lineno": 249, "funcName": "log_message", "created": 1770811447.120258, "msecs": 120.0, "relativeCreated": 2320.858, "thread": 8602078784, "threadName": "MainThread", "processName": "MainProcess", "process": 40963, "taskName": null, "request": "<WSGIRequest: GET '/api/simulation/compare/dca-vs-deposit/'>", "status_code": 500}], "longrepr": "self = <authentication.application.services.verify_service.VerifyService object at 0x112b8b380>\naccess_token = 'testtoken'\n\n    def verify(self, access_token: str) -> dict:\n        if not access_token:\n            raise BusinessException(ErrorCode.UNAUTHORIZED)\n    \n        try:\n>           payload = self.central_auth.verify(access_token)\n                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n\nauthentication/application/services/verify_service.py:17: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <authentication.adapters.django.auth_service.CentralAuthAdapter object at 0x1170af340>\naccess_token = 'testtoken'\n\n    def verify(self, access_token: str):\n        res = requests.post(\n            f\"{settings.CENTRAL_AUTH_URL}/auth/verify\",\n            headers={\n                \"X-Service-Key\": settings.CENTRAL_AUTH_SERVICE_KEY,\n                \"Authorization\": f\"Bearer {access_token}\",\n            },\n            timeout=settings.CENTRAL_AUTH_TIMEOUT,\n        )\n    \n        if res.status_code != 200:\n>           raise Exception(\"Invalid token\")\nE           Exception: Invalid token\n\nauthentication/adapters/django/auth_service.py:57: Exception\n\nDuring handling of the above exception, another exception occurred:\n\napi_client = <rest_framework.test.APIClient object at 0x1170b0c80>\n\n    @pytest.mark.django_db\n    def test_compare_dca_vs_deposit_invalid_method(api_client):\n>       response = api_client.get(\"/api/simulation/compare/dca-vs-deposit/\")\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n\ntests.py:95: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \nvenv/lib/python3.13/site-packages/rest_framework/test.py:292: in get\n    response = super().get(path, data=data, **extra)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nvenv/lib/python3.13/site-packages/rest_framework/test.py:209: in get\n    return self.generic('GET', path, **r)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nvenv/lib/python3.13/site-packages/rest_framework/test.py:237: in generic\n    return super().generic(\nvenv/lib/python3.13/site-packages/django/test/client.py:671: in generic\n    return self.request(**r)\n           ^^^^^^^^^^^^^^^^^\nvenv/lib/python3.13/site-packages/rest_framework/test.py:289: in request\n    return super().request(**kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^\nvenv/lib/python3.13/site-packages/rest_framework/test.py:241: in request\n    request = super().request(**kwargs)\n              ^^^^^^^^^^^^^^^^^^^^^^^^^\nvenv/lib/python3.13/site-packages/django/test/client.py:1087: in request\n    self.check_exception(response)\nvenv/lib/python3.13/site-packages/django/test/client.py:802: in check_exception\n    raise exc_value\nvenv/lib/python3.13/site-packages/django/core/handlers/exception.py:55: in inner\n    response = get_response(request)\n               ^^^^^^^^^^^^^^^^^^^^^\nvenv/lib/python3.13/site-packages/django/core/handlers/base.py:198: in _get_response\n    response = wrapped_callback(request, *callback_args, **callback_kwargs)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nvenv/lib/python3.13/site-packages/django/views/decorators/csrf.py:65: in _view_wrapper\n    return view_func(request, *args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nvenv/lib/python3.13/site-packages/django/views/generic/base.py:106: in view\n    return self.dispatch(request, *args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nvenv/lib/python3.13/site-packages/rest_framework/views.py:515: in dispatch\n    response = self.handle_exception(exc)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^\nvenv/lib/python3.13/site-packages/rest_framework/views.py:475: in handle_exception\n    self.raise_uncaught_exception(exc)\nvenv/lib/python3.13/site-packages/rest_framework/views.py:486: in raise_uncaught_exception\n    raise exc\nvenv/lib/python3.13/site-packages/rest_framework/views.py:503: in dispatch\n    self.initial(request, *args, **kwargs)\nvenv/lib/python3.13/site-packages/rest_framework/views.py:420: in initial\n    self.perform_authentication(request)\nvenv/lib/python3.13/site-packages/rest_framework/views.py:330: in perform_authentication\n    request.user\nvenv/lib/python3.13/site-packages/rest_framework/request.py:232: in user\n    self._authenticate()\nvenv/lib/python3.13/site-packages/rest_framework/request.py:385: in _authenticate\n    user_auth_tuple = authenticator.authenticate(self)\n                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nauthentication/adapters/django/jwt_authentication.py:35: in authenticate\n    payload = service.verify(token)\n              ^^^^^^^^^^^^^^^^^^^^^\nauthentication/application/services/authentication_service.py:35: in verify\n    result = service.verify(access_token)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <authentication.application.services.verify_service.VerifyService object at 0x112b8b380>\naccess_token = 'testtoken'\n\n    def verify(self, access_token: str) -> dict:\n        if not access_token:\n            raise BusinessException(ErrorCode.UNAUTHORIZED)\n    \n        try:\n            payload = self.central_auth.verify(access_token)\n        except Exception:\n>           raise BusinessException(ErrorCode.TOKEN_INVALID)\nE           common.errors.exceptions.BusinessException: ErrorCode.TOKEN_INVALID\n\nauthentication/application/services/verify_service.py:19: BusinessException"}, "teardown": {"duration": 0.0027711660077329725, "outcome": "passed"}}, {"nodeid": "tests.py::test_account_me_success", "lineno": 100, "outcome": "failed", "keywords": ["test_account_me_success", "django_db", "pytestmark", "tests.py", "Hackonomics-2026", ""], "setup": {"duration": 0.0005650419916491956, "outcome": "passed"}, "call": {"duration": 0.005452291981782764, "outcome": "failed", "crash": {"path": "/Users/joe/Desktop/hackerton2026/Hackonomics-2026/authentication/application/services/verify_service.py", "lineno": 19, "message": "common.errors.exceptions.BusinessException: ErrorCode.TOKEN_INVALID"}, "traceback": [{"path": "tests.py", "lineno": 103, "message": ""}, {"path": "venv/lib/python3.13/site-packages/rest_framework/test.py", "lineno": 292, "message": "in get"}, {"path": "venv/lib/python3.13/site-packages/rest_framework/test.py", "lineno": 209, "message": "in get"}, {"path": "venv/lib/python3.13/site-packages/rest_framework/test.py", "lineno": 237, "message": "in generic"}, {"path": "venv/lib/python3.13/site-packages/django/test/client.py", "lineno": 671, "message": "in generic"}, {"path": "venv/lib/python3.13/site-packages/rest_framework/test.py", "lineno": 289, "message": "in request"}, {"path": "venv/lib/python3.13/site-packages/rest_framework/test.py", "lineno": 241, "message": "in request"}, {"path": "venv/lib/python3.13/site-packages/django/test/client.py", "lineno": 1087, "message": "in request"}, {"path": "venv/lib/python3.13/site-packages/django/test/client.py", "lineno": 802, "message": "in check_exception"}, {"path": "venv/lib/python3.13/site-packages/django/core/handlers/exception.py", "lineno": 55, "message": "in inner"}, {"path": "venv/lib/python3.13/site-packages/django/core/handlers/base.py", "lineno": 198, "message": "in _get_response"}, {"path": "venv/lib/python3.13/site-packages/django/views/decorators/csrf.py", "lineno": 65, "message": "in _view_wrapper"}, {"path": "venv/lib/python3.13/site-packages/django/views/generic/base.py", "lineno": 106, "message": "in view"}, {"path": "venv/lib/python3.13/site-packages/rest_framework/views.py", "lineno": 515, "message": "in dispatch"}, {"path": "venv/lib/python3.13/site-packages/rest_framework/views.py", "lineno": 475, "message": "in handle_exception"}, {"path": "venv/lib/python3.13/site-packages/rest_framework/views.py", "lineno": 486, "message": "in raise_uncaught_exception"}, {"path": "venv/lib/python3.13/site-packages/rest_framework/views.py", "lineno": 503, "message": "in dispatch"}, {"path": "venv/lib/python3.13/site-packages/rest_framework/views.py", "lineno": 420, "message": "in initial"}, {"path": "venv/lib/python3.13/site-packages/rest_framework/views.py", "lineno": 330, "message": "in perform_authentication"}, {"path": "venv/lib/python3.13/site-packages/rest_framework/request.py", "lineno": 232, "message": "in user"}, {"path": "venv/lib/python3.13/site-packages/rest_framework/request.py", "lineno": 385, "message": "in _authenticate"}, {"path": "authentication/adapters/django/jwt_authentication.py", "lineno": 35, "message": "in authenticate"}, {"path": "authentication/application/services/authentication_service.py", "lineno": 35, "message": "in verify"}, {"path": "authentication/application/services/verify_service.py", "lineno": 19, "message": "BusinessException"}], "log": [{"name": "django.request", "msg": "Internal Server Error: /api/account/me/", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/Users/joe/Desktop/hackerton2026/Hackonomics-2026/venv/lib/python3.13/site-packages/django/utils/log.py", "filename": "log.py", "module": "log", "exc_info": null, "exc_text": "Traceback (most recent call last):\n  File \"/Users/joe/Desktop/hackerton2026/Hackonomics-2026/authentication/application/services/verify_service.py\", line 17, in verify\n    payload = self.central_auth.verify(access_token)\n  File \"/Users/joe/Desktop/hackerton2026/Hackonomics-2026/authentication/adapters/django/auth_service.py\", line 57, in verify\n    raise Exception(\"Invalid token\")\nException: Invalid token\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/Users/joe/Desktop/hackerton2026/Hackonomics-2026/venv/lib/python3.13/site-packages/django/core/handlers/exception.py\", line 55, in inner\n    response = get_response(request)\n  File \"/Users/joe/Desktop/hackerton2026/Hackonomics-2026/venv/lib/python3.13/site-packages/django/core/handlers/base.py\", line 198, in _get_response\n    response = wrapped_callback(request, *callback_args, **callback_kwargs)\n  File \"/Users/joe/Desktop/hackerton2026/Hackonomics-2026/venv/lib/python3.13/site-packages/django/views/decorators/csrf.py\", line 65, in _view_wrapper\n    return view_func(request, *args, **kwargs)\n  File \"/Users/joe/Desktop/hackerton2026/Hackonomics-2026/venv/lib/python3.13/site-packages/django/views/generic/base.py\", line 106, in view\n    return self.dispatch(request, *args, **kwargs)\n           ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/Users/joe/Desktop/hackerton2026/Hackonomics-2026/venv/lib/python3.13/site-packages/rest_framework/views.py\", line 515, in dispatch\n    response = self.handle_exception(exc)\n  File \"/Users/joe/Desktop/hackerton2026/Hackonomics-2026/venv/lib/python3.13/site-packages/rest_framework/views.py\", line 475, in handle_exception\n    self.raise_uncaught_exception(exc)\n    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^\n  File \"/Users/joe/Desktop/hackerton2026/Hackonomics-2026/venv/lib/python3.13/site-packages/rest_framework/views.py\", line 486, in raise_uncaught_exception\n    raise exc\n  File \"/Users/joe/Desktop/hackerton2026/Hackonomics-2026/venv/lib/python3.13/site-packages/rest_framework/views.py\", line 503, in dispatch\n    self.initial(request, *args, **kwargs)\n    ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/Users/joe/Desktop/hackerton2026/Hackonomics-2026/venv/lib/python3.13/site-packages/rest_framework/views.py\", line 420, in initial\n    self.perform_authentication(request)\n    ~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^\n  File \"/Users/joe/Desktop/hackerton2026/Hackonomics-2026/venv/lib/python3.13/site-packages/rest_framework/views.py\", line 330, in perform_authentication\n    request.user\n  File \"/Users/joe/Desktop/hackerton2026/Hackonomics-2026/venv/lib/python3.13/site-packages/rest_framework/request.py\", line 232, in user\n    self._authenticate()\n    ~~~~~~~~~~~~~~~~~~^^\n  File \"/Users/joe/Desktop/hackerton2026/Hackonomics-2026/venv/lib/python3.13/site-packages/rest_framework/request.py\", line 385, in _authenticate\n    user_auth_tuple = authenticator.authenticate(self)\n  File \"/Users/joe/Desktop/hackerton2026/Hackonomics-2026/authentication/adapters/django/jwt_authentication.py\", line 35, in authenticate\n    payload = service.verify(token)\n  File \"/Users/joe/Desktop/hackerton2026/Hackonomics-2026/authentication/application/services/authentication_service.py\", line 35, in verify\n    result = service.verify(access_token)\n  File \"/Users/joe/Desktop/hackerton2026/Hackonomics-2026/authentication/application/services/verify_service.py\", line 19, in verify\n    raise BusinessException(ErrorCode.TOKEN_INVALID)\ncommon.errors.exceptions.BusinessException: ErrorCode.TOKEN_INVALID", "stack_info": null, "lineno": 249, "funcName": "log_message", "created": 1770811447.223181, "msecs": 223.0, "relativeCreated": 2423.781, "thread": 8602078784, "threadName": "MainThread", "processName": "MainProcess", "process": 40963, "taskName": null, "request": "<WSGIRequest: GET '/api/account/me/'>", "status_code": 500}], "longrepr": "self = <authentication.application.services.verify_service.VerifyService object at 0x112c8fb50>\naccess_token = 'testtoken'\n\n    def verify(self, access_token: str) -> dict:\n        if not access_token:\n            raise BusinessException(ErrorCode.UNAUTHORIZED)\n    \n        try:\n>           payload = self.central_auth.verify(access_token)\n                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n\nauthentication/application/services/verify_service.py:17: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <authentication.adapters.django.auth_service.CentralAuthAdapter object at 0x1170f52c0>\naccess_token = 'testtoken'\n\n    def verify(self, access_token: str):\n        res = requests.post(\n            f\"{settings.CENTRAL_AUTH_URL}/auth/verify\",\n            headers={\n                \"X-Service-Key\": settings.CENTRAL_AUTH_SERVICE_KEY,\n                \"Authorization\": f\"Bearer {access_token}\",\n            },\n            timeout=settings.CENTRAL_AUTH_TIMEOUT,\n        )\n    \n        if res.status_code != 200:\n>           raise Exception(\"Invalid token\")\nE           Exception: Invalid token\n\nauthentication/adapters/django/auth_service.py:57: Exception\n\nDuring handling of the above exception, another exception occurred:\n\napi_client = <rest_framework.test.APIClient object at 0x112a7b200>\n\n    @pytest.mark.django_db\n    def test_account_me_success(api_client):\n>       response = api_client.get(\"/api/account/me/\")\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n\ntests.py:103: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \nvenv/lib/python3.13/site-packages/rest_framework/test.py:292: in get\n    response = super().get(path, data=data, **extra)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nvenv/lib/python3.13/site-packages/rest_framework/test.py:209: in get\n    return self.generic('GET', path, **r)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nvenv/lib/python3.13/site-packages/rest_framework/test.py:237: in generic\n    return super().generic(\nvenv/lib/python3.13/site-packages/django/test/client.py:671: in generic\n    return self.request(**r)\n           ^^^^^^^^^^^^^^^^^\nvenv/lib/python3.13/site-packages/rest_framework/test.py:289: in request\n    return super().request(**kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^\nvenv/lib/python3.13/site-packages/rest_framework/test.py:241: in request\n    request = super().request(**kwargs)\n              ^^^^^^^^^^^^^^^^^^^^^^^^^\nvenv/lib/python3.13/site-packages/django/test/client.py:1087: in request\n    self.check_exception(response)\nvenv/lib/python3.13/site-packages/django/test/client.py:802: in check_exception\n    raise exc_value\nvenv/lib/python3.13/site-packages/django/core/handlers/exception.py:55: in inner\n    response = get_response(request)\n               ^^^^^^^^^^^^^^^^^^^^^\nvenv/lib/python3.13/site-packages/django/core/handlers/base.py:198: in _get_response\n    response = wrapped_callback(request, *callback_args, **callback_kwargs)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nvenv/lib/python3.13/site-packages/django/views/decorators/csrf.py:65: in _view_wrapper\n    return view_func(request, *args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nvenv/lib/python3.13/site-packages/django/views/generic/base.py:106: in view\n    return self.dispatch(request, *args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nvenv/lib/python3.13/site-packages/rest_framework/views.py:515: in dispatch\n    response = self.handle_exception(exc)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^\nvenv/lib/python3.13/site-packages/rest_framework/views.py:475: in handle_exception\n    self.raise_uncaught_exception(exc)\nvenv/lib/python3.13/site-packages/rest_framework/views.py:486: in raise_uncaught_exception\n    raise exc\nvenv/lib/python3.13/site-packages/rest_framework/views.py:503: in dispatch\n    self.initial(request, *args, **kwargs)\nvenv/lib/python3.13/site-packages/rest_framework/views.py:420: in initial\n    self.perform_authentication(request)\nvenv/lib/python3.13/site-packages/rest_framework/views.py:330: in perform_authentication\n    request.user\nvenv/lib/python3.13/site-packages/rest_framework/request.py:232: in user\n    self._authenticate()\nvenv/lib/python3.13/site-packages/rest_framework/request.py:385: in _authenticate\n    user_auth_tuple = authenticator.authenticate(self)\n                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nauthentication/adapters/django/jwt_authentication.py:35: in authenticate\n    payload = service.verify(token)\n              ^^^^^^^^^^^^^^^^^^^^^\nauthentication/application/services/authentication_service.py:35: in verify\n    result = service.verify(access_token)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <authentication.application.services.verify_service.VerifyService object at 0x112c8fb50>\naccess_token = 'testtoken'\n\n    def verify(self, access_token: str) -> dict:\n        if not access_token:\n            raise BusinessException(ErrorCode.UNAUTHORIZED)\n    \n        try:\n            payload = self.central_auth.verify(access_token)\n        except Exception:\n>           raise BusinessException(ErrorCode.TOKEN_INVALID)\nE           common.errors.exceptions.BusinessException: ErrorCode.TOKEN_INVALID\n\nauthentication/application/services/verify_service.py:19: BusinessException"}, "teardown": {"duration": 0.004506583994952962, "outcome": "passed"}}, {"nodeid": "tests.py::test_account_me_invalid_method", "lineno": 106, "outcome": "failed", "keywords": ["test_account_me_invalid_method", "django_db", "pytestmark", "tests.py", "Hackonomics-2026", ""], "setup": {"duration": 0.000557082996238023, "outcome": "passed"}, "call": {"duration": 0.0037217089848127216, "outcome": "failed", "crash": {"path": "/Users/joe/Desktop/hackerton2026/Hackonomics-2026/authentication/application/services/verify_service.py", "lineno": 19, "message": "common.errors.exceptions.BusinessException: ErrorCode.TOKEN_INVALID"}, "traceback": [{"path": "tests.py", "lineno": 109, "message": ""}, {"path": "venv/lib/python3.13/site-packages/rest_framework/test.py", "lineno": 299, "message": "in post"}, {"path": "venv/lib/python3.13/site-packages/rest_framework/test.py", "lineno": 213, "message": "in post"}, {"path": "venv/lib/python3.13/site-packages/rest_framework/test.py", "lineno": 237, "message": "in generic"}, {"path": "venv/lib/python3.13/site-packages/django/test/client.py", "lineno": 671, "message": "in generic"}, {"path": "venv/lib/python3.13/site-packages/rest_framework/test.py", "lineno": 289, "message": "in request"}, {"path": "venv/lib/python3.13/site-packages/rest_framework/test.py", "lineno": 241, "message": "in request"}, {"path": "venv/lib/python3.13/site-packages/django/test/client.py", "lineno": 1087, "message": "in request"}, {"path": "venv/lib/python3.13/site-packages/django/test/client.py", "lineno": 802, "message": "in check_exception"}, {"path": "venv/lib/python3.13/site-packages/django/core/handlers/exception.py", "lineno": 55, "message": "in inner"}, {"path": "venv/lib/python3.13/site-packages/django/core/handlers/base.py", "lineno": 198, "message": "in _get_response"}, {"path": "venv/lib/python3.13/site-packages/django/views/decorators/csrf.py", "lineno": 65, "message": "in _view_wrapper"}, {"path": "venv/lib/python3.13/site-packages/django/views/generic/base.py", "lineno": 106, "message": "in view"}, {"path": "venv/lib/python3.13/site-packages/rest_framework/views.py", "lineno": 515, "message": "in dispatch"}, {"path": "venv/lib/python3.13/site-packages/rest_framework/views.py", "lineno": 475, "message": "in handle_exception"}, {"path": "venv/lib/python3.13/site-packages/rest_framework/views.py", "lineno": 486, "message": "in raise_uncaught_exception"}, {"path": "venv/lib/python3.13/site-packages/rest_framework/views.py", "lineno": 503, "message": "in dispatch"}, {"path": "venv/lib/python3.13/site-packages/rest_framework/views.py", "lineno": 420, "message": "in initial"}, {"path": "venv/lib/python3.13/site-packages/rest_framework/views.py", "lineno": 330, "message": "in perform_authentication"}, {"path": "venv/lib/python3.13/site-packages/rest_framework/request.py", "lineno": 232, "message": "in user"}, {"path": "venv/lib/python3.13/site-packages/rest_framework/request.py", "lineno": 385, "message": "in _authenticate"}, {"path": "authentication/adapters/django/jwt_authentication.py", "lineno": 35, "message": "in authenticate"}, {"path": "authentication/application/services/authentication_service.py", "lineno": 35, "message": "in verify"}, {"path": "authentication/application/services/verify_service.py", "lineno": 19, "message": "BusinessException"}], "log": [{"name": "django.request", "msg": "Internal Server Error: /api/account/me/", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/Users/joe/Desktop/hackerton2026/Hackonomics-2026/venv/lib/python3.13/site-packages/django/utils/log.py", "filename": "log.py", "module": "log", "exc_info": null, "exc_text": "Traceback (most recent call last):\n  File \"/Users/joe/Desktop/hackerton2026/Hackonomics-2026/authentication/application/services/verify_service.py\", line 17, in verify\n    payload = self.central_auth.verify(access_token)\n  File \"/Users/joe/Desktop/hackerton2026/Hackonomics-2026/authentication/adapters/django/auth_service.py\", line 57, in verify\n    raise Exception(\"Invalid token\")\nException: Invalid token\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/Users/joe/Desktop/hackerton2026/Hackonomics-2026/venv/lib/python3.13/site-packages/django/core/handlers/exception.py\", line 55, in inner\n    response = get_response(request)\n  File \"/Users/joe/Desktop/hackerton2026/Hackonomics-2026/venv/lib/python3.13/site-packages/django/core/handlers/base.py\", line 198, in _get_response\n    response = wrapped_callback(request, *callback_args, **callback_kwargs)\n  File \"/Users/joe/Desktop/hackerton2026/Hackonomics-2026/venv/lib/python3.13/site-packages/django/views/decorators/csrf.py\", line 65, in _view_wrapper\n    return view_func(request, *args, **kwargs)\n  File \"/Users/joe/Desktop/hackerton2026/Hackonomics-2026/venv/lib/python3.13/site-packages/django/views/generic/base.py\", line 106, in view\n    return self.dispatch(request, *args, **kwargs)\n           ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/Users/joe/Desktop/hackerton2026/Hackonomics-2026/venv/lib/python3.13/site-packages/rest_framework/views.py\", line 515, in dispatch\n    response = self.handle_exception(exc)\n  File \"/Users/joe/Desktop/hackerton2026/Hackonomics-2026/venv/lib/python3.13/site-packages/rest_framework/views.py\", line 475, in handle_exception\n    self.raise_uncaught_exception(exc)\n    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^\n  File \"/Users/joe/Desktop/hackerton2026/Hackonomics-2026/venv/lib/python3.13/site-packages/rest_framework/views.py\", line 486, in raise_uncaught_exception\n    raise exc\n  File \"/Users/joe/Desktop/hackerton2026/Hackonomics-2026/venv/lib/python3.13/site-packages/rest_framework/views.py\", line 503, in dispatch\n    self.initial(request, *args, **kwargs)\n    ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/Users/joe/Desktop/hackerton2026/Hackonomics-2026/venv/lib/python3.13/site-packages/rest_framework/views.py\", line 420, in initial\n    self.perform_authentication(request)\n    ~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^\n  File \"/Users/joe/Desktop/hackerton2026/Hackonomics-2026/venv/lib/python3.13/site-packages/rest_framework/views.py\", line 330, in perform_authentication\n    request.user\n  File \"/Users/joe/Desktop/hackerton2026/Hackonomics-2026/venv/lib/python3.13/site-packages/rest_framework/request.py\", line 232, in user\n    self._authenticate()\n    ~~~~~~~~~~~~~~~~~~^^\n  File \"/Users/joe/Desktop/hackerton2026/Hackonomics-2026/venv/lib/python3.13/site-packages/rest_framework/request.py\", line 385, in _authenticate\n    user_auth_tuple = authenticator.authenticate(self)\n  File \"/Users/joe/Desktop/hackerton2026/Hackonomics-2026/authentication/adapters/django/jwt_authentication.py\", line 35, in authenticate\n    payload = service.verify(token)\n  File \"/Users/joe/Desktop/hackerton2026/Hackonomics-2026/authentication/application/services/authentication_service.py\", line 35, in verify\n    result = service.verify(access_token)\n  File \"/Users/joe/Desktop/hackerton2026/Hackonomics-2026/authentication/application/services/verify_service.py\", line 19, in verify\n    raise BusinessException(ErrorCode.TOKEN_INVALID)\ncommon.errors.exceptions.BusinessException: ErrorCode.TOKEN_INVALID", "stack_info": null, "lineno": 249, "funcName": "log_message", "created": 1770811447.285409, "msecs": 285.0, "relativeCreated": 2486.009, "thread": 8602078784, "threadName": "MainThread", "processName": "MainProcess", "process": 40963, "taskName": null, "request": "<WSGIRequest: POST '/api/account/me/'>", "status_code": 500}], "longrepr": "self = <authentication.application.services.verify_service.VerifyService object at 0x112ab12b0>\naccess_token = 'testtoken'\n\n    def verify(self, access_token: str) -> dict:\n        if not access_token:\n            raise BusinessException(ErrorCode.UNAUTHORIZED)\n    \n        try:\n>           payload = self.central_auth.verify(access_token)\n                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n\nauthentication/application/services/verify_service.py:17: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <authentication.adapters.django.auth_service.CentralAuthAdapter object at 0x1170f67b0>\naccess_token = 'testtoken'\n\n    def verify(self, access_token: str):\n        res = requests.post(\n            f\"{settings.CENTRAL_AUTH_URL}/auth/verify\",\n            headers={\n                \"X-Service-Key\": settings.CENTRAL_AUTH_SERVICE_KEY,\n                \"Authorization\": f\"Bearer {access_token}\",\n            },\n            timeout=settings.CENTRAL_AUTH_TIMEOUT,\n        )\n    \n        if res.status_code != 200:\n>           raise Exception(\"Invalid token\")\nE           Exception: Invalid token\n\nauthentication/adapters/django/auth_service.py:57: Exception\n\nDuring handling of the above exception, another exception occurred:\n\napi_client = <rest_framework.test.APIClient object at 0x112bb0750>\n\n    @pytest.mark.django_db\n    def test_account_me_invalid_method(api_client):\n>       response = api_client.post(\"/api/account/me/\", data={}, format=\"json\")\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n\ntests.py:109: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \nvenv/lib/python3.13/site-packages/rest_framework/test.py:299: in post\n    response = super().post(\nvenv/lib/python3.13/site-packages/rest_framework/test.py:213: in post\n    return self.generic('POST', path, data, content_type, **extra)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nvenv/lib/python3.13/site-packages/rest_framework/test.py:237: in generic\n    return super().generic(\nvenv/lib/python3.13/site-packages/django/test/client.py:671: in generic\n    return self.request(**r)\n           ^^^^^^^^^^^^^^^^^\nvenv/lib/python3.13/site-packages/rest_framework/test.py:289: in request\n    return super().request(**kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^\nvenv/lib/python3.13/site-packages/rest_framework/test.py:241: in request\n    request = super().request(**kwargs)\n              ^^^^^^^^^^^^^^^^^^^^^^^^^\nvenv/lib/python3.13/site-packages/django/test/client.py:1087: in request\n    self.check_exception(response)\nvenv/lib/python3.13/site-packages/django/test/client.py:802: in check_exception\n    raise exc_value\nvenv/lib/python3.13/site-packages/django/core/handlers/exception.py:55: in inner\n    response = get_response(request)\n               ^^^^^^^^^^^^^^^^^^^^^\nvenv/lib/python3.13/site-packages/django/core/handlers/base.py:198: in _get_response\n    response = wrapped_callback(request, *callback_args, **callback_kwargs)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nvenv/lib/python3.13/site-packages/django/views/decorators/csrf.py:65: in _view_wrapper\n    return view_func(request, *args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nvenv/lib/python3.13/site-packages/django/views/generic/base.py:106: in view\n    return self.dispatch(request, *args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nvenv/lib/python3.13/site-packages/rest_framework/views.py:515: in dispatch\n    response = self.handle_exception(exc)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^\nvenv/lib/python3.13/site-packages/rest_framework/views.py:475: in handle_exception\n    self.raise_uncaught_exception(exc)\nvenv/lib/python3.13/site-packages/rest_framework/views.py:486: in raise_uncaught_exception\n    raise exc\nvenv/lib/python3.13/site-packages/rest_framework/views.py:503: in dispatch\n    self.initial(request, *args, **kwargs)\nvenv/lib/python3.13/site-packages/rest_framework/views.py:420: in initial\n    self.perform_authentication(request)\nvenv/lib/python3.13/site-packages/rest_framework/views.py:330: in perform_authentication\n    request.user\nvenv/lib/python3.13/site-packages/rest_framework/request.py:232: in user\n    self._authenticate()\nvenv/lib/python3.13/site-packages/rest_framework/request.py:385: in _authenticate\n    user_auth_tuple = authenticator.authenticate(self)\n                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nauthentication/adapters/django/jwt_authentication.py:35: in authenticate\n    payload = service.verify(token)\n              ^^^^^^^^^^^^^^^^^^^^^\nauthentication/application/services/authentication_service.py:35: in verify\n    result = service.verify(access_token)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <authentication.application.services.verify_service.VerifyService object at 0x112ab12b0>\naccess_token = 'testtoken'\n\n    def verify(self, access_token: str) -> dict:\n        if not access_token:\n            raise BusinessException(ErrorCode.UNAUTHORIZED)\n    \n        try:\n            payload = self.central_auth.verify(access_token)\n        except Exception:\n>           raise BusinessException(ErrorCode.TOKEN_INVALID)\nE           common.errors.exceptions.BusinessException: ErrorCode.TOKEN_INVALID\n\nauthentication/application/services/verify_service.py:19: BusinessException"}, "teardown": {"duration": 0.004379207995953038, "outcome": "passed"}}, {"nodeid": "tests.py::test_my_exchange_rate_success", "lineno": 112, "outcome": "failed", "keywords": ["test_my_exchange_rate_success", "django_db", "pytestmark", "tests.py", "Hackonomics-2026", ""], "setup": {"duration": 0.0005792499869130552, "outcome": "passed"}, "call": {"duration": 0.004715874994872138, "outcome": "failed", "crash": {"path": "/Users/joe/Desktop/hackerton2026/Hackonomics-2026/authentication/application/services/verify_service.py", "lineno": 19, "message": "common.errors.exceptions.BusinessException: ErrorCode.TOKEN_INVALID"}, "traceback": [{"path": "tests.py", "lineno": 115, "message": ""}, {"path": "venv/lib/python3.13/site-packages/rest_framework/test.py", "lineno": 292, "message": "in get"}, {"path": "venv/lib/python3.13/site-packages/rest_framework/test.py", "lineno": 209, "message": "in get"}, {"path": "venv/lib/python3.13/site-packages/rest_framework/test.py", "lineno": 237, "message": "in generic"}, {"path": "venv/lib/python3.13/site-packages/django/test/client.py", "lineno": 671, "message": "in generic"}, {"path": "venv/lib/python3.13/site-packages/rest_framework/test.py", "lineno": 289, "message": "in request"}, {"path": "venv/lib/python3.13/site-packages/rest_framework/test.py", "lineno": 241, "message": "in request"}, {"path": "venv/lib/python3.13/site-packages/django/test/client.py", "lineno": 1087, "message": "in request"}, {"path": "venv/lib/python3.13/site-packages/django/test/client.py", "lineno": 802, "message": "in check_exception"}, {"path": "venv/lib/python3.13/site-packages/django/core/handlers/exception.py", "lineno": 55, "message": "in inner"}, {"path": "venv/lib/python3.13/site-packages/django/core/handlers/base.py", "lineno": 198, "message": "in _get_response"}, {"path": "venv/lib/python3.13/site-packages/django/views/decorators/csrf.py", "lineno": 65, "message": "in _view_wrapper"}, {"path": "venv/lib/python3.13/site-packages/django/views/generic/base.py", "lineno": 106, "message": "in view"}, {"path": "venv/lib/python3.13/site-packages/rest_framework/views.py", "lineno": 515, "message": "in dispatch"}, {"path": "venv/lib/python3.13/site-packages/rest_framework/views.py", "lineno": 475, "message": "in handle_exception"}, {"path": "venv/lib/python3.13/site-packages/rest_framework/views.py", "lineno": 486, "message": "in raise_uncaught_exception"}, {"path": "venv/lib/python3.13/site-packages/rest_framework/views.py", "lineno": 503, "message": "in dispatch"}, {"path": "venv/lib/python3.13/site-packages/rest_framework/views.py", "lineno": 420, "message": "in initial"}, {"path": "venv/lib/python3.13/site-packages/rest_framework/views.py", "lineno": 330, "message": "in perform_authentication"}, {"path": "venv/lib/python3.13/site-packages/rest_framework/request.py", "lineno": 232, "message": "in user"}, {"path": "venv/lib/python3.13/site-packages/rest_framework/request.py", "lineno": 385, "message": "in _authenticate"}, {"path": "authentication/adapters/django/jwt_authentication.py", "lineno": 35, "message": "in authenticate"}, {"path": "authentication/application/services/authentication_service.py", "lineno": 35, "message": "in verify"}, {"path": "authentication/application/services/verify_service.py", "lineno": 19, "message": "BusinessException"}], "log": [{"name": "django.request", "msg": "Internal Server Error: /api/account/me/exchange-rate/", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/Users/joe/Desktop/hackerton2026/Hackonomics-2026/venv/lib/python3.13/site-packages/django/utils/log.py", "filename": "log.py", "module": "log", "exc_info": null, "exc_text": "Traceback (most recent call last):\n  File \"/Users/joe/Desktop/hackerton2026/Hackonomics-2026/authentication/application/services/verify_service.py\", line 17, in verify\n    payload = self.central_auth.verify(access_token)\n  File \"/Users/joe/Desktop/hackerton2026/Hackonomics-2026/authentication/adapters/django/auth_service.py\", line 57, in verify\n    raise Exception(\"Invalid token\")\nException: Invalid token\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/Users/joe/Desktop/hackerton2026/Hackonomics-2026/venv/lib/python3.13/site-packages/django/core/handlers/exception.py\", line 55, in inner\n    response = get_response(request)\n  File \"/Users/joe/Desktop/hackerton2026/Hackonomics-2026/venv/lib/python3.13/site-packages/django/core/handlers/base.py\", line 198, in _get_response\n    response = wrapped_callback(request, *callback_args, **callback_kwargs)\n  File \"/Users/joe/Desktop/hackerton2026/Hackonomics-2026/venv/lib/python3.13/site-packages/django/views/decorators/csrf.py\", line 65, in _view_wrapper\n    return view_func(request, *args, **kwargs)\n  File \"/Users/joe/Desktop/hackerton2026/Hackonomics-2026/venv/lib/python3.13/site-packages/django/views/generic/base.py\", line 106, in view\n    return self.dispatch(request, *args, **kwargs)\n           ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/Users/joe/Desktop/hackerton2026/Hackonomics-2026/venv/lib/python3.13/site-packages/rest_framework/views.py\", line 515, in dispatch\n    response = self.handle_exception(exc)\n  File \"/Users/joe/Desktop/hackerton2026/Hackonomics-2026/venv/lib/python3.13/site-packages/rest_framework/views.py\", line 475, in handle_exception\n    self.raise_uncaught_exception(exc)\n    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^\n  File \"/Users/joe/Desktop/hackerton2026/Hackonomics-2026/venv/lib/python3.13/site-packages/rest_framework/views.py\", line 486, in raise_uncaught_exception\n    raise exc\n  File \"/Users/joe/Desktop/hackerton2026/Hackonomics-2026/venv/lib/python3.13/site-packages/rest_framework/views.py\", line 503, in dispatch\n    self.initial(request, *args, **kwargs)\n    ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/Users/joe/Desktop/hackerton2026/Hackonomics-2026/venv/lib/python3.13/site-packages/rest_framework/views.py\", line 420, in initial\n    self.perform_authentication(request)\n    ~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^\n  File \"/Users/joe/Desktop/hackerton2026/Hackonomics-2026/venv/lib/python3.13/site-packages/rest_framework/views.py\", line 330, in perform_authentication\n    request.user\n  File \"/Users/joe/Desktop/hackerton2026/Hackonomics-2026/venv/lib/python3.13/site-packages/rest_framework/request.py\", line 232, in user\n    self._authenticate()\n    ~~~~~~~~~~~~~~~~~~^^\n  File \"/Users/joe/Desktop/hackerton2026/Hackonomics-2026/venv/lib/python3.13/site-packages/rest_framework/request.py\", line 385, in _authenticate\n    user_auth_tuple = authenticator.authenticate(self)\n  File \"/Users/joe/Desktop/hackerton2026/Hackonomics-2026/authentication/adapters/django/jwt_authentication.py\", line 35, in authenticate\n    payload = service.verify(token)\n  File \"/Users/joe/Desktop/hackerton2026/Hackonomics-2026/authentication/application/services/authentication_service.py\", line 35, in verify\n    result = service.verify(access_token)\n  File \"/Users/joe/Desktop/hackerton2026/Hackonomics-2026/authentication/application/services/verify_service.py\", line 19, in verify\n    raise BusinessException(ErrorCode.TOKEN_INVALID)\ncommon.errors.exceptions.BusinessException: ErrorCode.TOKEN_INVALID", "stack_info": null, "lineno": 249, "funcName": "log_message", "created": 1770811447.349516, "msecs": 349.0, "relativeCreated": 2550.116, "thread": 8602078784, "threadName": "MainThread", "processName": "MainProcess", "process": 40963, "taskName": null, "request": "<WSGIRequest: GET '/api/account/me/exchange-rate/'>", "status_code": 500}], "longrepr": "self = <authentication.application.services.verify_service.VerifyService object at 0x1170a7230>\naccess_token = 'testtoken'\n\n    def verify(self, access_token: str) -> dict:\n        if not access_token:\n            raise BusinessException(ErrorCode.UNAUTHORIZED)\n    \n        try:\n>           payload = self.central_auth.verify(access_token)\n                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n\nauthentication/application/services/verify_service.py:17: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <authentication.adapters.django.auth_service.CentralAuthAdapter object at 0x1170f4af0>\naccess_token = 'testtoken'\n\n    def verify(self, access_token: str):\n        res = requests.post(\n            f\"{settings.CENTRAL_AUTH_URL}/auth/verify\",\n            headers={\n                \"X-Service-Key\": settings.CENTRAL_AUTH_SERVICE_KEY,\n                \"Authorization\": f\"Bearer {access_token}\",\n            },\n            timeout=settings.CENTRAL_AUTH_TIMEOUT,\n        )\n    \n        if res.status_code != 200:\n>           raise Exception(\"Invalid token\")\nE           Exception: Invalid token\n\nauthentication/adapters/django/auth_service.py:57: Exception\n\nDuring handling of the above exception, another exception occurred:\n\napi_client = <rest_framework.test.APIClient object at 0x112bb3150>\n\n    @pytest.mark.django_db\n    def test_my_exchange_rate_success(api_client):\n>       response = api_client.get(\"/api/account/me/exchange-rate/\")\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n\ntests.py:115: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \nvenv/lib/python3.13/site-packages/rest_framework/test.py:292: in get\n    response = super().get(path, data=data, **extra)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nvenv/lib/python3.13/site-packages/rest_framework/test.py:209: in get\n    return self.generic('GET', path, **r)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nvenv/lib/python3.13/site-packages/rest_framework/test.py:237: in generic\n    return super().generic(\nvenv/lib/python3.13/site-packages/django/test/client.py:671: in generic\n    return self.request(**r)\n           ^^^^^^^^^^^^^^^^^\nvenv/lib/python3.13/site-packages/rest_framework/test.py:289: in request\n    return super().request(**kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^\nvenv/lib/python3.13/site-packages/rest_framework/test.py:241: in request\n    request = super().request(**kwargs)\n              ^^^^^^^^^^^^^^^^^^^^^^^^^\nvenv/lib/python3.13/site-packages/django/test/client.py:1087: in request\n    self.check_exception(response)\nvenv/lib/python3.13/site-packages/django/test/client.py:802: in check_exception\n    raise exc_value\nvenv/lib/python3.13/site-packages/django/core/handlers/exception.py:55: in inner\n    response = get_response(request)\n               ^^^^^^^^^^^^^^^^^^^^^\nvenv/lib/python3.13/site-packages/django/core/handlers/base.py:198: in _get_response\n    response = wrapped_callback(request, *callback_args, **callback_kwargs)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nvenv/lib/python3.13/site-packages/django/views/decorators/csrf.py:65: in _view_wrapper\n    return view_func(request, *args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nvenv/lib/python3.13/site-packages/django/views/generic/base.py:106: in view\n    return self.dispatch(request, *args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nvenv/lib/python3.13/site-packages/rest_framework/views.py:515: in dispatch\n    response = self.handle_exception(exc)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^\nvenv/lib/python3.13/site-packages/rest_framework/views.py:475: in handle_exception\n    self.raise_uncaught_exception(exc)\nvenv/lib/python3.13/site-packages/rest_framework/views.py:486: in raise_uncaught_exception\n    raise exc\nvenv/lib/python3.13/site-packages/rest_framework/views.py:503: in dispatch\n    self.initial(request, *args, **kwargs)\nvenv/lib/python3.13/site-packages/rest_framework/views.py:420: in initial\n    self.perform_authentication(request)\nvenv/lib/python3.13/site-packages/rest_framework/views.py:330: in perform_authentication\n    request.user\nvenv/lib/python3.13/site-packages/rest_framework/request.py:232: in user\n    self._authenticate()\nvenv/lib/python3.13/site-packages/rest_framework/request.py:385: in _authenticate\n    user_auth_tuple = authenticator.authenticate(self)\n                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nauthentication/adapters/django/jwt_authentication.py:35: in authenticate\n    payload = service.verify(token)\n              ^^^^^^^^^^^^^^^^^^^^^\nauthentication/application/services/authentication_service.py:35: in verify\n    result = service.verify(access_token)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <authentication.application.services.verify_service.VerifyService object at 0x1170a7230>\naccess_token = 'testtoken'\n\n    def verify(self, access_token: str) -> dict:\n        if not access_token:\n            raise BusinessException(ErrorCode.UNAUTHORIZED)\n    \n        try:\n            payload = self.central_auth.verify(access_token)\n        except Exception:\n>           raise BusinessException(ErrorCode.TOKEN_INVALID)\nE           common.errors.exceptions.BusinessException: ErrorCode.TOKEN_INVALID\n\nauthentication/application/services/verify_service.py:19: BusinessException"}, "teardown": {"duration": 0.004731959023047239, "outcome": "passed"}}, {"nodeid": "tests.py::test_my_exchange_rate_invalid_method", "lineno": 118, "outcome": "failed", "keywords": ["test_my_exchange_rate_invalid_method", "django_db", "pytestmark", "tests.py", "Hackonomics-2026", ""], "setup": {"duration": 0.0005633750115521252, "outcome": "passed"}, "call": {"duration": 0.00391204102197662, "outcome": "failed", "crash": {"path": "/Users/joe/Desktop/hackerton2026/Hackonomics-2026/authentication/application/services/verify_service.py", "lineno": 19, "message": "common.errors.exceptions.BusinessException: ErrorCode.TOKEN_INVALID"}, "traceback": [{"path": "tests.py", "lineno": 121, "message": ""}, {"path": "venv/lib/python3.13/site-packages/rest_framework/test.py", "lineno": 299, "message": "in post"}, {"path": "venv/lib/python3.13/site-packages/rest_framework/test.py", "lineno": 213, "message": "in post"}, {"path": "venv/lib/python3.13/site-packages/rest_framework/test.py", "lineno": 237, "message": "in generic"}, {"path": "venv/lib/python3.13/site-packages/django/test/client.py", "lineno": 671, "message": "in generic"}, {"path": "venv/lib/python3.13/site-packages/rest_framework/test.py", "lineno": 289, "message": "in request"}, {"path": "venv/lib/python3.13/site-packages/rest_framework/test.py", "lineno": 241, "message": "in request"}, {"path": "venv/lib/python3.13/site-packages/django/test/client.py", "lineno": 1087, "message": "in request"}, {"path": "venv/lib/python3.13/site-packages/django/test/client.py", "lineno": 802, "message": "in check_exception"}, {"path": "venv/lib/python3.13/site-packages/django/core/handlers/exception.py", "lineno": 55, "message": "in inner"}, {"path": "venv/lib/python3.13/site-packages/django/core/handlers/base.py", "lineno": 198, "message": "in _get_response"}, {"path": "venv/lib/python3.13/site-packages/django/views/decorators/csrf.py", "lineno": 65, "message": "in _view_wrapper"}, {"path": "venv/lib/python3.13/site-packages/django/views/generic/base.py", "lineno": 106, "message": "in view"}, {"path": "venv/lib/python3.13/site-packages/rest_framework/views.py", "lineno": 515, "message": "in dispatch"}, {"path": "venv/lib/python3.13/site-packages/rest_framework/views.py", "lineno": 475, "message": "in handle_exception"}, {"path": "venv/lib/python3.13/site-packages/rest_framework/views.py", "lineno": 486, "message": "in raise_uncaught_exception"}, {"path": "venv/lib/python3.13/site-packages/rest_framework/views.py", "lineno": 503, "message": "in dispatch"}, {"path": "venv/lib/python3.13/site-packages/rest_framework/views.py", "lineno": 420, "message": "in initial"}, {"path": "venv/lib/python3.13/site-packages/rest_framework/views.py", "lineno": 330, "message": "in perform_authentication"}, {"path": "venv/lib/python3.13/site-packages/rest_framework/request.py", "lineno": 232, "message": "in user"}, {"path": "venv/lib/python3.13/site-packages/rest_framework/request.py", "lineno": 385, "message": "in _authenticate"}, {"path": "authentication/adapters/django/jwt_authentication.py", "lineno": 35, "message": "in authenticate"}, {"path": "authentication/application/services/authentication_service.py", "lineno": 35, "message": "in verify"}, {"path": "authentication/application/services/verify_service.py", "lineno": 19, "message": "BusinessException"}], "log": [{"name": "django.request", "msg": "Internal Server Error: /api/account/me/exchange-rate/", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/Users/joe/Desktop/hackerton2026/Hackonomics-2026/venv/lib/python3.13/site-packages/django/utils/log.py", "filename": "log.py", "module": "log", "exc_info": null, "exc_text": "Traceback (most recent call last):\n  File \"/Users/joe/Desktop/hackerton2026/Hackonomics-2026/authentication/application/services/verify_service.py\", line 17, in verify\n    payload = self.central_auth.verify(access_token)\n  File \"/Users/joe/Desktop/hackerton2026/Hackonomics-2026/authentication/adapters/django/auth_service.py\", line 57, in verify\n    raise Exception(\"Invalid token\")\nException: Invalid token\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/Users/joe/Desktop/hackerton2026/Hackonomics-2026/venv/lib/python3.13/site-packages/django/core/handlers/exception.py\", line 55, in inner\n    response = get_response(request)\n  File \"/Users/joe/Desktop/hackerton2026/Hackonomics-2026/venv/lib/python3.13/site-packages/django/core/handlers/base.py\", line 198, in _get_response\n    response = wrapped_callback(request, *callback_args, **callback_kwargs)\n  File \"/Users/joe/Desktop/hackerton2026/Hackonomics-2026/venv/lib/python3.13/site-packages/django/views/decorators/csrf.py\", line 65, in _view_wrapper\n    return view_func(request, *args, **kwargs)\n  File \"/Users/joe/Desktop/hackerton2026/Hackonomics-2026/venv/lib/python3.13/site-packages/django/views/generic/base.py\", line 106, in view\n    return self.dispatch(request, *args, **kwargs)\n           ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/Users/joe/Desktop/hackerton2026/Hackonomics-2026/venv/lib/python3.13/site-packages/rest_framework/views.py\", line 515, in dispatch\n    response = self.handle_exception(exc)\n  File \"/Users/joe/Desktop/hackerton2026/Hackonomics-2026/venv/lib/python3.13/site-packages/rest_framework/views.py\", line 475, in handle_exception\n    self.raise_uncaught_exception(exc)\n    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^\n  File \"/Users/joe/Desktop/hackerton2026/Hackonomics-2026/venv/lib/python3.13/site-packages/rest_framework/views.py\", line 486, in raise_uncaught_exception\n    raise exc\n  File \"/Users/joe/Desktop/hackerton2026/Hackonomics-2026/venv/lib/python3.13/site-packages/rest_framework/views.py\", line 503, in dispatch\n    self.initial(request, *args, **kwargs)\n    ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/Users/joe/Desktop/hackerton2026/Hackonomics-2026/venv/lib/python3.13/site-packages/rest_framework/views.py\", line 420, in initial\n    self.perform_authentication(request)\n    ~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^\n  File \"/Users/joe/Desktop/hackerton2026/Hackonomics-2026/venv/lib/python3.13/site-packages/rest_framework/views.py\", line 330, in perform_authentication\n    request.user\n  File \"/Users/joe/Desktop/hackerton2026/Hackonomics-2026/venv/lib/python3.13/site-packages/rest_framework/request.py\", line 232, in user\n    self._authenticate()\n    ~~~~~~~~~~~~~~~~~~^^\n  File \"/Users/joe/Desktop/hackerton2026/Hackonomics-2026/venv/lib/python3.13/site-packages/rest_framework/request.py\", line 385, in _authenticate\n    user_auth_tuple = authenticator.authenticate(self)\n  File \"/Users/joe/Desktop/hackerton2026/Hackonomics-2026/authentication/adapters/django/jwt_authentication.py\", line 35, in authenticate\n    payload = service.verify(token)\n  File \"/Users/joe/Desktop/hackerton2026/Hackonomics-2026/authentication/application/services/authentication_service.py\", line 35, in verify\n    result = service.verify(access_token)\n  File \"/Users/joe/Desktop/hackerton2026/Hackonomics-2026/authentication/application/services/verify_service.py\", line 19, in verify\n    raise BusinessException(ErrorCode.TOKEN_INVALID)\ncommon.errors.exceptions.BusinessException: ErrorCode.TOKEN_INVALID", "stack_info": null, "lineno": 249, "funcName": "log_message", "created": 1770811447.4143949, "msecs": 414.0, "relativeCreated": 2614.995, "thread": 8602078784, "threadName": "MainThread", "processName": "MainProcess", "process": 40963, "taskName": null, "request": "<WSGIRequest: POST '/api/account/me/exchange-rate/'>", "status_code": 500}], "longrepr": "self = <authentication.application.services.verify_service.VerifyService object at 0x1170b5190>\naccess_token = 'testtoken'\n\n    def verify(self, access_token: str) -> dict:\n        if not access_token:\n            raise BusinessException(ErrorCode.UNAUTHORIZED)\n    \n        try:\n>           payload = self.central_auth.verify(access_token)\n                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n\nauthentication/application/services/verify_service.py:17: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <authentication.adapters.django.auth_service.CentralAuthAdapter object at 0x112c027b0>\naccess_token = 'testtoken'\n\n    def verify(self, access_token: str):\n        res = requests.post(\n            f\"{settings.CENTRAL_AUTH_URL}/auth/verify\",\n            headers={\n                \"X-Service-Key\": settings.CENTRAL_AUTH_SERVICE_KEY,\n                \"Authorization\": f\"Bearer {access_token}\",\n            },\n            timeout=settings.CENTRAL_AUTH_TIMEOUT,\n        )\n    \n        if res.status_code != 200:\n>           raise Exception(\"Invalid token\")\nE           Exception: Invalid token\n\nauthentication/adapters/django/auth_service.py:57: Exception\n\nDuring handling of the above exception, another exception occurred:\n\napi_client = <rest_framework.test.APIClient object at 0x117040a10>\n\n    @pytest.mark.django_db\n    def test_my_exchange_rate_invalid_method(api_client):\n>       response = api_client.post(\n            \"/api/account/me/exchange-rate/\",\n            data={},\n            format=\"json\",\n        )\n\ntests.py:121: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \nvenv/lib/python3.13/site-packages/rest_framework/test.py:299: in post\n    response = super().post(\nvenv/lib/python3.13/site-packages/rest_framework/test.py:213: in post\n    return self.generic('POST', path, data, content_type, **extra)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nvenv/lib/python3.13/site-packages/rest_framework/test.py:237: in generic\n    return super().generic(\nvenv/lib/python3.13/site-packages/django/test/client.py:671: in generic\n    return self.request(**r)\n           ^^^^^^^^^^^^^^^^^\nvenv/lib/python3.13/site-packages/rest_framework/test.py:289: in request\n    return super().request(**kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^\nvenv/lib/python3.13/site-packages/rest_framework/test.py:241: in request\n    request = super().request(**kwargs)\n              ^^^^^^^^^^^^^^^^^^^^^^^^^\nvenv/lib/python3.13/site-packages/django/test/client.py:1087: in request\n    self.check_exception(response)\nvenv/lib/python3.13/site-packages/django/test/client.py:802: in check_exception\n    raise exc_value\nvenv/lib/python3.13/site-packages/django/core/handlers/exception.py:55: in inner\n    response = get_response(request)\n               ^^^^^^^^^^^^^^^^^^^^^\nvenv/lib/python3.13/site-packages/django/core/handlers/base.py:198: in _get_response\n    response = wrapped_callback(request, *callback_args, **callback_kwargs)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nvenv/lib/python3.13/site-packages/django/views/decorators/csrf.py:65: in _view_wrapper\n    return view_func(request, *args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nvenv/lib/python3.13/site-packages/django/views/generic/base.py:106: in view\n    return self.dispatch(request, *args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nvenv/lib/python3.13/site-packages/rest_framework/views.py:515: in dispatch\n    response = self.handle_exception(exc)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^\nvenv/lib/python3.13/site-packages/rest_framework/views.py:475: in handle_exception\n    self.raise_uncaught_exception(exc)\nvenv/lib/python3.13/site-packages/rest_framework/views.py:486: in raise_uncaught_exception\n    raise exc\nvenv/lib/python3.13/site-packages/rest_framework/views.py:503: in dispatch\n    self.initial(request, *args, **kwargs)\nvenv/lib/python3.13/site-packages/rest_framework/views.py:420: in initial\n    self.perform_authentication(request)\nvenv/lib/python3.13/site-packages/rest_framework/views.py:330: in perform_authentication\n    request.user\nvenv/lib/python3.13/site-packages/rest_framework/request.py:232: in user\n    self._authenticate()\nvenv/lib/python3.13/site-packages/rest_framework/request.py:385: in _authenticate\n    user_auth_tuple = authenticator.authenticate(self)\n                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nauthentication/adapters/django/jwt_authentication.py:35: in authenticate\n    payload = service.verify(token)\n              ^^^^^^^^^^^^^^^^^^^^^\nauthentication/application/services/authentication_service.py:35: in verify\n    result = service.verify(access_token)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <authentication.application.services.verify_service.VerifyService object at 0x1170b5190>\naccess_token = 'testtoken'\n\n    def verify(self, access_token: str) -> dict:\n        if not access_token:\n            raise BusinessException(ErrorCode.UNAUTHORIZED)\n    \n        try:\n            payload = self.central_auth.verify(access_token)\n        except Exception:\n>           raise BusinessException(ErrorCode.TOKEN_INVALID)\nE           common.errors.exceptions.BusinessException: ErrorCode.TOKEN_INVALID\n\nauthentication/application/services/verify_service.py:19: BusinessException"}, "teardown": {"duration": 0.004774792003445327, "outcome": "passed"}}, {"nodeid": "tests.py::test_calendar_init_empty_payload", "lineno": 130, "outcome": "failed", "keywords": ["test_calendar_init_empty_payload", "django_db", "pytestmark", "tests.py", "Hackonomics-2026", ""], "setup": {"duration": 0.0005507500027306378, "outcome": "passed"}, "call": {"duration": 0.0038594159996137023, "outcome": "failed", "crash": {"path": "/Users/joe/Desktop/hackerton2026/Hackonomics-2026/authentication/application/services/verify_service.py", "lineno": 19, "message": "common.errors.exceptions.BusinessException: ErrorCode.TOKEN_INVALID"}, "traceback": [{"path": "tests.py", "lineno": 133, "message": ""}, {"path": "venv/lib/python3.13/site-packages/rest_framework/test.py", "lineno": 299, "message": "in post"}, {"path": "venv/lib/python3.13/site-packages/rest_framework/test.py", "lineno": 213, "message": "in post"}, {"path": "venv/lib/python3.13/site-packages/rest_framework/test.py", "lineno": 237, "message": "in generic"}, {"path": "venv/lib/python3.13/site-packages/django/test/client.py", "lineno": 671, "message": "in generic"}, {"path": "venv/lib/python3.13/site-packages/rest_framework/test.py", "lineno": 289, "message": "in request"}, {"path": "venv/lib/python3.13/site-packages/rest_framework/test.py", "lineno": 241, "message": "in request"}, {"path": "venv/lib/python3.13/site-packages/django/test/client.py", "lineno": 1087, "message": "in request"}, {"path": "venv/lib/python3.13/site-packages/django/test/client.py", "lineno": 802, "message": "in check_exception"}, {"path": "venv/lib/python3.13/site-packages/django/core/handlers/exception.py", "lineno": 55, "message": "in inner"}, {"path": "venv/lib/python3.13/site-packages/django/core/handlers/base.py", "lineno": 198, "message": "in _get_response"}, {"path": "venv/lib/python3.13/site-packages/django/views/decorators/csrf.py", "lineno": 65, "message": "in _view_wrapper"}, {"path": "venv/lib/python3.13/site-packages/django/views/generic/base.py", "lineno": 106, "message": "in view"}, {"path": "venv/lib/python3.13/site-packages/rest_framework/views.py", "lineno": 515, "message": "in dispatch"}, {"path": "venv/lib/python3.13/site-packages/rest_framework/views.py", "lineno": 475, "message": "in handle_exception"}, {"path": "venv/lib/python3.13/site-packages/rest_framework/views.py", "lineno": 486, "message": "in raise_uncaught_exception"}, {"path": "venv/lib/python3.13/site-packages/rest_framework/views.py", "lineno": 503, "message": "in dispatch"}, {"path": "venv/lib/python3.13/site-packages/rest_framework/views.py", "lineno": 420, "message": "in initial"}, {"path": "venv/lib/python3.13/site-packages/rest_framework/views.py", "lineno": 330, "message": "in perform_authentication"}, {"path": "venv/lib/python3.13/site-packages/rest_framework/request.py", "lineno": 232, "message": "in user"}, {"path": "venv/lib/python3.13/site-packages/rest_framework/request.py", "lineno": 385, "message": "in _authenticate"}, {"path": "authentication/adapters/django/jwt_authentication.py", "lineno": 35, "message": "in authenticate"}, {"path": "authentication/application/services/authentication_service.py", "lineno": 35, "message": "in verify"}, {"path": "authentication/application/services/verify_service.py", "lineno": 19, "message": "BusinessException"}], "log": [{"name": "django.request", "msg": "Internal Server Error: /api/calendar/init/", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/Users/joe/Desktop/hackerton2026/Hackonomics-2026/venv/lib/python3.13/site-packages/django/utils/log.py", "filename": "log.py", "module": "log", "exc_info": null, "exc_text": "Traceback (most recent call last):\n  File \"/Users/joe/Desktop/hackerton2026/Hackonomics-2026/authentication/application/services/verify_service.py\", line 17, in verify\n    payload = self.central_auth.verify(access_token)\n  File \"/Users/joe/Desktop/hackerton2026/Hackonomics-2026/authentication/adapters/django/auth_service.py\", line 57, in verify\n    raise Exception(\"Invalid token\")\nException: Invalid token\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/Users/joe/Desktop/hackerton2026/Hackonomics-2026/venv/lib/python3.13/site-packages/django/core/handlers/exception.py\", line 55, in inner\n    response = get_response(request)\n  File \"/Users/joe/Desktop/hackerton2026/Hackonomics-2026/venv/lib/python3.13/site-packages/django/core/handlers/base.py\", line 198, in _get_response\n    response = wrapped_callback(request, *callback_args, **callback_kwargs)\n  File \"/Users/joe/Desktop/hackerton2026/Hackonomics-2026/venv/lib/python3.13/site-packages/django/views/decorators/csrf.py\", line 65, in _view_wrapper\n    return view_func(request, *args, **kwargs)\n  File \"/Users/joe/Desktop/hackerton2026/Hackonomics-2026/venv/lib/python3.13/site-packages/django/views/generic/base.py\", line 106, in view\n    return self.dispatch(request, *args, **kwargs)\n           ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/Users/joe/Desktop/hackerton2026/Hackonomics-2026/venv/lib/python3.13/site-packages/rest_framework/views.py\", line 515, in dispatch\n    response = self.handle_exception(exc)\n  File \"/Users/joe/Desktop/hackerton2026/Hackonomics-2026/venv/lib/python3.13/site-packages/rest_framework/views.py\", line 475, in handle_exception\n    self.raise_uncaught_exception(exc)\n    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^\n  File \"/Users/joe/Desktop/hackerton2026/Hackonomics-2026/venv/lib/python3.13/site-packages/rest_framework/views.py\", line 486, in raise_uncaught_exception\n    raise exc\n  File \"/Users/joe/Desktop/hackerton2026/Hackonomics-2026/venv/lib/python3.13/site-packages/rest_framework/views.py\", line 503, in dispatch\n    self.initial(request, *args, **kwargs)\n    ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/Users/joe/Desktop/hackerton2026/Hackonomics-2026/venv/lib/python3.13/site-packages/rest_framework/views.py\", line 420, in initial\n    self.perform_authentication(request)\n    ~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^\n  File \"/Users/joe/Desktop/hackerton2026/Hackonomics-2026/venv/lib/python3.13/site-packages/rest_framework/views.py\", line 330, in perform_authentication\n    request.user\n  File \"/Users/joe/Desktop/hackerton2026/Hackonomics-2026/venv/lib/python3.13/site-packages/rest_framework/request.py\", line 232, in user\n    self._authenticate()\n    ~~~~~~~~~~~~~~~~~~^^\n  File \"/Users/joe/Desktop/hackerton2026/Hackonomics-2026/venv/lib/python3.13/site-packages/rest_framework/request.py\", line 385, in _authenticate\n    user_auth_tuple = authenticator.authenticate(self)\n  File \"/Users/joe/Desktop/hackerton2026/Hackonomics-2026/authentication/adapters/django/jwt_authentication.py\", line 35, in authenticate\n    payload = service.verify(token)\n  File \"/Users/joe/Desktop/hackerton2026/Hackonomics-2026/authentication/application/services/authentication_service.py\", line 35, in verify\n    result = service.verify(access_token)\n  File \"/Users/joe/Desktop/hackerton2026/Hackonomics-2026/authentication/application/services/verify_service.py\", line 19, in verify\n    raise BusinessException(ErrorCode.TOKEN_INVALID)\ncommon.errors.exceptions.BusinessException: ErrorCode.TOKEN_INVALID", "stack_info": null, "lineno": 249, "funcName": "log_message", "created": 1770811447.476755, "msecs": 476.0, "relativeCreated": 2677.355, "thread": 8602078784, "threadName": "MainThread", "processName": "MainProcess", "process": 40963, "taskName": null, "request": "<WSGIRequest: POST '/api/calendar/init/'>", "status_code": 500}], "longrepr": "self = <authentication.application.services.verify_service.VerifyService object at 0x11709a030>\naccess_token = 'testtoken'\n\n    def verify(self, access_token: str) -> dict:\n        if not access_token:\n            raise BusinessException(ErrorCode.UNAUTHORIZED)\n    \n        try:\n>           payload = self.central_auth.verify(access_token)\n                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n\nauthentication/application/services/verify_service.py:17: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <authentication.adapters.django.auth_service.CentralAuthAdapter object at 0x112bc7f20>\naccess_token = 'testtoken'\n\n    def verify(self, access_token: str):\n        res = requests.post(\n            f\"{settings.CENTRAL_AUTH_URL}/auth/verify\",\n            headers={\n                \"X-Service-Key\": settings.CENTRAL_AUTH_SERVICE_KEY,\n                \"Authorization\": f\"Bearer {access_token}\",\n            },\n            timeout=settings.CENTRAL_AUTH_TIMEOUT,\n        )\n    \n        if res.status_code != 200:\n>           raise Exception(\"Invalid token\")\nE           Exception: Invalid token\n\nauthentication/adapters/django/auth_service.py:57: Exception\n\nDuring handling of the above exception, another exception occurred:\n\napi_client = <rest_framework.test.APIClient object at 0x11703a090>\n\n    @pytest.mark.django_db\n    def test_calendar_init_empty_payload(api_client):\n>       response = api_client.post(\"/api/calendar/init/\", data={}, format=\"json\")\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n\ntests.py:133: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \nvenv/lib/python3.13/site-packages/rest_framework/test.py:299: in post\n    response = super().post(\nvenv/lib/python3.13/site-packages/rest_framework/test.py:213: in post\n    return self.generic('POST', path, data, content_type, **extra)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nvenv/lib/python3.13/site-packages/rest_framework/test.py:237: in generic\n    return super().generic(\nvenv/lib/python3.13/site-packages/django/test/client.py:671: in generic\n    return self.request(**r)\n           ^^^^^^^^^^^^^^^^^\nvenv/lib/python3.13/site-packages/rest_framework/test.py:289: in request\n    return super().request(**kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^\nvenv/lib/python3.13/site-packages/rest_framework/test.py:241: in request\n    request = super().request(**kwargs)\n              ^^^^^^^^^^^^^^^^^^^^^^^^^\nvenv/lib/python3.13/site-packages/django/test/client.py:1087: in request\n    self.check_exception(response)\nvenv/lib/python3.13/site-packages/django/test/client.py:802: in check_exception\n    raise exc_value\nvenv/lib/python3.13/site-packages/django/core/handlers/exception.py:55: in inner\n    response = get_response(request)\n               ^^^^^^^^^^^^^^^^^^^^^\nvenv/lib/python3.13/site-packages/django/core/handlers/base.py:198: in _get_response\n    response = wrapped_callback(request, *callback_args, **callback_kwargs)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nvenv/lib/python3.13/site-packages/django/views/decorators/csrf.py:65: in _view_wrapper\n    return view_func(request, *args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nvenv/lib/python3.13/site-packages/django/views/generic/base.py:106: in view\n    return self.dispatch(request, *args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nvenv/lib/python3.13/site-packages/rest_framework/views.py:515: in dispatch\n    response = self.handle_exception(exc)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^\nvenv/lib/python3.13/site-packages/rest_framework/views.py:475: in handle_exception\n    self.raise_uncaught_exception(exc)\nvenv/lib/python3.13/site-packages/rest_framework/views.py:486: in raise_uncaught_exception\n    raise exc\nvenv/lib/python3.13/site-packages/rest_framework/views.py:503: in dispatch\n    self.initial(request, *args, **kwargs)\nvenv/lib/python3.13/site-packages/rest_framework/views.py:420: in initial\n    self.perform_authentication(request)\nvenv/lib/python3.13/site-packages/rest_framework/views.py:330: in perform_authentication\n    request.user\nvenv/lib/python3.13/site-packages/rest_framework/request.py:232: in user\n    self._authenticate()\nvenv/lib/python3.13/site-packages/rest_framework/request.py:385: in _authenticate\n    user_auth_tuple = authenticator.authenticate(self)\n                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nauthentication/adapters/django/jwt_authentication.py:35: in authenticate\n    payload = service.verify(token)\n              ^^^^^^^^^^^^^^^^^^^^^\nauthentication/application/services/authentication_service.py:35: in verify\n    result = service.verify(access_token)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <authentication.application.services.verify_service.VerifyService object at 0x11709a030>\naccess_token = 'testtoken'\n\n    def verify(self, access_token: str) -> dict:\n        if not access_token:\n            raise BusinessException(ErrorCode.UNAUTHORIZED)\n    \n        try:\n            payload = self.central_auth.verify(access_token)\n        except Exception:\n>           raise BusinessException(ErrorCode.TOKEN_INVALID)\nE           common.errors.exceptions.BusinessException: ErrorCode.TOKEN_INVALID\n\nauthentication/application/services/verify_service.py:19: BusinessException"}, "teardown": {"duration": 0.004310416989028454, "outcome": "passed"}}, {"nodeid": "tests.py::test_calendar_oauth_login_success", "lineno": 136, "outcome": "failed", "keywords": ["test_calendar_oauth_login_success", "django_db", "pytestmark", "tests.py", "Hackonomics-2026", ""], "setup": {"duration": 0.0005713749851565808, "outcome": "passed"}, "call": {"duration": 0.003611542022554204, "outcome": "failed", "crash": {"path": "/Users/joe/Desktop/hackerton2026/Hackonomics-2026/authentication/application/services/verify_service.py", "lineno": 19, "message": "common.errors.exceptions.BusinessException: ErrorCode.TOKEN_INVALID"}, "traceback": [{"path": "tests.py", "lineno": 139, "message": ""}, {"path": "venv/lib/python3.13/site-packages/rest_framework/test.py", "lineno": 292, "message": "in get"}, {"path": "venv/lib/python3.13/site-packages/rest_framework/test.py", "lineno": 209, "message": "in get"}, {"path": "venv/lib/python3.13/site-packages/rest_framework/test.py", "lineno": 237, "message": "in generic"}, {"path": "venv/lib/python3.13/site-packages/django/test/client.py", "lineno": 671, "message": "in generic"}, {"path": "venv/lib/python3.13/site-packages/rest_framework/test.py", "lineno": 289, "message": "in request"}, {"path": "venv/lib/python3.13/site-packages/rest_framework/test.py", "lineno": 241, "message": "in request"}, {"path": "venv/lib/python3.13/site-packages/django/test/client.py", "lineno": 1087, "message": "in request"}, {"path": "venv/lib/python3.13/site-packages/django/test/client.py", "lineno": 802, "message": "in check_exception"}, {"path": "venv/lib/python3.13/site-packages/django/core/handlers/exception.py", "lineno": 55, "message": "in inner"}, {"path": "venv/lib/python3.13/site-packages/django/core/handlers/base.py", "lineno": 198, "message": "in _get_response"}, {"path": "venv/lib/python3.13/site-packages/django/views/decorators/csrf.py", "lineno": 65, "message": "in _view_wrapper"}, {"path": "venv/lib/python3.13/site-packages/django/views/generic/base.py", "lineno": 106, "message": "in view"}, {"path": "venv/lib/python3.13/site-packages/rest_framework/views.py", "lineno": 515, "message": "in dispatch"}, {"path": "venv/lib/python3.13/site-packages/rest_framework/views.py", "lineno": 475, "message": "in handle_exception"}, {"path": "venv/lib/python3.13/site-packages/rest_framework/views.py", "lineno": 486, "message": "in raise_uncaught_exception"}, {"path": "venv/lib/python3.13/site-packages/rest_framework/views.py", "lineno": 503, "message": "in dispatch"}, {"path": "venv/lib/python3.13/site-packages/rest_framework/views.py", "lineno": 420, "message": "in initial"}, {"path": "venv/lib/python3.13/site-packages/rest_framework/views.py", "lineno": 330, "message": "in perform_authentication"}, {"path": "venv/lib/python3.13/site-packages/rest_framework/request.py", "lineno": 232, "message": "in user"}, {"path": "venv/lib/python3.13/site-packages/rest_framework/request.py", "lineno": 385, "message": "in _authenticate"}, {"path": "authentication/adapters/django/jwt_authentication.py", "lineno": 35, "message": "in authenticate"}, {"path": "authentication/application/services/authentication_service.py", "lineno": 35, "message": "in verify"}, {"path": "authentication/application/services/verify_service.py", "lineno": 19, "message": "BusinessException"}], "log": [{"name": "django.request", "msg": "Internal Server Error: /api/calendar/oauth/login/", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/Users/joe/Desktop/hackerton2026/Hackonomics-2026/venv/lib/python3.13/site-packages/django/utils/log.py", "filename": "log.py", "module": "log", "exc_info": null, "exc_text": "Traceback (most recent call last):\n  File \"/Users/joe/Desktop/hackerton2026/Hackonomics-2026/authentication/application/services/verify_service.py\", line 17, in verify\n    payload = self.central_auth.verify(access_token)\n  File \"/Users/joe/Desktop/hackerton2026/Hackonomics-2026/authentication/adapters/django/auth_service.py\", line 57, in verify\n    raise Exception(\"Invalid token\")\nException: Invalid token\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/Users/joe/Desktop/hackerton2026/Hackonomics-2026/venv/lib/python3.13/site-packages/django/core/handlers/exception.py\", line 55, in inner\n    response = get_response(request)\n  File \"/Users/joe/Desktop/hackerton2026/Hackonomics-2026/venv/lib/python3.13/site-packages/django/core/handlers/base.py\", line 198, in _get_response\n    response = wrapped_callback(request, *callback_args, **callback_kwargs)\n  File \"/Users/joe/Desktop/hackerton2026/Hackonomics-2026/venv/lib/python3.13/site-packages/django/views/decorators/csrf.py\", line 65, in _view_wrapper\n    return view_func(request, *args, **kwargs)\n  File \"/Users/joe/Desktop/hackerton2026/Hackonomics-2026/venv/lib/python3.13/site-packages/django/views/generic/base.py\", line 106, in view\n    return self.dispatch(request, *args, **kwargs)\n           ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/Users/joe/Desktop/hackerton2026/Hackonomics-2026/venv/lib/python3.13/site-packages/rest_framework/views.py\", line 515, in dispatch\n    response = self.handle_exception(exc)\n  File \"/Users/joe/Desktop/hackerton2026/Hackonomics-2026/venv/lib/python3.13/site-packages/rest_framework/views.py\", line 475, in handle_exception\n    self.raise_uncaught_exception(exc)\n    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^\n  File \"/Users/joe/Desktop/hackerton2026/Hackonomics-2026/venv/lib/python3.13/site-packages/rest_framework/views.py\", line 486, in raise_uncaught_exception\n    raise exc\n  File \"/Users/joe/Desktop/hackerton2026/Hackonomics-2026/venv/lib/python3.13/site-packages/rest_framework/views.py\", line 503, in dispatch\n    self.initial(request, *args, **kwargs)\n    ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/Users/joe/Desktop/hackerton2026/Hackonomics-2026/venv/lib/python3.13/site-packages/rest_framework/views.py\", line 420, in initial\n    self.perform_authentication(request)\n    ~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^\n  File \"/Users/joe/Desktop/hackerton2026/Hackonomics-2026/venv/lib/python3.13/site-packages/rest_framework/views.py\", line 330, in perform_authentication\n    request.user\n  File \"/Users/joe/Desktop/hackerton2026/Hackonomics-2026/venv/lib/python3.13/site-packages/rest_framework/request.py\", line 232, in user\n    self._authenticate()\n    ~~~~~~~~~~~~~~~~~~^^\n  File \"/Users/joe/Desktop/hackerton2026/Hackonomics-2026/venv/lib/python3.13/site-packages/rest_framework/request.py\", line 385, in _authenticate\n    user_auth_tuple = authenticator.authenticate(self)\n  File \"/Users/joe/Desktop/hackerton2026/Hackonomics-2026/authentication/adapters/django/jwt_authentication.py\", line 35, in authenticate\n    payload = service.verify(token)\n  File \"/Users/joe/Desktop/hackerton2026/Hackonomics-2026/authentication/application/services/authentication_service.py\", line 35, in verify\n    result = service.verify(access_token)\n  File \"/Users/joe/Desktop/hackerton2026/Hackonomics-2026/authentication/application/services/verify_service.py\", line 19, in verify\n    raise BusinessException(ErrorCode.TOKEN_INVALID)\ncommon.errors.exceptions.BusinessException: ErrorCode.TOKEN_INVALID", "stack_info": null, "lineno": 249, "funcName": "log_message", "created": 1770811447.540873, "msecs": 540.0, "relativeCreated": 2741.473, "thread": 8602078784, "threadName": "MainThread", "processName": "MainProcess", "process": 40963, "taskName": null, "request": "<WSGIRequest: GET '/api/calendar/oauth/login/'>", "status_code": 500}], "longrepr": "self = <authentication.application.services.verify_service.VerifyService object at 0x117099970>\naccess_token = 'testtoken'\n\n    def verify(self, access_token: str) -> dict:\n        if not access_token:\n            raise BusinessException(ErrorCode.UNAUTHORIZED)\n    \n        try:\n>           payload = self.central_auth.verify(access_token)\n                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n\nauthentication/application/services/verify_service.py:17: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <authentication.adapters.django.auth_service.CentralAuthAdapter object at 0x1170ac050>\naccess_token = 'testtoken'\n\n    def verify(self, access_token: str):\n        res = requests.post(\n            f\"{settings.CENTRAL_AUTH_URL}/auth/verify\",\n            headers={\n                \"X-Service-Key\": settings.CENTRAL_AUTH_SERVICE_KEY,\n                \"Authorization\": f\"Bearer {access_token}\",\n            },\n            timeout=settings.CENTRAL_AUTH_TIMEOUT,\n        )\n    \n        if res.status_code != 200:\n>           raise Exception(\"Invalid token\")\nE           Exception: Invalid token\n\nauthentication/adapters/django/auth_service.py:57: Exception\n\nDuring handling of the above exception, another exception occurred:\n\napi_client = <rest_framework.test.APIClient object at 0x11703bf50>\n\n    @pytest.mark.django_db\n    def test_calendar_oauth_login_success(api_client):\n>       response = api_client.get(\"/api/calendar/oauth/login/\")\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n\ntests.py:139: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \nvenv/lib/python3.13/site-packages/rest_framework/test.py:292: in get\n    response = super().get(path, data=data, **extra)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nvenv/lib/python3.13/site-packages/rest_framework/test.py:209: in get\n    return self.generic('GET', path, **r)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nvenv/lib/python3.13/site-packages/rest_framework/test.py:237: in generic\n    return super().generic(\nvenv/lib/python3.13/site-packages/django/test/client.py:671: in generic\n    return self.request(**r)\n           ^^^^^^^^^^^^^^^^^\nvenv/lib/python3.13/site-packages/rest_framework/test.py:289: in request\n    return super().request(**kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^\nvenv/lib/python3.13/site-packages/rest_framework/test.py:241: in request\n    request = super().request(**kwargs)\n              ^^^^^^^^^^^^^^^^^^^^^^^^^\nvenv/lib/python3.13/site-packages/django/test/client.py:1087: in request\n    self.check_exception(response)\nvenv/lib/python3.13/site-packages/django/test/client.py:802: in check_exception\n    raise exc_value\nvenv/lib/python3.13/site-packages/django/core/handlers/exception.py:55: in inner\n    response = get_response(request)\n               ^^^^^^^^^^^^^^^^^^^^^\nvenv/lib/python3.13/site-packages/django/core/handlers/base.py:198: in _get_response\n    response = wrapped_callback(request, *callback_args, **callback_kwargs)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nvenv/lib/python3.13/site-packages/django/views/decorators/csrf.py:65: in _view_wrapper\n    return view_func(request, *args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nvenv/lib/python3.13/site-packages/django/views/generic/base.py:106: in view\n    return self.dispatch(request, *args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nvenv/lib/python3.13/site-packages/rest_framework/views.py:515: in dispatch\n    response = self.handle_exception(exc)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^\nvenv/lib/python3.13/site-packages/rest_framework/views.py:475: in handle_exception\n    self.raise_uncaught_exception(exc)\nvenv/lib/python3.13/site-packages/rest_framework/views.py:486: in raise_uncaught_exception\n    raise exc\nvenv/lib/python3.13/site-packages/rest_framework/views.py:503: in dispatch\n    self.initial(request, *args, **kwargs)\nvenv/lib/python3.13/site-packages/rest_framework/views.py:420: in initial\n    self.perform_authentication(request)\nvenv/lib/python3.13/site-packages/rest_framework/views.py:330: in perform_authentication\n    request.user\nvenv/lib/python3.13/site-packages/rest_framework/request.py:232: in user\n    self._authenticate()\nvenv/lib/python3.13/site-packages/rest_framework/request.py:385: in _authenticate\n    user_auth_tuple = authenticator.authenticate(self)\n                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nauthentication/adapters/django/jwt_authentication.py:35: in authenticate\n    payload = service.verify(token)\n              ^^^^^^^^^^^^^^^^^^^^^\nauthentication/application/services/authentication_service.py:35: in verify\n    result = service.verify(access_token)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <authentication.application.services.verify_service.VerifyService object at 0x117099970>\naccess_token = 'testtoken'\n\n    def verify(self, access_token: str) -> dict:\n        if not access_token:\n            raise BusinessException(ErrorCode.UNAUTHORIZED)\n    \n        try:\n            payload = self.central_auth.verify(access_token)\n        except Exception:\n>           raise BusinessException(ErrorCode.TOKEN_INVALID)\nE           common.errors.exceptions.BusinessException: ErrorCode.TOKEN_INVALID\n\nauthentication/application/services/verify_service.py:19: BusinessException"}, "teardown": {"duration": 0.004781374998856336, "outcome": "passed"}}, {"nodeid": "tests.py::test_calendar_categories_delete_success", "lineno": 142, "outcome": "failed", "keywords": ["test_calendar_categories_delete_success", "django_db", "pytestmark", "tests.py", "Hackonomics-2026", ""], "setup": {"duration": 0.0005460419924929738, "outcome": "passed"}, "call": {"duration": 0.004121124977245927, "outcome": "failed", "crash": {"path": "/Users/joe/Desktop/hackerton2026/Hackonomics-2026/authentication/application/services/verify_service.py", "lineno": 19, "message": "common.errors.exceptions.BusinessException: ErrorCode.TOKEN_INVALID"}, "traceback": [{"path": "tests.py", "lineno": 146, "message": ""}, {"path": "venv/lib/python3.13/site-packages/rest_framework/test.py", "lineno": 323, "message": "in delete"}, {"path": "venv/lib/python3.13/site-packages/rest_framework/test.py", "lineno": 225, "message": "in delete"}, {"path": "venv/lib/python3.13/site-packages/rest_framework/test.py", "lineno": 237, "message": "in generic"}, {"path": "venv/lib/python3.13/site-packages/django/test/client.py", "lineno": 671, "message": "in generic"}, {"path": "venv/lib/python3.13/site-packages/rest_framework/test.py", "lineno": 289, "message": "in request"}, {"path": "venv/lib/python3.13/site-packages/rest_framework/test.py", "lineno": 241, "message": "in request"}, {"path": "venv/lib/python3.13/site-packages/django/test/client.py", "lineno": 1087, "message": "in request"}, {"path": "venv/lib/python3.13/site-packages/django/test/client.py", "lineno": 802, "message": "in check_exception"}, {"path": "venv/lib/python3.13/site-packages/django/core/handlers/exception.py", "lineno": 55, "message": "in inner"}, {"path": "venv/lib/python3.13/site-packages/django/core/handlers/base.py", "lineno": 198, "message": "in _get_response"}, {"path": "venv/lib/python3.13/site-packages/django/views/decorators/csrf.py", "lineno": 65, "message": "in _view_wrapper"}, {"path": "venv/lib/python3.13/site-packages/django/views/generic/base.py", "lineno": 106, "message": "in view"}, {"path": "venv/lib/python3.13/site-packages/rest_framework/views.py", "lineno": 515, "message": "in dispatch"}, {"path": "venv/lib/python3.13/site-packages/rest_framework/views.py", "lineno": 475, "message": "in handle_exception"}, {"path": "venv/lib/python3.13/site-packages/rest_framework/views.py", "lineno": 486, "message": "in raise_uncaught_exception"}, {"path": "venv/lib/python3.13/site-packages/rest_framework/views.py", "lineno": 503, "message": "in dispatch"}, {"path": "venv/lib/python3.13/site-packages/rest_framework/views.py", "lineno": 420, "message": "in initial"}, {"path": "venv/lib/python3.13/site-packages/rest_framework/views.py", "lineno": 330, "message": "in perform_authentication"}, {"path": "venv/lib/python3.13/site-packages/rest_framework/request.py", "lineno": 232, "message": "in user"}, {"path": "venv/lib/python3.13/site-packages/rest_framework/request.py", "lineno": 385, "message": "in _authenticate"}, {"path": "authentication/adapters/django/jwt_authentication.py", "lineno": 35, "message": "in authenticate"}, {"path": "authentication/application/services/authentication_service.py", "lineno": 35, "message": "in verify"}, {"path": "authentication/application/services/verify_service.py", "lineno": 19, "message": "BusinessException"}], "log": [{"name": "django.request", "msg": "Internal Server Error: /api/calendar/categories/04e2f7fd-a34c-411a-8211-8240c304fb1d/", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/Users/joe/Desktop/hackerton2026/Hackonomics-2026/venv/lib/python3.13/site-packages/django/utils/log.py", "filename": "log.py", "module": "log", "exc_info": null, "exc_text": "Traceback (most recent call last):\n  File \"/Users/joe/Desktop/hackerton2026/Hackonomics-2026/authentication/application/services/verify_service.py\", line 17, in verify\n    payload = self.central_auth.verify(access_token)\n  File \"/Users/joe/Desktop/hackerton2026/Hackonomics-2026/authentication/adapters/django/auth_service.py\", line 57, in verify\n    raise Exception(\"Invalid token\")\nException: Invalid token\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/Users/joe/Desktop/hackerton2026/Hackonomics-2026/venv/lib/python3.13/site-packages/django/core/handlers/exception.py\", line 55, in inner\n    response = get_response(request)\n  File \"/Users/joe/Desktop/hackerton2026/Hackonomics-2026/venv/lib/python3.13/site-packages/django/core/handlers/base.py\", line 198, in _get_response\n    response = wrapped_callback(request, *callback_args, **callback_kwargs)\n  File \"/Users/joe/Desktop/hackerton2026/Hackonomics-2026/venv/lib/python3.13/site-packages/django/views/decorators/csrf.py\", line 65, in _view_wrapper\n    return view_func(request, *args, **kwargs)\n  File \"/Users/joe/Desktop/hackerton2026/Hackonomics-2026/venv/lib/python3.13/site-packages/django/views/generic/base.py\", line 106, in view\n    return self.dispatch(request, *args, **kwargs)\n           ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/Users/joe/Desktop/hackerton2026/Hackonomics-2026/venv/lib/python3.13/site-packages/rest_framework/views.py\", line 515, in dispatch\n    response = self.handle_exception(exc)\n  File \"/Users/joe/Desktop/hackerton2026/Hackonomics-2026/venv/lib/python3.13/site-packages/rest_framework/views.py\", line 475, in handle_exception\n    self.raise_uncaught_exception(exc)\n    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^\n  File \"/Users/joe/Desktop/hackerton2026/Hackonomics-2026/venv/lib/python3.13/site-packages/rest_framework/views.py\", line 486, in raise_uncaught_exception\n    raise exc\n  File \"/Users/joe/Desktop/hackerton2026/Hackonomics-2026/venv/lib/python3.13/site-packages/rest_framework/views.py\", line 503, in dispatch\n    self.initial(request, *args, **kwargs)\n    ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/Users/joe/Desktop/hackerton2026/Hackonomics-2026/venv/lib/python3.13/site-packages/rest_framework/views.py\", line 420, in initial\n    self.perform_authentication(request)\n    ~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^\n  File \"/Users/joe/Desktop/hackerton2026/Hackonomics-2026/venv/lib/python3.13/site-packages/rest_framework/views.py\", line 330, in perform_authentication\n    request.user\n  File \"/Users/joe/Desktop/hackerton2026/Hackonomics-2026/venv/lib/python3.13/site-packages/rest_framework/request.py\", line 232, in user\n    self._authenticate()\n    ~~~~~~~~~~~~~~~~~~^^\n  File \"/Users/joe/Desktop/hackerton2026/Hackonomics-2026/venv/lib/python3.13/site-packages/rest_framework/request.py\", line 385, in _authenticate\n    user_auth_tuple = authenticator.authenticate(self)\n  File \"/Users/joe/Desktop/hackerton2026/Hackonomics-2026/authentication/adapters/django/jwt_authentication.py\", line 35, in authenticate\n    payload = service.verify(token)\n  File \"/Users/joe/Desktop/hackerton2026/Hackonomics-2026/authentication/application/services/authentication_service.py\", line 35, in verify\n    result = service.verify(access_token)\n  File \"/Users/joe/Desktop/hackerton2026/Hackonomics-2026/authentication/application/services/verify_service.py\", line 19, in verify\n    raise BusinessException(ErrorCode.TOKEN_INVALID)\ncommon.errors.exceptions.BusinessException: ErrorCode.TOKEN_INVALID", "stack_info": null, "lineno": 249, "funcName": "log_message", "created": 1770811447.603534, "msecs": 603.0, "relativeCreated": 2804.134, "thread": 8602078784, "threadName": "MainThread", "processName": "MainProcess", "process": 40963, "taskName": null, "request": "<WSGIRequest: DELETE '/api/calendar/categories/04e2f7fd-a34c-411a-8211-8240c304fb1d/'>", "status_code": 500}], "longrepr": "self = <authentication.application.services.verify_service.VerifyService object at 0x1170d2930>\naccess_token = 'testtoken'\n\n    def verify(self, access_token: str) -> dict:\n        if not access_token:\n            raise BusinessException(ErrorCode.UNAUTHORIZED)\n    \n        try:\n>           payload = self.central_auth.verify(access_token)\n                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n\nauthentication/application/services/verify_service.py:17: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <authentication.adapters.django.auth_service.CentralAuthAdapter object at 0x1170afca0>\naccess_token = 'testtoken'\n\n    def verify(self, access_token: str):\n        res = requests.post(\n            f\"{settings.CENTRAL_AUTH_URL}/auth/verify\",\n            headers={\n                \"X-Service-Key\": settings.CENTRAL_AUTH_SERVICE_KEY,\n                \"Authorization\": f\"Bearer {access_token}\",\n            },\n            timeout=settings.CENTRAL_AUTH_TIMEOUT,\n        )\n    \n        if res.status_code != 200:\n>           raise Exception(\"Invalid token\")\nE           Exception: Invalid token\n\nauthentication/adapters/django/auth_service.py:57: Exception\n\nDuring handling of the above exception, another exception occurred:\n\napi_client = <rest_framework.test.APIClient object at 0x112b94c00>\n\n    @pytest.mark.django_db\n    def test_calendar_categories_delete_success(api_client):\n        category_id = uuid.uuid4()\n>       response = api_client.delete(\n            f\"/api/calendar/categories/{category_id}/\"\n        )\n\ntests.py:146: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \nvenv/lib/python3.13/site-packages/rest_framework/test.py:323: in delete\n    response = super().delete(\nvenv/lib/python3.13/site-packages/rest_framework/test.py:225: in delete\n    return self.generic('DELETE', path, data, content_type, **extra)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nvenv/lib/python3.13/site-packages/rest_framework/test.py:237: in generic\n    return super().generic(\nvenv/lib/python3.13/site-packages/django/test/client.py:671: in generic\n    return self.request(**r)\n           ^^^^^^^^^^^^^^^^^\nvenv/lib/python3.13/site-packages/rest_framework/test.py:289: in request\n    return super().request(**kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^\nvenv/lib/python3.13/site-packages/rest_framework/test.py:241: in request\n    request = super().request(**kwargs)\n              ^^^^^^^^^^^^^^^^^^^^^^^^^\nvenv/lib/python3.13/site-packages/django/test/client.py:1087: in request\n    self.check_exception(response)\nvenv/lib/python3.13/site-packages/django/test/client.py:802: in check_exception\n    raise exc_value\nvenv/lib/python3.13/site-packages/django/core/handlers/exception.py:55: in inner\n    response = get_response(request)\n               ^^^^^^^^^^^^^^^^^^^^^\nvenv/lib/python3.13/site-packages/django/core/handlers/base.py:198: in _get_response\n    response = wrapped_callback(request, *callback_args, **callback_kwargs)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nvenv/lib/python3.13/site-packages/django/views/decorators/csrf.py:65: in _view_wrapper\n    return view_func(request, *args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nvenv/lib/python3.13/site-packages/django/views/generic/base.py:106: in view\n    return self.dispatch(request, *args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nvenv/lib/python3.13/site-packages/rest_framework/views.py:515: in dispatch\n    response = self.handle_exception(exc)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^\nvenv/lib/python3.13/site-packages/rest_framework/views.py:475: in handle_exception\n    self.raise_uncaught_exception(exc)\nvenv/lib/python3.13/site-packages/rest_framework/views.py:486: in raise_uncaught_exception\n    raise exc\nvenv/lib/python3.13/site-packages/rest_framework/views.py:503: in dispatch\n    self.initial(request, *args, **kwargs)\nvenv/lib/python3.13/site-packages/rest_framework/views.py:420: in initial\n    self.perform_authentication(request)\nvenv/lib/python3.13/site-packages/rest_framework/views.py:330: in perform_authentication\n    request.user\nvenv/lib/python3.13/site-packages/rest_framework/request.py:232: in user\n    self._authenticate()\nvenv/lib/python3.13/site-packages/rest_framework/request.py:385: in _authenticate\n    user_auth_tuple = authenticator.authenticate(self)\n                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nauthentication/adapters/django/jwt_authentication.py:35: in authenticate\n    payload = service.verify(token)\n              ^^^^^^^^^^^^^^^^^^^^^\nauthentication/application/services/authentication_service.py:35: in verify\n    result = service.verify(access_token)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <authentication.application.services.verify_service.VerifyService object at 0x1170d2930>\naccess_token = 'testtoken'\n\n    def verify(self, access_token: str) -> dict:\n        if not access_token:\n            raise BusinessException(ErrorCode.UNAUTHORIZED)\n    \n        try:\n            payload = self.central_auth.verify(access_token)\n        except Exception:\n>           raise BusinessException(ErrorCode.TOKEN_INVALID)\nE           common.errors.exceptions.BusinessException: ErrorCode.TOKEN_INVALID\n\nauthentication/application/services/verify_service.py:19: BusinessException"}, "teardown": {"duration": 0.0044881250069011, "outcome": "passed"}}, {"nodeid": "tests.py::test_calendar_event_delete_success", "lineno": 151, "outcome": "failed", "keywords": ["test_calendar_event_delete_success", "django_db", "pytestmark", "tests.py", "Hackonomics-2026", ""], "setup": {"duration": 0.0005291250126902014, "outcome": "passed"}, "call": {"duration": 0.003533791023073718, "outcome": "failed", "crash": {"path": "/Users/joe/Desktop/hackerton2026/Hackonomics-2026/authentication/application/services/verify_service.py", "lineno": 19, "message": "common.errors.exceptions.BusinessException: ErrorCode.TOKEN_INVALID"}, "traceback": [{"path": "tests.py", "lineno": 155, "message": ""}, {"path": "venv/lib/python3.13/site-packages/rest_framework/test.py", "lineno": 323, "message": "in delete"}, {"path": "venv/lib/python3.13/site-packages/rest_framework/test.py", "lineno": 225, "message": "in delete"}, {"path": "venv/lib/python3.13/site-packages/rest_framework/test.py", "lineno": 237, "message": "in generic"}, {"path": "venv/lib/python3.13/site-packages/django/test/client.py", "lineno": 671, "message": "in generic"}, {"path": "venv/lib/python3.13/site-packages/rest_framework/test.py", "lineno": 289, "message": "in request"}, {"path": "venv/lib/python3.13/site-packages/rest_framework/test.py", "lineno": 241, "message": "in request"}, {"path": "venv/lib/python3.13/site-packages/django/test/client.py", "lineno": 1087, "message": "in request"}, {"path": "venv/lib/python3.13/site-packages/django/test/client.py", "lineno": 802, "message": "in check_exception"}, {"path": "venv/lib/python3.13/site-packages/django/core/handlers/exception.py", "lineno": 55, "message": "in inner"}, {"path": "venv/lib/python3.13/site-packages/django/core/handlers/base.py", "lineno": 198, "message": "in _get_response"}, {"path": "venv/lib/python3.13/site-packages/django/views/decorators/csrf.py", "lineno": 65, "message": "in _view_wrapper"}, {"path": "venv/lib/python3.13/site-packages/django/views/generic/base.py", "lineno": 106, "message": "in view"}, {"path": "venv/lib/python3.13/site-packages/rest_framework/views.py", "lineno": 515, "message": "in dispatch"}, {"path": "venv/lib/python3.13/site-packages/rest_framework/views.py", "lineno": 475, "message": "in handle_exception"}, {"path": "venv/lib/python3.13/site-packages/rest_framework/views.py", "lineno": 486, "message": "in raise_uncaught_exception"}, {"path": "venv/lib/python3.13/site-packages/rest_framework/views.py", "lineno": 503, "message": "in dispatch"}, {"path": "venv/lib/python3.13/site-packages/rest_framework/views.py", "lineno": 420, "message": "in initial"}, {"path": "venv/lib/python3.13/site-packages/rest_framework/views.py", "lineno": 330, "message": "in perform_authentication"}, {"path": "venv/lib/python3.13/site-packages/rest_framework/request.py", "lineno": 232, "message": "in user"}, {"path": "venv/lib/python3.13/site-packages/rest_framework/request.py", "lineno": 385, "message": "in _authenticate"}, {"path": "authentication/adapters/django/jwt_authentication.py", "lineno": 35, "message": "in authenticate"}, {"path": "authentication/application/services/authentication_service.py", "lineno": 35, "message": "in verify"}, {"path": "authentication/application/services/verify_service.py", "lineno": 19, "message": "BusinessException"}], "log": [{"name": "django.request", "msg": "Internal Server Error: /api/calendar/events/8fd9ffd5-ce86-4751-a560-38921bd81ffd/", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/Users/joe/Desktop/hackerton2026/Hackonomics-2026/venv/lib/python3.13/site-packages/django/utils/log.py", "filename": "log.py", "module": "log", "exc_info": null, "exc_text": "Traceback (most recent call last):\n  File \"/Users/joe/Desktop/hackerton2026/Hackonomics-2026/authentication/application/services/verify_service.py\", line 17, in verify\n    payload = self.central_auth.verify(access_token)\n  File \"/Users/joe/Desktop/hackerton2026/Hackonomics-2026/authentication/adapters/django/auth_service.py\", line 57, in verify\n    raise Exception(\"Invalid token\")\nException: Invalid token\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/Users/joe/Desktop/hackerton2026/Hackonomics-2026/venv/lib/python3.13/site-packages/django/core/handlers/exception.py\", line 55, in inner\n    response = get_response(request)\n  File \"/Users/joe/Desktop/hackerton2026/Hackonomics-2026/venv/lib/python3.13/site-packages/django/core/handlers/base.py\", line 198, in _get_response\n    response = wrapped_callback(request, *callback_args, **callback_kwargs)\n  File \"/Users/joe/Desktop/hackerton2026/Hackonomics-2026/venv/lib/python3.13/site-packages/django/views/decorators/csrf.py\", line 65, in _view_wrapper\n    return view_func(request, *args, **kwargs)\n  File \"/Users/joe/Desktop/hackerton2026/Hackonomics-2026/venv/lib/python3.13/site-packages/django/views/generic/base.py\", line 106, in view\n    return self.dispatch(request, *args, **kwargs)\n           ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/Users/joe/Desktop/hackerton2026/Hackonomics-2026/venv/lib/python3.13/site-packages/rest_framework/views.py\", line 515, in dispatch\n    response = self.handle_exception(exc)\n  File \"/Users/joe/Desktop/hackerton2026/Hackonomics-2026/venv/lib/python3.13/site-packages/rest_framework/views.py\", line 475, in handle_exception\n    self.raise_uncaught_exception(exc)\n    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^\n  File \"/Users/joe/Desktop/hackerton2026/Hackonomics-2026/venv/lib/python3.13/site-packages/rest_framework/views.py\", line 486, in raise_uncaught_exception\n    raise exc\n  File \"/Users/joe/Desktop/hackerton2026/Hackonomics-2026/venv/lib/python3.13/site-packages/rest_framework/views.py\", line 503, in dispatch\n    self.initial(request, *args, **kwargs)\n    ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/Users/joe/Desktop/hackerton2026/Hackonomics-2026/venv/lib/python3.13/site-packages/rest_framework/views.py\", line 420, in initial\n    self.perform_authentication(request)\n    ~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^\n  File \"/Users/joe/Desktop/hackerton2026/Hackonomics-2026/venv/lib/python3.13/site-packages/rest_framework/views.py\", line 330, in perform_authentication\n    request.user\n  File \"/Users/joe/Desktop/hackerton2026/Hackonomics-2026/venv/lib/python3.13/site-packages/rest_framework/request.py\", line 232, in user\n    self._authenticate()\n    ~~~~~~~~~~~~~~~~~~^^\n  File \"/Users/joe/Desktop/hackerton2026/Hackonomics-2026/venv/lib/python3.13/site-packages/rest_framework/request.py\", line 385, in _authenticate\n    user_auth_tuple = authenticator.authenticate(self)\n  File \"/Users/joe/Desktop/hackerton2026/Hackonomics-2026/authentication/adapters/django/jwt_authentication.py\", line 35, in authenticate\n    payload = service.verify(token)\n  File \"/Users/joe/Desktop/hackerton2026/Hackonomics-2026/authentication/application/services/authentication_service.py\", line 35, in verify\n    result = service.verify(access_token)\n  File \"/Users/joe/Desktop/hackerton2026/Hackonomics-2026/authentication/application/services/verify_service.py\", line 19, in verify\n    raise BusinessException(ErrorCode.TOKEN_INVALID)\ncommon.errors.exceptions.BusinessException: ErrorCode.TOKEN_INVALID", "stack_info": null, "lineno": 249, "funcName": "log_message", "created": 1770811447.6664472, "msecs": 666.0, "relativeCreated": 2867.047, "thread": 8602078784, "threadName": "MainThread", "processName": "MainProcess", "process": 40963, "taskName": null, "request": "<WSGIRequest: DELETE '/api/calendar/events/8fd9ffd5-ce86-4751-a560-38921bd81ffd/'>", "status_code": 500}], "longrepr": "self = <authentication.application.services.verify_service.VerifyService object at 0x1170d3170>\naccess_token = 'testtoken'\n\n    def verify(self, access_token: str) -> dict:\n        if not access_token:\n            raise BusinessException(ErrorCode.UNAUTHORIZED)\n    \n        try:\n>           payload = self.central_auth.verify(access_token)\n                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n\nauthentication/application/services/verify_service.py:17: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <authentication.adapters.django.auth_service.CentralAuthAdapter object at 0x1170ec2d0>\naccess_token = 'testtoken'\n\n    def verify(self, access_token: str):\n        res = requests.post(\n            f\"{settings.CENTRAL_AUTH_URL}/auth/verify\",\n            headers={\n                \"X-Service-Key\": settings.CENTRAL_AUTH_SERVICE_KEY,\n                \"Authorization\": f\"Bearer {access_token}\",\n            },\n            timeout=settings.CENTRAL_AUTH_TIMEOUT,\n        )\n    \n        if res.status_code != 200:\n>           raise Exception(\"Invalid token\")\nE           Exception: Invalid token\n\nauthentication/adapters/django/auth_service.py:57: Exception\n\nDuring handling of the above exception, another exception occurred:\n\napi_client = <rest_framework.test.APIClient object at 0x112b97cd0>\n\n    @pytest.mark.django_db\n    def test_calendar_event_delete_success(api_client):\n        event_id = uuid.uuid4()\n>       response = api_client.delete(\n            f\"/api/calendar/events/{event_id}/\"\n        )\n\ntests.py:155: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \nvenv/lib/python3.13/site-packages/rest_framework/test.py:323: in delete\n    response = super().delete(\nvenv/lib/python3.13/site-packages/rest_framework/test.py:225: in delete\n    return self.generic('DELETE', path, data, content_type, **extra)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nvenv/lib/python3.13/site-packages/rest_framework/test.py:237: in generic\n    return super().generic(\nvenv/lib/python3.13/site-packages/django/test/client.py:671: in generic\n    return self.request(**r)\n           ^^^^^^^^^^^^^^^^^\nvenv/lib/python3.13/site-packages/rest_framework/test.py:289: in request\n    return super().request(**kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^\nvenv/lib/python3.13/site-packages/rest_framework/test.py:241: in request\n    request = super().request(**kwargs)\n              ^^^^^^^^^^^^^^^^^^^^^^^^^\nvenv/lib/python3.13/site-packages/django/test/client.py:1087: in request\n    self.check_exception(response)\nvenv/lib/python3.13/site-packages/django/test/client.py:802: in check_exception\n    raise exc_value\nvenv/lib/python3.13/site-packages/django/core/handlers/exception.py:55: in inner\n    response = get_response(request)\n               ^^^^^^^^^^^^^^^^^^^^^\nvenv/lib/python3.13/site-packages/django/core/handlers/base.py:198: in _get_response\n    response = wrapped_callback(request, *callback_args, **callback_kwargs)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nvenv/lib/python3.13/site-packages/django/views/decorators/csrf.py:65: in _view_wrapper\n    return view_func(request, *args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nvenv/lib/python3.13/site-packages/django/views/generic/base.py:106: in view\n    return self.dispatch(request, *args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nvenv/lib/python3.13/site-packages/rest_framework/views.py:515: in dispatch\n    response = self.handle_exception(exc)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^\nvenv/lib/python3.13/site-packages/rest_framework/views.py:475: in handle_exception\n    self.raise_uncaught_exception(exc)\nvenv/lib/python3.13/site-packages/rest_framework/views.py:486: in raise_uncaught_exception\n    raise exc\nvenv/lib/python3.13/site-packages/rest_framework/views.py:503: in dispatch\n    self.initial(request, *args, **kwargs)\nvenv/lib/python3.13/site-packages/rest_framework/views.py:420: in initial\n    self.perform_authentication(request)\nvenv/lib/python3.13/site-packages/rest_framework/views.py:330: in perform_authentication\n    request.user\nvenv/lib/python3.13/site-packages/rest_framework/request.py:232: in user\n    self._authenticate()\nvenv/lib/python3.13/site-packages/rest_framework/request.py:385: in _authenticate\n    user_auth_tuple = authenticator.authenticate(self)\n                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nauthentication/adapters/django/jwt_authentication.py:35: in authenticate\n    payload = service.verify(token)\n              ^^^^^^^^^^^^^^^^^^^^^\nauthentication/application/services/authentication_service.py:35: in verify\n    result = service.verify(access_token)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <authentication.application.services.verify_service.VerifyService object at 0x1170d3170>\naccess_token = 'testtoken'\n\n    def verify(self, access_token: str) -> dict:\n        if not access_token:\n            raise BusinessException(ErrorCode.UNAUTHORIZED)\n    \n        try:\n            payload = self.central_auth.verify(access_token)\n        except Exception:\n>           raise BusinessException(ErrorCode.TOKEN_INVALID)\nE           common.errors.exceptions.BusinessException: ErrorCode.TOKEN_INVALID\n\nauthentication/application/services/verify_service.py:19: BusinessException"}, "teardown": {"duration": 0.005776083009550348, "outcome": "passed"}}, {"nodeid": "tests.py::test_calendar_advisor_empty_payload", "lineno": 160, "outcome": "failed", "keywords": ["test_calendar_advisor_empty_payload", "django_db", "pytestmark", "tests.py", "Hackonomics-2026", ""], "setup": {"duration": 0.0007522090163547546, "outcome": "passed"}, "call": {"duration": 0.005270458001177758, "outcome": "failed", "crash": {"path": "/Users/joe/Desktop/hackerton2026/Hackonomics-2026/authentication/application/services/verify_service.py", "lineno": 19, "message": "common.errors.exceptions.BusinessException: ErrorCode.TOKEN_INVALID"}, "traceback": [{"path": "tests.py", "lineno": 163, "message": ""}, {"path": "venv/lib/python3.13/site-packages/rest_framework/test.py", "lineno": 299, "message": "in post"}, {"path": "venv/lib/python3.13/site-packages/rest_framework/test.py", "lineno": 213, "message": "in post"}, {"path": "venv/lib/python3.13/site-packages/rest_framework/test.py", "lineno": 237, "message": "in generic"}, {"path": "venv/lib/python3.13/site-packages/django/test/client.py", "lineno": 671, "message": "in generic"}, {"path": "venv/lib/python3.13/site-packages/rest_framework/test.py", "lineno": 289, "message": "in request"}, {"path": "venv/lib/python3.13/site-packages/rest_framework/test.py", "lineno": 241, "message": "in request"}, {"path": "venv/lib/python3.13/site-packages/django/test/client.py", "lineno": 1087, "message": "in request"}, {"path": "venv/lib/python3.13/site-packages/django/test/client.py", "lineno": 802, "message": "in check_exception"}, {"path": "venv/lib/python3.13/site-packages/django/core/handlers/exception.py", "lineno": 55, "message": "in inner"}, {"path": "venv/lib/python3.13/site-packages/django/core/handlers/base.py", "lineno": 198, "message": "in _get_response"}, {"path": "venv/lib/python3.13/site-packages/django/views/decorators/csrf.py", "lineno": 65, "message": "in _view_wrapper"}, {"path": "venv/lib/python3.13/site-packages/django/views/generic/base.py", "lineno": 106, "message": "in view"}, {"path": "venv/lib/python3.13/site-packages/rest_framework/views.py", "lineno": 515, "message": "in dispatch"}, {"path": "venv/lib/python3.13/site-packages/rest_framework/views.py", "lineno": 475, "message": "in handle_exception"}, {"path": "venv/lib/python3.13/site-packages/rest_framework/views.py", "lineno": 486, "message": "in raise_uncaught_exception"}, {"path": "venv/lib/python3.13/site-packages/rest_framework/views.py", "lineno": 503, "message": "in dispatch"}, {"path": "venv/lib/python3.13/site-packages/rest_framework/views.py", "lineno": 420, "message": "in initial"}, {"path": "venv/lib/python3.13/site-packages/rest_framework/views.py", "lineno": 330, "message": "in perform_authentication"}, {"path": "venv/lib/python3.13/site-packages/rest_framework/request.py", "lineno": 232, "message": "in user"}, {"path": "venv/lib/python3.13/site-packages/rest_framework/request.py", "lineno": 385, "message": "in _authenticate"}, {"path": "authentication/adapters/django/jwt_authentication.py", "lineno": 35, "message": "in authenticate"}, {"path": "authentication/application/services/authentication_service.py", "lineno": 35, "message": "in verify"}, {"path": "authentication/application/services/verify_service.py", "lineno": 19, "message": "BusinessException"}], "log": [{"name": "django.request", "msg": "Internal Server Error: /api/calendar/advisor/", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/Users/joe/Desktop/hackerton2026/Hackonomics-2026/venv/lib/python3.13/site-packages/django/utils/log.py", "filename": "log.py", "module": "log", "exc_info": null, "exc_text": "Traceback (most recent call last):\n  File \"/Users/joe/Desktop/hackerton2026/Hackonomics-2026/authentication/application/services/verify_service.py\", line 17, in verify\n    payload = self.central_auth.verify(access_token)\n  File \"/Users/joe/Desktop/hackerton2026/Hackonomics-2026/authentication/adapters/django/auth_service.py\", line 57, in verify\n    raise Exception(\"Invalid token\")\nException: Invalid token\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/Users/joe/Desktop/hackerton2026/Hackonomics-2026/venv/lib/python3.13/site-packages/django/core/handlers/exception.py\", line 55, in inner\n    response = get_response(request)\n  File \"/Users/joe/Desktop/hackerton2026/Hackonomics-2026/venv/lib/python3.13/site-packages/django/core/handlers/base.py\", line 198, in _get_response\n    response = wrapped_callback(request, *callback_args, **callback_kwargs)\n  File \"/Users/joe/Desktop/hackerton2026/Hackonomics-2026/venv/lib/python3.13/site-packages/django/views/decorators/csrf.py\", line 65, in _view_wrapper\n    return view_func(request, *args, **kwargs)\n  File \"/Users/joe/Desktop/hackerton2026/Hackonomics-2026/venv/lib/python3.13/site-packages/django/views/generic/base.py\", line 106, in view\n    return self.dispatch(request, *args, **kwargs)\n           ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/Users/joe/Desktop/hackerton2026/Hackonomics-2026/venv/lib/python3.13/site-packages/rest_framework/views.py\", line 515, in dispatch\n    response = self.handle_exception(exc)\n  File \"/Users/joe/Desktop/hackerton2026/Hackonomics-2026/venv/lib/python3.13/site-packages/rest_framework/views.py\", line 475, in handle_exception\n    self.raise_uncaught_exception(exc)\n    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^\n  File \"/Users/joe/Desktop/hackerton2026/Hackonomics-2026/venv/lib/python3.13/site-packages/rest_framework/views.py\", line 486, in raise_uncaught_exception\n    raise exc\n  File \"/Users/joe/Desktop/hackerton2026/Hackonomics-2026/venv/lib/python3.13/site-packages/rest_framework/views.py\", line 503, in dispatch\n    self.initial(request, *args, **kwargs)\n    ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/Users/joe/Desktop/hackerton2026/Hackonomics-2026/venv/lib/python3.13/site-packages/rest_framework/views.py\", line 420, in initial\n    self.perform_authentication(request)\n    ~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^\n  File \"/Users/joe/Desktop/hackerton2026/Hackonomics-2026/venv/lib/python3.13/site-packages/rest_framework/views.py\", line 330, in perform_authentication\n    request.user\n  File \"/Users/joe/Desktop/hackerton2026/Hackonomics-2026/venv/lib/python3.13/site-packages/rest_framework/request.py\", line 232, in user\n    self._authenticate()\n    ~~~~~~~~~~~~~~~~~~^^\n  File \"/Users/joe/Desktop/hackerton2026/Hackonomics-2026/venv/lib/python3.13/site-packages/rest_framework/request.py\", line 385, in _authenticate\n    user_auth_tuple = authenticator.authenticate(self)\n  File \"/Users/joe/Desktop/hackerton2026/Hackonomics-2026/authentication/adapters/django/jwt_authentication.py\", line 35, in authenticate\n    payload = service.verify(token)\n  File \"/Users/joe/Desktop/hackerton2026/Hackonomics-2026/authentication/application/services/authentication_service.py\", line 35, in verify\n    result = service.verify(access_token)\n  File \"/Users/joe/Desktop/hackerton2026/Hackonomics-2026/authentication/application/services/verify_service.py\", line 19, in verify\n    raise BusinessException(ErrorCode.TOKEN_INVALID)\ncommon.errors.exceptions.BusinessException: ErrorCode.TOKEN_INVALID", "stack_info": null, "lineno": 249, "funcName": "log_message", "created": 1770811447.731914, "msecs": 731.0, "relativeCreated": 2932.514, "thread": 8602078784, "threadName": "MainThread", "processName": "MainProcess", "process": 40963, "taskName": null, "request": "<WSGIRequest: POST '/api/calendar/advisor/'>", "status_code": 500}], "longrepr": "self = <authentication.application.services.verify_service.VerifyService object at 0x11706db50>\naccess_token = 'testtoken'\n\n    def verify(self, access_token: str) -> dict:\n        if not access_token:\n            raise BusinessException(ErrorCode.UNAUTHORIZED)\n    \n        try:\n>           payload = self.central_auth.verify(access_token)\n                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n\nauthentication/application/services/verify_service.py:17: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <authentication.adapters.django.auth_service.CentralAuthAdapter object at 0x1170eda90>\naccess_token = 'testtoken'\n\n    def verify(self, access_token: str):\n        res = requests.post(\n            f\"{settings.CENTRAL_AUTH_URL}/auth/verify\",\n            headers={\n                \"X-Service-Key\": settings.CENTRAL_AUTH_SERVICE_KEY,\n                \"Authorization\": f\"Bearer {access_token}\",\n            },\n            timeout=settings.CENTRAL_AUTH_TIMEOUT,\n        )\n    \n        if res.status_code != 200:\n>           raise Exception(\"Invalid token\")\nE           Exception: Invalid token\n\nauthentication/adapters/django/auth_service.py:57: Exception\n\nDuring handling of the above exception, another exception occurred:\n\napi_client = <rest_framework.test.APIClient object at 0x1170759c0>\n\n    @pytest.mark.django_db\n    def test_calendar_advisor_empty_payload(api_client):\n>       response = api_client.post(\n            \"/api/calendar/advisor/\",\n            data={},\n            format=\"json\",\n        )\n\ntests.py:163: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \nvenv/lib/python3.13/site-packages/rest_framework/test.py:299: in post\n    response = super().post(\nvenv/lib/python3.13/site-packages/rest_framework/test.py:213: in post\n    return self.generic('POST', path, data, content_type, **extra)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nvenv/lib/python3.13/site-packages/rest_framework/test.py:237: in generic\n    return super().generic(\nvenv/lib/python3.13/site-packages/django/test/client.py:671: in generic\n    return self.request(**r)\n           ^^^^^^^^^^^^^^^^^\nvenv/lib/python3.13/site-packages/rest_framework/test.py:289: in request\n    return super().request(**kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^\nvenv/lib/python3.13/site-packages/rest_framework/test.py:241: in request\n    request = super().request(**kwargs)\n              ^^^^^^^^^^^^^^^^^^^^^^^^^\nvenv/lib/python3.13/site-packages/django/test/client.py:1087: in request\n    self.check_exception(response)\nvenv/lib/python3.13/site-packages/django/test/client.py:802: in check_exception\n    raise exc_value\nvenv/lib/python3.13/site-packages/django/core/handlers/exception.py:55: in inner\n    response = get_response(request)\n               ^^^^^^^^^^^^^^^^^^^^^\nvenv/lib/python3.13/site-packages/django/core/handlers/base.py:198: in _get_response\n    response = wrapped_callback(request, *callback_args, **callback_kwargs)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nvenv/lib/python3.13/site-packages/django/views/decorators/csrf.py:65: in _view_wrapper\n    return view_func(request, *args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nvenv/lib/python3.13/site-packages/django/views/generic/base.py:106: in view\n    return self.dispatch(request, *args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nvenv/lib/python3.13/site-packages/rest_framework/views.py:515: in dispatch\n    response = self.handle_exception(exc)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^\nvenv/lib/python3.13/site-packages/rest_framework/views.py:475: in handle_exception\n    self.raise_uncaught_exception(exc)\nvenv/lib/python3.13/site-packages/rest_framework/views.py:486: in raise_uncaught_exception\n    raise exc\nvenv/lib/python3.13/site-packages/rest_framework/views.py:503: in dispatch\n    self.initial(request, *args, **kwargs)\nvenv/lib/python3.13/site-packages/rest_framework/views.py:420: in initial\n    self.perform_authentication(request)\nvenv/lib/python3.13/site-packages/rest_framework/views.py:330: in perform_authentication\n    request.user\nvenv/lib/python3.13/site-packages/rest_framework/request.py:232: in user\n    self._authenticate()\nvenv/lib/python3.13/site-packages/rest_framework/request.py:385: in _authenticate\n    user_auth_tuple = authenticator.authenticate(self)\n                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nauthentication/adapters/django/jwt_authentication.py:35: in authenticate\n    payload = service.verify(token)\n              ^^^^^^^^^^^^^^^^^^^^^\nauthentication/application/services/authentication_service.py:35: in verify\n    result = service.verify(access_token)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <authentication.application.services.verify_service.VerifyService object at 0x11706db50>\naccess_token = 'testtoken'\n\n    def verify(self, access_token: str) -> dict:\n        if not access_token:\n            raise BusinessException(ErrorCode.UNAUTHORIZED)\n    \n        try:\n            payload = self.central_auth.verify(access_token)\n        except Exception:\n>           raise BusinessException(ErrorCode.TOKEN_INVALID)\nE           common.errors.exceptions.BusinessException: ErrorCode.TOKEN_INVALID\n\nauthentication/application/services/verify_service.py:19: BusinessException"}, "teardown": {"duration": 0.004721750010503456, "outcome": "passed"}}, {"nodeid": "tests.py::test_login_empty_payload", "lineno": 172, "outcome": "passed", "keywords": ["test_login_empty_payload", "django_db", "pytestmark", "tests.py", "Hackonomics-2026", ""], "setup": {"duration": 0.000543708010809496, "outcome": "passed"}, "call": {"duration": 0.0010028340038843453, "outcome": "passed", "log": [{"name": "django.request", "msg": "Bad Request: /api/auth/login/", "args": null, "levelname": "WARNING", "levelno": 30, "pathname": "/Users/joe/Desktop/hackerton2026/Hackonomics-2026/venv/lib/python3.13/site-packages/django/utils/log.py", "filename": "log.py", "module": "log", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 249, "funcName": "log_message", "created": 1770811447.793458, "msecs": 793.0, "relativeCreated": 2994.058, "thread": 8602078784, "threadName": "MainThread", "processName": "MainProcess", "process": 40963, "taskName": null, "request": "<WSGIRequest: POST '/api/auth/login/'>", "status_code": 400}]}, "teardown": {"duration": 0.002620208018925041, "outcome": "passed"}}, {"nodeid": "tests.py::test_login_invalid_method", "lineno": 182, "outcome": "passed", "keywords": ["test_login_invalid_method", "django_db", "pytestmark", "tests.py", "Hackonomics-2026", ""], "setup": {"duration": 0.0005193750257603824, "outcome": "passed"}, "call": {"duration": 0.0005057500093244016, "outcome": "passed", "log": [{"name": "django.request", "msg": "Method Not Allowed: /api/auth/login/", "args": null, "levelname": "WARNING", "levelno": 30, "pathname": "/Users/joe/Desktop/hackerton2026/Hackonomics-2026/venv/lib/python3.13/site-packages/django/utils/log.py", "filename": "log.py", "module": "log", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 249, "funcName": "log_message", "created": 1770811447.7973828, "msecs": 797.0, "relativeCreated": 2997.983, "thread": 8602078784, "threadName": "MainThread", "processName": "MainProcess", "process": 40963, "taskName": null, "request": "<WSGIRequest: GET '/api/auth/login/'>", "status_code": 405}]}, "teardown": {"duration": 0.0043710409954655915, "outcome": "passed"}}, {"nodeid": "tests.py::test_google_login_success", "lineno": 188, "outcome": "failed", "keywords": ["test_google_login_success", "django_db", "pytestmark", "tests.py", "Hackonomics-2026", ""], "setup": {"duration": 0.0005717500171158463, "outcome": "passed"}, "call": {"duration": 0.004014999984065071, "outcome": "failed", "crash": {"path": "/Users/joe/Desktop/hackerton2026/Hackonomics-2026/authentication/application/services/verify_service.py", "lineno": 19, "message": "common.errors.exceptions.BusinessException: ErrorCode.TOKEN_INVALID"}, "traceback": [{"path": "tests.py", "lineno": 191, "message": ""}, {"path": "venv/lib/python3.13/site-packages/rest_framework/test.py", "lineno": 292, "message": "in get"}, {"path": "venv/lib/python3.13/site-packages/rest_framework/test.py", "lineno": 209, "message": "in get"}, {"path": "venv/lib/python3.13/site-packages/rest_framework/test.py", "lineno": 237, "message": "in generic"}, {"path": "venv/lib/python3.13/site-packages/django/test/client.py", "lineno": 671, "message": "in generic"}, {"path": "venv/lib/python3.13/site-packages/rest_framework/test.py", "lineno": 289, "message": "in request"}, {"path": "venv/lib/python3.13/site-packages/rest_framework/test.py", "lineno": 241, "message": "in request"}, {"path": "venv/lib/python3.13/site-packages/django/test/client.py", "lineno": 1087, "message": "in request"}, {"path": "venv/lib/python3.13/site-packages/django/test/client.py", "lineno": 802, "message": "in check_exception"}, {"path": "venv/lib/python3.13/site-packages/django/core/handlers/exception.py", "lineno": 55, "message": "in inner"}, {"path": "venv/lib/python3.13/site-packages/django/core/handlers/base.py", "lineno": 198, "message": "in _get_response"}, {"path": "venv/lib/python3.13/site-packages/django/views/decorators/csrf.py", "lineno": 65, "message": "in _view_wrapper"}, {"path": "venv/lib/python3.13/site-packages/django/views/generic/base.py", "lineno": 106, "message": "in view"}, {"path": "venv/lib/python3.13/site-packages/rest_framework/views.py", "lineno": 515, "message": "in dispatch"}, {"path": "venv/lib/python3.13/site-packages/rest_framework/views.py", "lineno": 475, "message": "in handle_exception"}, {"path": "venv/lib/python3.13/site-packages/rest_framework/views.py", "lineno": 486, "message": "in raise_uncaught_exception"}, {"path": "venv/lib/python3.13/site-packages/rest_framework/views.py", "lineno": 503, "message": "in dispatch"}, {"path": "venv/lib/python3.13/site-packages/rest_framework/views.py", "lineno": 420, "message": "in initial"}, {"path": "venv/lib/python3.13/site-packages/rest_framework/views.py", "lineno": 330, "message": "in perform_authentication"}, {"path": "venv/lib/python3.13/site-packages/rest_framework/request.py", "lineno": 232, "message": "in user"}, {"path": "venv/lib/python3.13/site-packages/rest_framework/request.py", "lineno": 385, "message": "in _authenticate"}, {"path": "authentication/adapters/django/jwt_authentication.py", "lineno": 35, "message": "in authenticate"}, {"path": "authentication/application/services/authentication_service.py", "lineno": 35, "message": "in verify"}, {"path": "authentication/application/services/verify_service.py", "lineno": 19, "message": "BusinessException"}], "log": [{"name": "django.request", "msg": "Internal Server Error: /api/auth/google/login/", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/Users/joe/Desktop/hackerton2026/Hackonomics-2026/venv/lib/python3.13/site-packages/django/utils/log.py", "filename": "log.py", "module": "log", "exc_info": null, "exc_text": "Traceback (most recent call last):\n  File \"/Users/joe/Desktop/hackerton2026/Hackonomics-2026/authentication/application/services/verify_service.py\", line 17, in verify\n    payload = self.central_auth.verify(access_token)\n  File \"/Users/joe/Desktop/hackerton2026/Hackonomics-2026/authentication/adapters/django/auth_service.py\", line 57, in verify\n    raise Exception(\"Invalid token\")\nException: Invalid token\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/Users/joe/Desktop/hackerton2026/Hackonomics-2026/venv/lib/python3.13/site-packages/django/core/handlers/exception.py\", line 55, in inner\n    response = get_response(request)\n  File \"/Users/joe/Desktop/hackerton2026/Hackonomics-2026/venv/lib/python3.13/site-packages/django/core/handlers/base.py\", line 198, in _get_response\n    response = wrapped_callback(request, *callback_args, **callback_kwargs)\n  File \"/Users/joe/Desktop/hackerton2026/Hackonomics-2026/venv/lib/python3.13/site-packages/django/views/decorators/csrf.py\", line 65, in _view_wrapper\n    return view_func(request, *args, **kwargs)\n  File \"/Users/joe/Desktop/hackerton2026/Hackonomics-2026/venv/lib/python3.13/site-packages/django/views/generic/base.py\", line 106, in view\n    return self.dispatch(request, *args, **kwargs)\n           ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/Users/joe/Desktop/hackerton2026/Hackonomics-2026/venv/lib/python3.13/site-packages/rest_framework/views.py\", line 515, in dispatch\n    response = self.handle_exception(exc)\n  File \"/Users/joe/Desktop/hackerton2026/Hackonomics-2026/venv/lib/python3.13/site-packages/rest_framework/views.py\", line 475, in handle_exception\n    self.raise_uncaught_exception(exc)\n    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^\n  File \"/Users/joe/Desktop/hackerton2026/Hackonomics-2026/venv/lib/python3.13/site-packages/rest_framework/views.py\", line 486, in raise_uncaught_exception\n    raise exc\n  File \"/Users/joe/Desktop/hackerton2026/Hackonomics-2026/venv/lib/python3.13/site-packages/rest_framework/views.py\", line 503, in dispatch\n    self.initial(request, *args, **kwargs)\n    ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/Users/joe/Desktop/hackerton2026/Hackonomics-2026/venv/lib/python3.13/site-packages/rest_framework/views.py\", line 420, in initial\n    self.perform_authentication(request)\n    ~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^\n  File \"/Users/joe/Desktop/hackerton2026/Hackonomics-2026/venv/lib/python3.13/site-packages/rest_framework/views.py\", line 330, in perform_authentication\n    request.user\n  File \"/Users/joe/Desktop/hackerton2026/Hackonomics-2026/venv/lib/python3.13/site-packages/rest_framework/request.py\", line 232, in user\n    self._authenticate()\n    ~~~~~~~~~~~~~~~~~~^^\n  File \"/Users/joe/Desktop/hackerton2026/Hackonomics-2026/venv/lib/python3.13/site-packages/rest_framework/request.py\", line 385, in _authenticate\n    user_auth_tuple = authenticator.authenticate(self)\n  File \"/Users/joe/Desktop/hackerton2026/Hackonomics-2026/authentication/adapters/django/jwt_authentication.py\", line 35, in authenticate\n    payload = service.verify(token)\n  File \"/Users/joe/Desktop/hackerton2026/Hackonomics-2026/authentication/application/services/authentication_service.py\", line 35, in verify\n    result = service.verify(access_token)\n  File \"/Users/joe/Desktop/hackerton2026/Hackonomics-2026/authentication/application/services/verify_service.py\", line 19, in verify\n    raise BusinessException(ErrorCode.TOKEN_INVALID)\ncommon.errors.exceptions.BusinessException: ErrorCode.TOKEN_INVALID", "stack_info": null, "lineno": 249, "funcName": "log_message", "created": 1770811447.80561, "msecs": 805.0, "relativeCreated": 3006.21, "thread": 8602078784, "threadName": "MainThread", "processName": "MainProcess", "process": 40963, "taskName": null, "request": "<WSGIRequest: GET '/api/auth/google/login/'>", "status_code": 500}], "longrepr": "self = <authentication.application.services.verify_service.VerifyService object at 0x11706e270>\naccess_token = 'testtoken'\n\n    def verify(self, access_token: str) -> dict:\n        if not access_token:\n            raise BusinessException(ErrorCode.UNAUTHORIZED)\n    \n        try:\n>           payload = self.central_auth.verify(access_token)\n                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n\nauthentication/application/services/verify_service.py:17: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <authentication.adapters.django.auth_service.CentralAuthAdapter object at 0x1170042d0>\naccess_token = 'testtoken'\n\n    def verify(self, access_token: str):\n        res = requests.post(\n            f\"{settings.CENTRAL_AUTH_URL}/auth/verify\",\n            headers={\n                \"X-Service-Key\": settings.CENTRAL_AUTH_SERVICE_KEY,\n                \"Authorization\": f\"Bearer {access_token}\",\n            },\n            timeout=settings.CENTRAL_AUTH_TIMEOUT,\n        )\n    \n        if res.status_code != 200:\n>           raise Exception(\"Invalid token\")\nE           Exception: Invalid token\n\nauthentication/adapters/django/auth_service.py:57: Exception\n\nDuring handling of the above exception, another exception occurred:\n\napi_client = <rest_framework.test.APIClient object at 0x1170745d0>\n\n    @pytest.mark.django_db\n    def test_google_login_success(api_client):\n>       response = api_client.get(\"/api/auth/google/login/\")\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n\ntests.py:191: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \nvenv/lib/python3.13/site-packages/rest_framework/test.py:292: in get\n    response = super().get(path, data=data, **extra)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nvenv/lib/python3.13/site-packages/rest_framework/test.py:209: in get\n    return self.generic('GET', path, **r)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nvenv/lib/python3.13/site-packages/rest_framework/test.py:237: in generic\n    return super().generic(\nvenv/lib/python3.13/site-packages/django/test/client.py:671: in generic\n    return self.request(**r)\n           ^^^^^^^^^^^^^^^^^\nvenv/lib/python3.13/site-packages/rest_framework/test.py:289: in request\n    return super().request(**kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^\nvenv/lib/python3.13/site-packages/rest_framework/test.py:241: in request\n    request = super().request(**kwargs)\n              ^^^^^^^^^^^^^^^^^^^^^^^^^\nvenv/lib/python3.13/site-packages/django/test/client.py:1087: in request\n    self.check_exception(response)\nvenv/lib/python3.13/site-packages/django/test/client.py:802: in check_exception\n    raise exc_value\nvenv/lib/python3.13/site-packages/django/core/handlers/exception.py:55: in inner\n    response = get_response(request)\n               ^^^^^^^^^^^^^^^^^^^^^\nvenv/lib/python3.13/site-packages/django/core/handlers/base.py:198: in _get_response\n    response = wrapped_callback(request, *callback_args, **callback_kwargs)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nvenv/lib/python3.13/site-packages/django/views/decorators/csrf.py:65: in _view_wrapper\n    return view_func(request, *args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nvenv/lib/python3.13/site-packages/django/views/generic/base.py:106: in view\n    return self.dispatch(request, *args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nvenv/lib/python3.13/site-packages/rest_framework/views.py:515: in dispatch\n    response = self.handle_exception(exc)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^\nvenv/lib/python3.13/site-packages/rest_framework/views.py:475: in handle_exception\n    self.raise_uncaught_exception(exc)\nvenv/lib/python3.13/site-packages/rest_framework/views.py:486: in raise_uncaught_exception\n    raise exc\nvenv/lib/python3.13/site-packages/rest_framework/views.py:503: in dispatch\n    self.initial(request, *args, **kwargs)\nvenv/lib/python3.13/site-packages/rest_framework/views.py:420: in initial\n    self.perform_authentication(request)\nvenv/lib/python3.13/site-packages/rest_framework/views.py:330: in perform_authentication\n    request.user\nvenv/lib/python3.13/site-packages/rest_framework/request.py:232: in user\n    self._authenticate()\nvenv/lib/python3.13/site-packages/rest_framework/request.py:385: in _authenticate\n    user_auth_tuple = authenticator.authenticate(self)\n                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nauthentication/adapters/django/jwt_authentication.py:35: in authenticate\n    payload = service.verify(token)\n              ^^^^^^^^^^^^^^^^^^^^^\nauthentication/application/services/authentication_service.py:35: in verify\n    result = service.verify(access_token)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <authentication.application.services.verify_service.VerifyService object at 0x11706e270>\naccess_token = 'testtoken'\n\n    def verify(self, access_token: str) -> dict:\n        if not access_token:\n            raise BusinessException(ErrorCode.UNAUTHORIZED)\n    \n        try:\n            payload = self.central_auth.verify(access_token)\n        except Exception:\n>           raise BusinessException(ErrorCode.TOKEN_INVALID)\nE           common.errors.exceptions.BusinessException: ErrorCode.TOKEN_INVALID\n\nauthentication/application/services/verify_service.py:19: BusinessException"}, "teardown": {"duration": 0.004512457991950214, "outcome": "passed"}}, {"nodeid": "tests.py::test_logout_empty_payload", "lineno": 194, "outcome": "failed", "keywords": ["test_logout_empty_payload", "django_db", "pytestmark", "tests.py", "Hackonomics-2026", ""], "setup": {"duration": 0.0006606660026591271, "outcome": "passed"}, "call": {"duration": 0.003707583004143089, "outcome": "failed", "crash": {"path": "/Users/joe/Desktop/hackerton2026/Hackonomics-2026/authentication/application/services/verify_service.py", "lineno": 19, "message": "common.errors.exceptions.BusinessException: ErrorCode.TOKEN_INVALID"}, "traceback": [{"path": "tests.py", "lineno": 197, "message": ""}, {"path": "venv/lib/python3.13/site-packages/rest_framework/test.py", "lineno": 299, "message": "in post"}, {"path": "venv/lib/python3.13/site-packages/rest_framework/test.py", "lineno": 213, "message": "in post"}, {"path": "venv/lib/python3.13/site-packages/rest_framework/test.py", "lineno": 237, "message": "in generic"}, {"path": "venv/lib/python3.13/site-packages/django/test/client.py", "lineno": 671, "message": "in generic"}, {"path": "venv/lib/python3.13/site-packages/rest_framework/test.py", "lineno": 289, "message": "in request"}, {"path": "venv/lib/python3.13/site-packages/rest_framework/test.py", "lineno": 241, "message": "in request"}, {"path": "venv/lib/python3.13/site-packages/django/test/client.py", "lineno": 1087, "message": "in request"}, {"path": "venv/lib/python3.13/site-packages/django/test/client.py", "lineno": 802, "message": "in check_exception"}, {"path": "venv/lib/python3.13/site-packages/django/core/handlers/exception.py", "lineno": 55, "message": "in inner"}, {"path": "venv/lib/python3.13/site-packages/django/core/handlers/base.py", "lineno": 198, "message": "in _get_response"}, {"path": "venv/lib/python3.13/site-packages/django/views/decorators/csrf.py", "lineno": 65, "message": "in _view_wrapper"}, {"path": "venv/lib/python3.13/site-packages/django/views/generic/base.py", "lineno": 106, "message": "in view"}, {"path": "venv/lib/python3.13/site-packages/rest_framework/views.py", "lineno": 515, "message": "in dispatch"}, {"path": "venv/lib/python3.13/site-packages/rest_framework/views.py", "lineno": 475, "message": "in handle_exception"}, {"path": "venv/lib/python3.13/site-packages/rest_framework/views.py", "lineno": 486, "message": "in raise_uncaught_exception"}, {"path": "venv/lib/python3.13/site-packages/rest_framework/views.py", "lineno": 503, "message": "in dispatch"}, {"path": "venv/lib/python3.13/site-packages/rest_framework/views.py", "lineno": 420, "message": "in initial"}, {"path": "venv/lib/python3.13/site-packages/rest_framework/views.py", "lineno": 330, "message": "in perform_authentication"}, {"path": "venv/lib/python3.13/site-packages/rest_framework/request.py", "lineno": 232, "message": "in user"}, {"path": "venv/lib/python3.13/site-packages/rest_framework/request.py", "lineno": 385, "message": "in _authenticate"}, {"path": "authentication/adapters/django/jwt_authentication.py", "lineno": 35, "message": "in authenticate"}, {"path": "authentication/application/services/authentication_service.py", "lineno": 35, "message": "in verify"}, {"path": "authentication/application/services/verify_service.py", "lineno": 19, "message": "BusinessException"}], "log": [{"name": "django.request", "msg": "Internal Server Error: /api/auth/logout/", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/Users/joe/Desktop/hackerton2026/Hackonomics-2026/venv/lib/python3.13/site-packages/django/utils/log.py", "filename": "log.py", "module": "log", "exc_info": null, "exc_text": "Traceback (most recent call last):\n  File \"/Users/joe/Desktop/hackerton2026/Hackonomics-2026/authentication/application/services/verify_service.py\", line 17, in verify\n    payload = self.central_auth.verify(access_token)\n  File \"/Users/joe/Desktop/hackerton2026/Hackonomics-2026/authentication/adapters/django/auth_service.py\", line 57, in verify\n    raise Exception(\"Invalid token\")\nException: Invalid token\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/Users/joe/Desktop/hackerton2026/Hackonomics-2026/venv/lib/python3.13/site-packages/django/core/handlers/exception.py\", line 55, in inner\n    response = get_response(request)\n  File \"/Users/joe/Desktop/hackerton2026/Hackonomics-2026/venv/lib/python3.13/site-packages/django/core/handlers/base.py\", line 198, in _get_response\n    response = wrapped_callback(request, *callback_args, **callback_kwargs)\n  File \"/Users/joe/Desktop/hackerton2026/Hackonomics-2026/venv/lib/python3.13/site-packages/django/views/decorators/csrf.py\", line 65, in _view_wrapper\n    return view_func(request, *args, **kwargs)\n  File \"/Users/joe/Desktop/hackerton2026/Hackonomics-2026/venv/lib/python3.13/site-packages/django/views/generic/base.py\", line 106, in view\n    return self.dispatch(request, *args, **kwargs)\n           ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/Users/joe/Desktop/hackerton2026/Hackonomics-2026/venv/lib/python3.13/site-packages/rest_framework/views.py\", line 515, in dispatch\n    response = self.handle_exception(exc)\n  File \"/Users/joe/Desktop/hackerton2026/Hackonomics-2026/venv/lib/python3.13/site-packages/rest_framework/views.py\", line 475, in handle_exception\n    self.raise_uncaught_exception(exc)\n    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^\n  File \"/Users/joe/Desktop/hackerton2026/Hackonomics-2026/venv/lib/python3.13/site-packages/rest_framework/views.py\", line 486, in raise_uncaught_exception\n    raise exc\n  File \"/Users/joe/Desktop/hackerton2026/Hackonomics-2026/venv/lib/python3.13/site-packages/rest_framework/views.py\", line 503, in dispatch\n    self.initial(request, *args, **kwargs)\n    ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/Users/joe/Desktop/hackerton2026/Hackonomics-2026/venv/lib/python3.13/site-packages/rest_framework/views.py\", line 420, in initial\n    self.perform_authentication(request)\n    ~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^\n  File \"/Users/joe/Desktop/hackerton2026/Hackonomics-2026/venv/lib/python3.13/site-packages/rest_framework/views.py\", line 330, in perform_authentication\n    request.user\n  File \"/Users/joe/Desktop/hackerton2026/Hackonomics-2026/venv/lib/python3.13/site-packages/rest_framework/request.py\", line 232, in user\n    self._authenticate()\n    ~~~~~~~~~~~~~~~~~~^^\n  File \"/Users/joe/Desktop/hackerton2026/Hackonomics-2026/venv/lib/python3.13/site-packages/rest_framework/request.py\", line 385, in _authenticate\n    user_auth_tuple = authenticator.authenticate(self)\n  File \"/Users/joe/Desktop/hackerton2026/Hackonomics-2026/authentication/adapters/django/jwt_authentication.py\", line 35, in authenticate\n    payload = service.verify(token)\n  File \"/Users/joe/Desktop/hackerton2026/Hackonomics-2026/authentication/application/services/authentication_service.py\", line 35, in verify\n    result = service.verify(access_token)\n  File \"/Users/joe/Desktop/hackerton2026/Hackonomics-2026/authentication/application/services/verify_service.py\", line 19, in verify\n    raise BusinessException(ErrorCode.TOKEN_INVALID)\ncommon.errors.exceptions.BusinessException: ErrorCode.TOKEN_INVALID", "stack_info": null, "lineno": 249, "funcName": "log_message", "created": 1770811447.8692732, "msecs": 869.0, "relativeCreated": 3069.873, "thread": 8602078784, "threadName": "MainThread", "processName": "MainProcess", "process": 40963, "taskName": null, "request": "<WSGIRequest: POST '/api/auth/logout/'>", "status_code": 500}], "longrepr": "self = <authentication.application.services.verify_service.VerifyService object at 0x11706fef0>\naccess_token = 'testtoken'\n\n    def verify(self, access_token: str) -> dict:\n        if not access_token:\n            raise BusinessException(ErrorCode.UNAUTHORIZED)\n    \n        try:\n>           payload = self.central_auth.verify(access_token)\n                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n\nauthentication/application/services/verify_service.py:17: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <authentication.adapters.django.auth_service.CentralAuthAdapter object at 0x117005d60>\naccess_token = 'testtoken'\n\n    def verify(self, access_token: str):\n        res = requests.post(\n            f\"{settings.CENTRAL_AUTH_URL}/auth/verify\",\n            headers={\n                \"X-Service-Key\": settings.CENTRAL_AUTH_SERVICE_KEY,\n                \"Authorization\": f\"Bearer {access_token}\",\n            },\n            timeout=settings.CENTRAL_AUTH_TIMEOUT,\n        )\n    \n        if res.status_code != 200:\n>           raise Exception(\"Invalid token\")\nE           Exception: Invalid token\n\nauthentication/adapters/django/auth_service.py:57: Exception\n\nDuring handling of the above exception, another exception occurred:\n\napi_client = <rest_framework.test.APIClient object at 0x112b97d80>\n\n    @pytest.mark.django_db\n    def test_logout_empty_payload(api_client):\n>       response = api_client.post(\n            \"/api/auth/logout/\",\n            data={},\n            format=\"json\",\n        )\n\ntests.py:197: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \nvenv/lib/python3.13/site-packages/rest_framework/test.py:299: in post\n    response = super().post(\nvenv/lib/python3.13/site-packages/rest_framework/test.py:213: in post\n    return self.generic('POST', path, data, content_type, **extra)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nvenv/lib/python3.13/site-packages/rest_framework/test.py:237: in generic\n    return super().generic(\nvenv/lib/python3.13/site-packages/django/test/client.py:671: in generic\n    return self.request(**r)\n           ^^^^^^^^^^^^^^^^^\nvenv/lib/python3.13/site-packages/rest_framework/test.py:289: in request\n    return super().request(**kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^\nvenv/lib/python3.13/site-packages/rest_framework/test.py:241: in request\n    request = super().request(**kwargs)\n              ^^^^^^^^^^^^^^^^^^^^^^^^^\nvenv/lib/python3.13/site-packages/django/test/client.py:1087: in request\n    self.check_exception(response)\nvenv/lib/python3.13/site-packages/django/test/client.py:802: in check_exception\n    raise exc_value\nvenv/lib/python3.13/site-packages/django/core/handlers/exception.py:55: in inner\n    response = get_response(request)\n               ^^^^^^^^^^^^^^^^^^^^^\nvenv/lib/python3.13/site-packages/django/core/handlers/base.py:198: in _get_response\n    response = wrapped_callback(request, *callback_args, **callback_kwargs)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nvenv/lib/python3.13/site-packages/django/views/decorators/csrf.py:65: in _view_wrapper\n    return view_func(request, *args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nvenv/lib/python3.13/site-packages/django/views/generic/base.py:106: in view\n    return self.dispatch(request, *args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nvenv/lib/python3.13/site-packages/rest_framework/views.py:515: in dispatch\n    response = self.handle_exception(exc)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^\nvenv/lib/python3.13/site-packages/rest_framework/views.py:475: in handle_exception\n    self.raise_uncaught_exception(exc)\nvenv/lib/python3.13/site-packages/rest_framework/views.py:486: in raise_uncaught_exception\n    raise exc\nvenv/lib/python3.13/site-packages/rest_framework/views.py:503: in dispatch\n    self.initial(request, *args, **kwargs)\nvenv/lib/python3.13/site-packages/rest_framework/views.py:420: in initial\n    self.perform_authentication(request)\nvenv/lib/python3.13/site-packages/rest_framework/views.py:330: in perform_authentication\n    request.user\nvenv/lib/python3.13/site-packages/rest_framework/request.py:232: in user\n    self._authenticate()\nvenv/lib/python3.13/site-packages/rest_framework/request.py:385: in _authenticate\n    user_auth_tuple = authenticator.authenticate(self)\n                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nauthentication/adapters/django/jwt_authentication.py:35: in authenticate\n    payload = service.verify(token)\n              ^^^^^^^^^^^^^^^^^^^^^\nauthentication/application/services/authentication_service.py:35: in verify\n    result = service.verify(access_token)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <authentication.application.services.verify_service.VerifyService object at 0x11706fef0>\naccess_token = 'testtoken'\n\n    def verify(self, access_token: str) -> dict:\n        if not access_token:\n            raise BusinessException(ErrorCode.UNAUTHORIZED)\n    \n        try:\n            payload = self.central_auth.verify(access_token)\n        except Exception:\n>           raise BusinessException(ErrorCode.TOKEN_INVALID)\nE           common.errors.exceptions.BusinessException: ErrorCode.TOKEN_INVALID\n\nauthentication/application/services/verify_service.py:19: BusinessException"}, "teardown": {"duration": 0.00473691601655446, "outcome": "passed"}}, {"nodeid": "tests.py::test_signup_empty_payload", "lineno": 204, "outcome": "passed", "keywords": ["test_signup_empty_payload", "django_db", "pytestmark", "tests.py", "Hackonomics-2026", ""], "setup": {"duration": 0.0005579169956035912, "outcome": "passed"}, "call": {"duration": 0.0008231670071836561, "outcome": "passed", "log": [{"name": "django.request", "msg": "Bad Request: /api/auth/signup/", "args": null, "levelname": "WARNING", "levelno": 30, "pathname": "/Users/joe/Desktop/hackerton2026/Hackonomics-2026/venv/lib/python3.13/site-packages/django/utils/log.py", "filename": "log.py", "module": "log", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 249, "funcName": "log_message", "created": 1770811447.9290612, "msecs": 929.0, "relativeCreated": 3129.661, "thread": 8602078784, "threadName": "MainThread", "processName": "MainProcess", "process": 40963, "taskName": null, "request": "<WSGIRequest: POST '/api/auth/signup/'>", "status_code": 400}]}, "teardown": {"duration": 0.002341874991543591, "outcome": "passed"}}, {"nodeid": "tests.py::test_refresh_empty_payload", "lineno": 214, "outcome": "failed", "keywords": ["test_refresh_empty_payload", "django_db", "pytestmark", "tests.py", "Hackonomics-2026", ""], "setup": {"duration": 0.0005229160015005618, "outcome": "passed"}, "call": {"duration": 0.0012695000041276217, "outcome": "failed", "crash": {"path": "/Users/joe/Desktop/hackerton2026/Hackonomics-2026/authentication/application/services/refresh_service.py", "lineno": 12, "message": "common.errors.exceptions.BusinessException: ErrorCode.REFRESH_TOKEN_MISSING"}, "traceback": [{"path": "tests.py", "lineno": 217, "message": ""}, {"path": "venv/lib/python3.13/site-packages/rest_framework/test.py", "lineno": 299, "message": "in post"}, {"path": "venv/lib/python3.13/site-packages/rest_framework/test.py", "lineno": 213, "message": "in post"}, {"path": "venv/lib/python3.13/site-packages/rest_framework/test.py", "lineno": 237, "message": "in generic"}, {"path": "venv/lib/python3.13/site-packages/django/test/client.py", "lineno": 671, "message": "in generic"}, {"path": "venv/lib/python3.13/site-packages/rest_framework/test.py", "lineno": 289, "message": "in request"}, {"path": "venv/lib/python3.13/site-packages/rest_framework/test.py", "lineno": 241, "message": "in request"}, {"path": "venv/lib/python3.13/site-packages/django/test/client.py", "lineno": 1087, "message": "in request"}, {"path": "venv/lib/python3.13/site-packages/django/test/client.py", "lineno": 802, "message": "in check_exception"}, {"path": "venv/lib/python3.13/site-packages/django/core/handlers/exception.py", "lineno": 55, "message": "in inner"}, {"path": "venv/lib/python3.13/site-packages/django/core/handlers/base.py", "lineno": 198, "message": "in _get_response"}, {"path": "venv/lib/python3.13/site-packages/django/views/decorators/csrf.py", "lineno": 65, "message": "in _view_wrapper"}, {"path": "venv/lib/python3.13/site-packages/django/views/generic/base.py", "lineno": 106, "message": "in view"}, {"path": "venv/lib/python3.13/site-packages/rest_framework/views.py", "lineno": 515, "message": "in dispatch"}, {"path": "venv/lib/python3.13/site-packages/rest_framework/views.py", "lineno": 475, "message": "in handle_exception"}, {"path": "venv/lib/python3.13/site-packages/rest_framework/views.py", "lineno": 486, "message": "in raise_uncaught_exception"}, {"path": "venv/lib/python3.13/site-packages/rest_framework/views.py", "lineno": 512, "message": "in dispatch"}, {"path": "authentication/presentation/views.py", "lineno": 155, "message": "in post"}, {"path": "authentication/application/services/authentication_service.py", "lineno": 31, "message": "in refresh"}, {"path": "authentication/application/services/refresh_service.py", "lineno": 12, "message": "BusinessException"}], "log": [{"name": "django.request", "msg": "Internal Server Error: /api/auth/refresh/", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/Users/joe/Desktop/hackerton2026/Hackonomics-2026/venv/lib/python3.13/site-packages/django/utils/log.py", "filename": "log.py", "module": "log", "exc_info": null, "exc_text": "Traceback (most recent call last):\n  File \"/Users/joe/Desktop/hackerton2026/Hackonomics-2026/venv/lib/python3.13/site-packages/django/core/handlers/exception.py\", line 55, in inner\n    response = get_response(request)\n  File \"/Users/joe/Desktop/hackerton2026/Hackonomics-2026/venv/lib/python3.13/site-packages/django/core/handlers/base.py\", line 198, in _get_response\n    response = wrapped_callback(request, *callback_args, **callback_kwargs)\n  File \"/Users/joe/Desktop/hackerton2026/Hackonomics-2026/venv/lib/python3.13/site-packages/django/views/decorators/csrf.py\", line 65, in _view_wrapper\n    return view_func(request, *args, **kwargs)\n  File \"/Users/joe/Desktop/hackerton2026/Hackonomics-2026/venv/lib/python3.13/site-packages/django/views/generic/base.py\", line 106, in view\n    return self.dispatch(request, *args, **kwargs)\n           ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/Users/joe/Desktop/hackerton2026/Hackonomics-2026/venv/lib/python3.13/site-packages/rest_framework/views.py\", line 515, in dispatch\n    response = self.handle_exception(exc)\n  File \"/Users/joe/Desktop/hackerton2026/Hackonomics-2026/venv/lib/python3.13/site-packages/rest_framework/views.py\", line 475, in handle_exception\n    self.raise_uncaught_exception(exc)\n    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^\n  File \"/Users/joe/Desktop/hackerton2026/Hackonomics-2026/venv/lib/python3.13/site-packages/rest_framework/views.py\", line 486, in raise_uncaught_exception\n    raise exc\n  File \"/Users/joe/Desktop/hackerton2026/Hackonomics-2026/venv/lib/python3.13/site-packages/rest_framework/views.py\", line 512, in dispatch\n    response = handler(request, *args, **kwargs)\n  File \"/Users/joe/Desktop/hackerton2026/Hackonomics-2026/authentication/presentation/views.py\", line 155, in post\n    tokens = auth_service.refresh(refresh_token)\n  File \"/Users/joe/Desktop/hackerton2026/Hackonomics-2026/authentication/application/services/authentication_service.py\", line 31, in refresh\n    return self.refresh_service.refresh(refresh_token)\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^\n  File \"/Users/joe/Desktop/hackerton2026/Hackonomics-2026/authentication/application/services/refresh_service.py\", line 12, in refresh\n    raise BusinessException(ErrorCode.REFRESH_TOKEN_MISSING)\ncommon.errors.exceptions.BusinessException: ErrorCode.REFRESH_TOKEN_MISSING", "stack_info": null, "lineno": 249, "funcName": "log_message", "created": 1770811447.932715, "msecs": 932.0, "relativeCreated": 3133.315, "thread": 8602078784, "threadName": "MainThread", "processName": "MainProcess", "process": 40963, "taskName": null, "request": "<WSGIRequest: POST '/api/auth/refresh/'>", "status_code": 500}], "longrepr": "api_client = <rest_framework.test.APIClient object at 0x117075020>\n\n    @pytest.mark.django_db\n    def test_refresh_empty_payload(api_client):\n>       response = api_client.post(\n            \"/api/auth/refresh/\",\n            data={},\n            format=\"json\",\n        )\n\ntests.py:217: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \nvenv/lib/python3.13/site-packages/rest_framework/test.py:299: in post\n    response = super().post(\nvenv/lib/python3.13/site-packages/rest_framework/test.py:213: in post\n    return self.generic('POST', path, data, content_type, **extra)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nvenv/lib/python3.13/site-packages/rest_framework/test.py:237: in generic\n    return super().generic(\nvenv/lib/python3.13/site-packages/django/test/client.py:671: in generic\n    return self.request(**r)\n           ^^^^^^^^^^^^^^^^^\nvenv/lib/python3.13/site-packages/rest_framework/test.py:289: in request\n    return super().request(**kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^\nvenv/lib/python3.13/site-packages/rest_framework/test.py:241: in request\n    request = super().request(**kwargs)\n              ^^^^^^^^^^^^^^^^^^^^^^^^^\nvenv/lib/python3.13/site-packages/django/test/client.py:1087: in request\n    self.check_exception(response)\nvenv/lib/python3.13/site-packages/django/test/client.py:802: in check_exception\n    raise exc_value\nvenv/lib/python3.13/site-packages/django/core/handlers/exception.py:55: in inner\n    response = get_response(request)\n               ^^^^^^^^^^^^^^^^^^^^^\nvenv/lib/python3.13/site-packages/django/core/handlers/base.py:198: in _get_response\n    response = wrapped_callback(request, *callback_args, **callback_kwargs)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nvenv/lib/python3.13/site-packages/django/views/decorators/csrf.py:65: in _view_wrapper\n    return view_func(request, *args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nvenv/lib/python3.13/site-packages/django/views/generic/base.py:106: in view\n    return self.dispatch(request, *args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nvenv/lib/python3.13/site-packages/rest_framework/views.py:515: in dispatch\n    response = self.handle_exception(exc)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^\nvenv/lib/python3.13/site-packages/rest_framework/views.py:475: in handle_exception\n    self.raise_uncaught_exception(exc)\nvenv/lib/python3.13/site-packages/rest_framework/views.py:486: in raise_uncaught_exception\n    raise exc\nvenv/lib/python3.13/site-packages/rest_framework/views.py:512: in dispatch\n    response = handler(request, *args, **kwargs)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nauthentication/presentation/views.py:155: in post\n    tokens = auth_service.refresh(refresh_token)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nauthentication/application/services/authentication_service.py:31: in refresh\n    return self.refresh_service.refresh(refresh_token)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <authentication.application.services.refresh_service.RefreshService object at 0x112e80e50>\nrefresh_token = None\n\n    def refresh(self, refresh_token: str) -> dict:\n        if not refresh_token:\n>           raise BusinessException(ErrorCode.REFRESH_TOKEN_MISSING)\nE           common.errors.exceptions.BusinessException: ErrorCode.REFRESH_TOKEN_MISSING\n\nauthentication/application/services/refresh_service.py:12: BusinessException"}, "teardown": {"duration": 0.004666124994400889, "outcome": "passed"}}, {"nodeid": "tests.py::test_auth_me_success", "lineno": 224, "outcome": "failed", "keywords": ["test_auth_me_success", "django_db", "pytestmark", "tests.py", "Hackonomics-2026", ""], "setup": {"duration": 0.0005539999983739108, "outcome": "passed"}, "call": {"duration": 0.0039229170070029795, "outcome": "failed", "crash": {"path": "/Users/joe/Desktop/hackerton2026/Hackonomics-2026/authentication/application/services/verify_service.py", "lineno": 19, "message": "common.errors.exceptions.BusinessException: ErrorCode.TOKEN_INVALID"}, "traceback": [{"path": "tests.py", "lineno": 227, "message": ""}, {"path": "venv/lib/python3.13/site-packages/rest_framework/test.py", "lineno": 292, "message": "in get"}, {"path": "venv/lib/python3.13/site-packages/rest_framework/test.py", "lineno": 209, "message": "in get"}, {"path": "venv/lib/python3.13/site-packages/rest_framework/test.py", "lineno": 237, "message": "in generic"}, {"path": "venv/lib/python3.13/site-packages/django/test/client.py", "lineno": 671, "message": "in generic"}, {"path": "venv/lib/python3.13/site-packages/rest_framework/test.py", "lineno": 289, "message": "in request"}, {"path": "venv/lib/python3.13/site-packages/rest_framework/test.py", "lineno": 241, "message": "in request"}, {"path": "venv/lib/python3.13/site-packages/django/test/client.py", "lineno": 1087, "message": "in request"}, {"path": "venv/lib/python3.13/site-packages/django/test/client.py", "lineno": 802, "message": "in check_exception"}, {"path": "venv/lib/python3.13/site-packages/django/core/handlers/exception.py", "lineno": 55, "message": "in inner"}, {"path": "venv/lib/python3.13/site-packages/django/core/handlers/base.py", "lineno": 198, "message": "in _get_response"}, {"path": "venv/lib/python3.13/site-packages/django/views/decorators/csrf.py", "lineno": 65, "message": "in _view_wrapper"}, {"path": "venv/lib/python3.13/site-packages/django/views/generic/base.py", "lineno": 106, "message": "in view"}, {"path": "venv/lib/python3.13/site-packages/rest_framework/views.py", "lineno": 515, "message": "in dispatch"}, {"path": "venv/lib/python3.13/site-packages/rest_framework/views.py", "lineno": 475, "message": "in handle_exception"}, {"path": "venv/lib/python3.13/site-packages/rest_framework/views.py", "lineno": 486, "message": "in raise_uncaught_exception"}, {"path": "venv/lib/python3.13/site-packages/rest_framework/views.py", "lineno": 503, "message": "in dispatch"}, {"path": "venv/lib/python3.13/site-packages/rest_framework/views.py", "lineno": 420, "message": "in initial"}, {"path": "venv/lib/python3.13/site-packages/rest_framework/views.py", "lineno": 330, "message": "in perform_authentication"}, {"path": "venv/lib/python3.13/site-packages/rest_framework/request.py", "lineno": 232, "message": "in user"}, {"path": "venv/lib/python3.13/site-packages/rest_framework/request.py", "lineno": 385, "message": "in _authenticate"}, {"path": "authentication/adapters/django/jwt_authentication.py", "lineno": 35, "message": "in authenticate"}, {"path": "authentication/application/services/authentication_service.py", "lineno": 35, "message": "in verify"}, {"path": "authentication/application/services/verify_service.py", "lineno": 19, "message": "BusinessException"}], "log": [{"name": "django.request", "msg": "Internal Server Error: /api/auth/me/", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/Users/joe/Desktop/hackerton2026/Hackonomics-2026/venv/lib/python3.13/site-packages/django/utils/log.py", "filename": "log.py", "module": "log", "exc_info": null, "exc_text": "Traceback (most recent call last):\n  File \"/Users/joe/Desktop/hackerton2026/Hackonomics-2026/authentication/application/services/verify_service.py\", line 17, in verify\n    payload = self.central_auth.verify(access_token)\n  File \"/Users/joe/Desktop/hackerton2026/Hackonomics-2026/authentication/adapters/django/auth_service.py\", line 57, in verify\n    raise Exception(\"Invalid token\")\nException: Invalid token\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/Users/joe/Desktop/hackerton2026/Hackonomics-2026/venv/lib/python3.13/site-packages/django/core/handlers/exception.py\", line 55, in inner\n    response = get_response(request)\n  File \"/Users/joe/Desktop/hackerton2026/Hackonomics-2026/venv/lib/python3.13/site-packages/django/core/handlers/base.py\", line 198, in _get_response\n    response = wrapped_callback(request, *callback_args, **callback_kwargs)\n  File \"/Users/joe/Desktop/hackerton2026/Hackonomics-2026/venv/lib/python3.13/site-packages/django/views/decorators/csrf.py\", line 65, in _view_wrapper\n    return view_func(request, *args, **kwargs)\n  File \"/Users/joe/Desktop/hackerton2026/Hackonomics-2026/venv/lib/python3.13/site-packages/django/views/generic/base.py\", line 106, in view\n    return self.dispatch(request, *args, **kwargs)\n           ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/Users/joe/Desktop/hackerton2026/Hackonomics-2026/venv/lib/python3.13/site-packages/rest_framework/views.py\", line 515, in dispatch\n    response = self.handle_exception(exc)\n  File \"/Users/joe/Desktop/hackerton2026/Hackonomics-2026/venv/lib/python3.13/site-packages/rest_framework/views.py\", line 475, in handle_exception\n    self.raise_uncaught_exception(exc)\n    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^\n  File \"/Users/joe/Desktop/hackerton2026/Hackonomics-2026/venv/lib/python3.13/site-packages/rest_framework/views.py\", line 486, in raise_uncaught_exception\n    raise exc\n  File \"/Users/joe/Desktop/hackerton2026/Hackonomics-2026/venv/lib/python3.13/site-packages/rest_framework/views.py\", line 503, in dispatch\n    self.initial(request, *args, **kwargs)\n    ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/Users/joe/Desktop/hackerton2026/Hackonomics-2026/venv/lib/python3.13/site-packages/rest_framework/views.py\", line 420, in initial\n    self.perform_authentication(request)\n    ~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^\n  File \"/Users/joe/Desktop/hackerton2026/Hackonomics-2026/venv/lib/python3.13/site-packages/rest_framework/views.py\", line 330, in perform_authentication\n    request.user\n  File \"/Users/joe/Desktop/hackerton2026/Hackonomics-2026/venv/lib/python3.13/site-packages/rest_framework/request.py\", line 232, in user\n    self._authenticate()\n    ~~~~~~~~~~~~~~~~~~^^\n  File \"/Users/joe/Desktop/hackerton2026/Hackonomics-2026/venv/lib/python3.13/site-packages/rest_framework/request.py\", line 385, in _authenticate\n    user_auth_tuple = authenticator.authenticate(self)\n  File \"/Users/joe/Desktop/hackerton2026/Hackonomics-2026/authentication/adapters/django/jwt_authentication.py\", line 35, in authenticate\n    payload = service.verify(token)\n  File \"/Users/joe/Desktop/hackerton2026/Hackonomics-2026/authentication/application/services/authentication_service.py\", line 35, in verify\n    result = service.verify(access_token)\n  File \"/Users/joe/Desktop/hackerton2026/Hackonomics-2026/authentication/application/services/verify_service.py\", line 19, in verify\n    raise BusinessException(ErrorCode.TOKEN_INVALID)\ncommon.errors.exceptions.BusinessException: ErrorCode.TOKEN_INVALID", "stack_info": null, "lineno": 249, "funcName": "log_message", "created": 1770811447.9895759, "msecs": 989.0, "relativeCreated": 3190.176, "thread": 8602078784, "threadName": "MainThread", "processName": "MainProcess", "process": 40963, "taskName": null, "request": "<WSGIRequest: GET '/api/auth/me/'>", "status_code": 500}], "longrepr": "self = <authentication.application.services.verify_service.VerifyService object at 0x117095790>\naccess_token = 'testtoken'\n\n    def verify(self, access_token: str) -> dict:\n        if not access_token:\n            raise BusinessException(ErrorCode.UNAUTHORIZED)\n    \n        try:\n>           payload = self.central_auth.verify(access_token)\n                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n\nauthentication/application/services/verify_service.py:17: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <authentication.adapters.django.auth_service.CentralAuthAdapter object at 0x117005400>\naccess_token = 'testtoken'\n\n    def verify(self, access_token: str):\n        res = requests.post(\n            f\"{settings.CENTRAL_AUTH_URL}/auth/verify\",\n            headers={\n                \"X-Service-Key\": settings.CENTRAL_AUTH_SERVICE_KEY,\n                \"Authorization\": f\"Bearer {access_token}\",\n            },\n            timeout=settings.CENTRAL_AUTH_TIMEOUT,\n        )\n    \n        if res.status_code != 200:\n>           raise Exception(\"Invalid token\")\nE           Exception: Invalid token\n\nauthentication/adapters/django/auth_service.py:57: Exception\n\nDuring handling of the above exception, another exception occurred:\n\napi_client = <rest_framework.test.APIClient object at 0x117074b50>\n\n    @pytest.mark.django_db\n    def test_auth_me_success(api_client):\n>       response = api_client.get(\"/api/auth/me/\")\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n\ntests.py:227: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \nvenv/lib/python3.13/site-packages/rest_framework/test.py:292: in get\n    response = super().get(path, data=data, **extra)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nvenv/lib/python3.13/site-packages/rest_framework/test.py:209: in get\n    return self.generic('GET', path, **r)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nvenv/lib/python3.13/site-packages/rest_framework/test.py:237: in generic\n    return super().generic(\nvenv/lib/python3.13/site-packages/django/test/client.py:671: in generic\n    return self.request(**r)\n           ^^^^^^^^^^^^^^^^^\nvenv/lib/python3.13/site-packages/rest_framework/test.py:289: in request\n    return super().request(**kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^\nvenv/lib/python3.13/site-packages/rest_framework/test.py:241: in request\n    request = super().request(**kwargs)\n              ^^^^^^^^^^^^^^^^^^^^^^^^^\nvenv/lib/python3.13/site-packages/django/test/client.py:1087: in request\n    self.check_exception(response)\nvenv/lib/python3.13/site-packages/django/test/client.py:802: in check_exception\n    raise exc_value\nvenv/lib/python3.13/site-packages/django/core/handlers/exception.py:55: in inner\n    response = get_response(request)\n               ^^^^^^^^^^^^^^^^^^^^^\nvenv/lib/python3.13/site-packages/django/core/handlers/base.py:198: in _get_response\n    response = wrapped_callback(request, *callback_args, **callback_kwargs)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nvenv/lib/python3.13/site-packages/django/views/decorators/csrf.py:65: in _view_wrapper\n    return view_func(request, *args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nvenv/lib/python3.13/site-packages/django/views/generic/base.py:106: in view\n    return self.dispatch(request, *args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nvenv/lib/python3.13/site-packages/rest_framework/views.py:515: in dispatch\n    response = self.handle_exception(exc)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^\nvenv/lib/python3.13/site-packages/rest_framework/views.py:475: in handle_exception\n    self.raise_uncaught_exception(exc)\nvenv/lib/python3.13/site-packages/rest_framework/views.py:486: in raise_uncaught_exception\n    raise exc\nvenv/lib/python3.13/site-packages/rest_framework/views.py:503: in dispatch\n    self.initial(request, *args, **kwargs)\nvenv/lib/python3.13/site-packages/rest_framework/views.py:420: in initial\n    self.perform_authentication(request)\nvenv/lib/python3.13/site-packages/rest_framework/views.py:330: in perform_authentication\n    request.user\nvenv/lib/python3.13/site-packages/rest_framework/request.py:232: in user\n    self._authenticate()\nvenv/lib/python3.13/site-packages/rest_framework/request.py:385: in _authenticate\n    user_auth_tuple = authenticator.authenticate(self)\n                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nauthentication/adapters/django/jwt_authentication.py:35: in authenticate\n    payload = service.verify(token)\n              ^^^^^^^^^^^^^^^^^^^^^\nauthentication/application/services/authentication_service.py:35: in verify\n    result = service.verify(access_token)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <authentication.application.services.verify_service.VerifyService object at 0x117095790>\naccess_token = 'testtoken'\n\n    def verify(self, access_token: str) -> dict:\n        if not access_token:\n            raise BusinessException(ErrorCode.UNAUTHORIZED)\n    \n        try:\n            payload = self.central_auth.verify(access_token)\n        except Exception:\n>           raise BusinessException(ErrorCode.TOKEN_INVALID)\nE           common.errors.exceptions.BusinessException: ErrorCode.TOKEN_INVALID\n\nauthentication/application/services/verify_service.py:19: BusinessException"}, "teardown": {"duration": 0.0602301670005545, "outcome": "passed"}}]}